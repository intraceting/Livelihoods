%!PS
%%Version: 3.15
%%DocumentFonts: (atend)
%%Pages: (atend)
%%EndComments
%ident	"@(#)lp:filter/postscript/postscript/dpost.ps	1.1"
%
% Version 3.15 prologue for troff files.
%

/#copies 1 store
/aspectratio 1 def
/formsperpage 1 def
/landscape false def
/linewidth .3 def
/magnification 1 def
/margin 0 def
/orientation 0 def
/resolution 720 def
/xoffset 0 def
/yoffset 0 def

/roundpage true def
/useclippath true def
/pagebbox [0 0 612 792] def

/R  /Times-Roman def
/I  /Times-Italic def
/B  /Times-Bold def
/BI /Times-BoldItalic def
/H  /Helvetica def
/HI /Helvetica-Oblique def
/HB /Helvetica-Bold def
/HX /Helvetica-BoldOblique def
/CW /Courier def
/CO /Courier def
/CI /Courier-Oblique def
/CB /Courier-Bold def
/CX /Courier-BoldOblique def
/PA /Palatino-Roman def
/PI /Palatino-Italic def
/PB /Palatino-Bold def
/PX /Palatino-BoldItalic def
/Hr /Helvetica-Narrow def
/Hi /Helvetica-Narrow-Oblique def
/Hb /Helvetica-Narrow-Bold def
/Hx /Helvetica-Narrow-BoldOblique def
/KR /Bookman-Light def
/KI /Bookman-LightItalic def
/KB /Bookman-Demi def
/KX /Bookman-DemiItalic def
/AR /AvantGarde-Book def
/AI /AvantGarde-BookOblique def
/AB /AvantGarde-Demi def
/AX /AvantGarde-DemiOblique def
/NR /NewCenturySchlbk-Roman def
/NI /NewCenturySchlbk-Italic def
/NB /NewCenturySchlbk-Bold def
/NX /NewCenturySchlbk-BoldItalic def
/ZD /ZapfDingbats def
/ZI /ZapfChancery-MediumItalic def
/VR /Varitimes#Roman def
/VI /Varitimes#Italic def
/VB /Varitimes#Bold def
/VX /Varitimes#BoldItalic def
/S  /S def
/S1 /S1 def
/GR /Symbol def

/inch {72 mul} bind def
/min {2 copy gt {exch} if pop} bind def

/setup {
	counttomark 2 idiv {def} repeat pop

	landscape {/orientation 90 orientation add def} if
	/scaling 72 resolution div def
	linewidth setlinewidth
	1 setlinecap

	pagedimensions
	xcenter ycenter translate
	orientation neg rotate
	width 2 div neg height 2 div translate
	xoffset inch yoffset inch translate
	margin 2 div dup neg translate
	magnification dup aspectratio mul scale
	scaling scaling scale

	/Symbol /S Sdefs cf
	/Times-Roman /S1 S1defs cf
	0 0 moveto
} def

/pagedimensions {
	useclippath userdict /gotpagebbox known not and {
		/pagebbox [clippath pathbbox newpath] def
		roundpage currentdict /roundpagebbox known and {roundpagebbox} if
	} if
	pagebbox aload pop
	4 -1 roll exch 4 1 roll 4 copy
	landscape {4 2 roll} if
	sub /width exch def
	sub /height exch def
	add 2 div /xcenter exch def
	add 2 div /ycenter exch def
	userdict /gotpagebbox true put
} def

/pagesetup {
	/page exch def
	currentdict /pagedict known currentdict page known and {
		page load pagedict exch get cvx exec
	} if
} def

/decodingdefs [
	{counttomark 2 idiv {y moveto show} repeat}
	{neg /y exch def counttomark 2 idiv {y moveto show} repeat}
	{neg moveto {2 index stringwidth pop sub exch div 0 32 4 -1 roll widthshow} repeat}
	{neg moveto {spacewidth sub 0.0 32 4 -1 roll widthshow} repeat}
	{counttomark 2 idiv {y moveto show} repeat}
	{neg setfunnytext}
] def

/setdecoding {/t decodingdefs 3 -1 roll get bind def} bind def

/w {neg moveto show} bind def
/m {neg dup /y exch def moveto} bind def
/done {/lastpage where {pop lastpage} if} def

/f {
	dup /font exch def findfont exch
	dup /ptsize exch def scaling div dup /size exch def scalefont setfont
	linewidth ptsize mul scaling 10 mul div setlinewidth
	/spacewidth ( ) stringwidth pop def
} bind def

/changefont {
	/fontheight exch def
	/fontslant exch def
	currentfont [
		1 0
		fontheight ptsize div fontslant sin mul fontslant cos div
		fontheight ptsize div
		0 0
	] makefont setfont
} bind def

/sf {f} bind def

/cf {
	dup length 2 idiv
	/entries exch def
	/chtab exch def
	/newfont exch def

	findfont dup length 1 add dict
	/newdict exch def
	{1 index /FID ne {newdict 3 1 roll put} {pop pop} ifelse} forall

	newdict /Metrics entries dict put
	newdict /Metrics get
	begin
		chtab aload pop
		1 1 entries {pop def} for
		newfont newdict definefont pop
	end
} bind def

%
% A few arrays used to adjust reference points and character widths in some
% of the printer resident fonts. If square roots are too high try changing
% the lines describing /radical and /radicalex to,
%
%	/radical	[0 -75 550 0]
%	/radicalex	[-50 -75 500 0]
%

/Sdefs [
	/bracketlefttp		[220 500]
	/bracketleftbt		[220 500]
	/bracketrighttp		[-70 380]
	/bracketrightbt		[-70 380]
	/braceleftbt		[220 490]
	/bracketrightex		[220 -125 500 0]
	/radical		[0 0 550 0]
	/radicalex		[-50 0 500 0]
	/parenleftex		[-20 -170 0 0]
	/integral		[100 -50 500 0]
	/infinity		[10 -75 730 0]
] def

/S1defs [
	/underscore		[0 80 500 0]
	/endash			[7 90 650 0]
] def
%%EndProlog
%%BeginSetup
mark
/resolution 720 def
setup
2 setdecoding
%%EndSetup
%%Page: 1 1
save
mark
1 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
12 B f
(Microsoft Networks/OpenNET)1 1593 1 2083 1200 t
(FILE SHARING PROTOCOL)2 1607 1 2076 1440 t
(INTEL Part Number 138446)3 1505 1 2127 1800 t
(Document Version 2.0)2 1156 1 2302 2160 t
(November 7, 1988)2 942 1 2409 3000 t
10 I f
(Microsoft Corporation)1 923 1 2418 3240 t
(Intel Corporation)1 717 1 2521 3360 t
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 1 1
%%Page: 2 2
save
mark
2 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1728( 2 -)2 149( -)1 1230(File Sharing Protocol)2 872 5 720 520 t
10 B f
(1. Introduction)1 686 1 720 840 t
10 R f
( use these protocols to)4 944( can)1 176( Systems)1 405(This document describes the MSNET/PCNET \256le sharing protocol.)7 2795 4 720 996 t
( protocols are designed to allow)5 1333( These)1 308( \256le services in a network environment.)6 1650(obtain or provide remote)3 1029 4 720 1116 t
( which are mapped into the)5 1149( Items)1 293( access \256les which reside on remote systems.)7 1888(systems to transparently)2 990 4 720 1236 t
( style)1 255(\256le space \(such as UNIX)4 1029 2 720 1356 t
10 S1 f
(")2037 1356 w
10 R f
(device special \256les)2 770 1 2078 1356 t
10 S1 f
(")2848 1356 w
10 R f
(\) are also transparently shared by these protocols.)7 2029 1 2889 1356 t
( higher level)2 517(When two machines \256rst come into network contact they may negotiate the use of a)14 3462 2 720 1596 t
10 S1 f
(")4733 1596 w
10 R f
(Exten-)4774 1596 w
(sion Protocol)1 542 1 720 1716 t
10 S1 f
(")1262 1716 w
10 R f
( would agree to use the MS-DOS-speci\256c protocol)7 2092( example, two MS-DOS machines)4 1412(. For)1 233 3 1303 1716 t
( include both new messages as well as changes to the \256elds and)12 2883( extensions can)2 666(extensions. These)1 771 3 720 1836 t
( The)1 225(semantics of existing messages.)3 1307 2 720 1956 t
10 S1 f
(")2289 1956 w
10 R f
(Core/Extension Protocol)1 997 1 2330 1956 t
10 S1 f
(")3327 1956 w
10 R f
(de\256nition allows a system to communi-)5 1636 1 3404 1956 t
(cate at a strong, functional level with other)7 1862 1 720 2076 t
10 S1 f
(")2629 2076 w
10 R f
(core)2670 2076 w
10 S1 f
(")2841 2076 w
10 R f
(machines, and to communicate in full transparent)6 2110 1 2930 2076 t
(detail to its)2 479 1 720 2196 t
10 S1 f
(")1241 2196 w
10 R f
(brother)1282 2196 w
10 S1 f
(")1570 2196 w
10 R f
( across a given connection is)5 1225( ability to negotiate the protocol used)6 1590(systems. The)1 572 3 1653 2196 t
( only compatible ver-)3 890(also used, in those cases where multiple versions of a protocol exist, to ensure that)14 3430 2 720 2316 t
(sions of the protocol are used.)5 1238 1 720 2436 t
( a lower level set of protocols that pro-)8 1667(This document assumes the existence of, but does not describe,)9 2653 2 720 2676 t
( it does not discuss the)5 1043( Further,)1 405(vide for virtual circuits and transport between clients and servers.)9 2872 3 720 2796 t
(mechanism used to)2 786 1 720 2916 t
10 S1 f
(")1541 2916 w
10 R f
(identify)1582 2916 w
10 S1 f
(")1893 2916 w
10 R f
(and)1969 2916 w
10 S1 f
(")2148 2916 w
10 R f
(locate)2189 2916 w
10 S1 f
(")2427 2916 w
10 R f
( The)1 224( order to establish said virtual circuit.)6 1556(a correspondent in)2 757 3 2503 2916 t
(details of virtual circuit support for MS-DOS are described in the document)11 3114 1 720 3036 t
10 S1 f
(")3867 3036 w
10 R f
(Transport Layer Interface)2 1039 1 3908 3036 t
10 S1 f
(")4947 3036 w
10 R f
(.)4988 3036 w
10 B f
( Format)1 354(2. Message)1 501 2 720 3276 t
10 R f
( following C-language style de\256nition shows that format.)7 2344( The)1 221(Every message has a common format.)5 1559 3 720 3432 t
(BYTE smb)1 622 1 720 3612 t
10 S f
(_)1342 3612 w
10 R f
( contains 0xFF, 'SMB' */)4 1058(idf[4]; /*)1 494 2 1392 3612 t
(BYTE smb)1 622 1 720 3732 t
10 S f
(_)1342 3732 w
10 R f
( command code */)3 759(com; /*)1 494 2 1392 3732 t
(BYTE smb)1 622 1 720 3852 t
10 S f
(_)1342 3852 w
10 R f
( error code class */)4 785(rcls; /*)1 494 2 1392 3852 t
(BYTE smb)1 622 1 720 3972 t
10 S f
(_)1342 3972 w
10 R f
( reserved \(contains AH if DOS INT-24 ERR\) */)8 1977(reh; /*)1 494 2 1392 3972 t
(WORD smb)1 622 1 720 4092 t
10 S f
(_)1342 4092 w
10 R f
( error code */)3 558(err; /*)1 494 2 1392 4092 t
(BYTE smb)1 622 1 720 4212 t
10 S f
(_)1342 4212 w
10 R f
( reserved */)2 481(reb; /*)1 494 2 1392 4212 t
(WORD smb)1 622 1 720 4332 t
10 S f
(_)1342 4332 w
10 R f
( reserved */)2 481(res[7]; /*)1 494 2 1392 4332 t
(WORD smb)1 622 1 720 4452 t
10 S f
(_)1342 4452 w
10 R f
( tree id)2 293(tid; /*)1 494 2 1392 4452 t
10 S1 f
(#)2212 4452 w
10 R f
(*/)2328 4452 w
(WORD smb)1 622 1 720 4572 t
10 S f
(_)1342 4572 w
10 R f
( caller's process id)3 769(pid; /*)1 494 2 1392 4572 t
10 S1 f
(#)2688 4572 w
10 R f
(*/)2771 4572 w
(WORD smb)1 622 1 720 4692 t
10 S f
(_)1342 4692 w
10 R f
( user id)2 310(uid; /*)1 494 2 1392 4692 t
10 S1 f
(#)2229 4692 w
10 R f
(*/)2312 4692 w
(WORD smb)1 622 1 720 4812 t
10 S f
(_)1342 4812 w
10 R f
( mutiplex id)2 500(mid; /*)1 494 2 1392 4812 t
10 S1 f
(#)2419 4812 w
10 R f
(*/)2535 4812 w
(BYTE smb)1 622 1 720 4932 t
10 S f
(_)1342 4932 w
10 R f
( count of parameter words */)5 1190(wct; /*)1 494 2 1392 4932 t
(WORD smb)1 622 1 720 5052 t
10 S f
(_)1342 5052 w
10 R f
( variable)1 354(vwv[]; /*)1 494 2 1392 5052 t
10 S1 f
(#)2273 5052 w
10 R f
(words of params */)3 792 1 2356 5052 t
(WORD smb)1 622 1 720 5172 t
10 S f
(_)1342 5172 w
10 R f
(bcc; /*)1 494 1 1392 5172 t
10 S1 f
(#)1919 5172 w
10 R f
(bytes of data following */)4 1059 1 2002 5172 t
(BYTE smb)1 622 1 720 5292 t
10 S f
(_)1342 5292 w
10 R f
( data bytes */)3 554(data[]; /*)1 494 2 1392 5292 t
(A BYTE is an octet.)4 845 1 1080 5532 t
(A WORD is two bytes.)4 962 1 1080 5652 t
(The bytes within a word are ordered such that the low byte precedes the high byte.)15 3413 1 1080 5772 t
(smb)720 5988 w
10 S f
(_)887 5988 w
10 R f
(com:command code.)1 840 1 937 5988 t
(smb)720 6144 w
10 S f
(_)887 6144 w
10 R f
(rcls:error class \(see below\).)3 1120 1 937 6144 t
(smb)720 6300 w
10 S f
(_)887 6300 w
10 R f
(ret:error returned \(see below\).)3 1219 1 937 6300 t
(smb)720 6456 w
10 S f
(_)887 6456 w
10 R f
( below\))1 310( \(see)1 226(tid:Used by the server to identify a sub-tree.)7 1814 3 937 6456 t
(smb)720 6612 w
10 S f
(_)887 6612 w
10 R f
( by the consumer to uniquely identify a process within the consu-)11 2710( Generated)1 476(pid:caller's process id.)2 917 3 937 6612 t
(mers system.)1 530 1 970 6732 t
(smb)720 6888 w
10 S f
(_)887 6888 w
10 R f
( A)1 146(mid:this \256eld is reserved for multiplexing multiple messages on a single Virtual Circuit \(VC\).)13 3957 2 937 6888 t
( This)1 247( as the corresponding request message.)5 1607(response message will always contain the same value)7 2216 3 970 7008 t
( one request at)3 606( Only)1 267( multiplexing within a VC.)4 1112(initial version of the core protocol will not support)8 2085 4 970 7128 t
(a time may be outstanding on any VC.)7 1594 1 970 7248 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 2 2
%%Page: 3 3
save
mark
3 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1728( 3 -)2 149( -)1 1230(File Sharing Protocol)2 872 5 720 520 t
10 B f
( Model)1 305(3. Architectural)1 717 2 720 840 t
10 R f
( the net-)2 347(The Network File Access system described in this document deals with two types of systems on)15 3973 2 720 996 t
( requests network \256le services and a server)7 1779( consumer is a system that)5 1107( A)1 141(work -- consumers and servers.)4 1293 4 720 1116 t
( and servers are logical systems; a consumer)7 1869( Consumers)1 522(is a system that delivers network \256le services.)7 1929 3 720 1236 t
(and server may coexist in a single physical system.)8 2103 1 720 1356 t
( network addressing)2 824( The)1 223( to the appropriate server.)4 1062(Consumers are responsible for directing their requests)6 2211 4 720 1596 t
( the server is identi\256ed is outside the scope of this)10 2233(mechanism or naming convention through which)5 2087 2 720 1716 t
(document.)720 1836 w
( are no storage or ser-)5 936( There)1 304( network a self-contained \256le structure.)5 1633(Each server makes available to the)5 1447 4 720 2076 t
( \256le must be entirely contained by a single server.)9 2058( A)1 138(vice dependencies on any other servers.)5 1624 3 720 2196 t
( requires server authentication of users before \256le accesses are allowed.)10 3059(The core \256le sharing protocol)4 1261 2 720 2436 t
( user must)2 439( A)1 144( authenticates its own users.)4 1174(Each server processor)2 904 4 720 2556 t
10 S1 f
(")3420 2556 w
10 R f
(login)3461 2556 w
10 S1 f
(")3667 2556 w
10 R f
(to each server that it wishes to)6 1293 1 3747 2556 t
(access.)720 2676 w
( connects autonomous systems that are willing to make)8 2300(This authentication model assumes that the LAN)6 2020 2 720 2916 t
(some subset of their local \256les available to remote users.)9 2330 1 720 3036 t
(The following environments exist in the core \256le sharing protocol environment.)10 3263 1 720 3276 t
( of one VC established between a consumer system and)9 2302( consists)1 350( This)1 244( Circuit Environment.)2 891(a\) Virtual)1 533 5 720 3432 t
( only a single request active on any VC at any time, i.e., a)13 2513( may have)2 444( Consumers)1 525(server system.)1 588 4 970 3552 t
( VC is)2 308( A)1 156( until the response to the \256rst has been received.)9 2153(second request cannot be initiated)4 1453 4 970 3672 t
(formed using transport services.)3 1305 1 970 3792 t
( TID uniquely identi\256es a \256le)5 1295( is represented by a Tree ID \(TID\). A)8 1662( This)1 258( Environment.)1 594(b\) Logon)1 511 5 720 3948 t
( identi\256es the scope and type of)6 1451( also)1 218( It)1 151(sharing connection between a consumer and server.)6 2250 4 970 4068 t
( Connect and Negotiate)3 1003( the exception of the Tree)5 1122( With)1 278(accesses allowed across the connection.)4 1667 4 970 4188 t
( may be any)3 560( There)1 315( valid TID.)2 491(commands, the TID \256eld in a message must always contain a)10 2704 4 970 4308 t
(number of \256le sharing connections per VC.)6 1776 1 970 4428 t
( PID uniquely identi\256es a)4 1110( A)1 152( by a process ID \(PID\).)5 1035( is represented)2 618( This)1 257( Environment.)1 593(c\) Process)1 555 7 720 4584 t
(consumer process within a given VC environment.)6 2076 1 970 4704 t
( identi\256es an open \256le and)5 1117( FID)1 198( A)1 142( is represented by a File Handle \(FID\).)7 1625( This)1 248( Environment.)1 584(d\) File)1 406 7 720 4860 t
(is unique within a given VC environment.)6 1728 1 970 4980 t
( terminated, all environments contained within it will be terminated.)9 2849(When one of these environments is)5 1471 2 720 5136 t
(For example, if a VC is terminated all PIDs, TIDs and FIDs within it will be invalidated.)16 3673 1 720 5256 t
10 B f
( Management)1 593(3.1. Process)1 537 2 720 5496 t
10 R f
( destroy processes is, of course, an implementation issue and there is)11 2908(How and when servers create and)5 1412 2 720 5652 t
( it is)2 219( However,)1 471( be tied in any way to the consumer's process management.)10 2606(no requirement that this)3 1024 4 720 5772 t
( to be aware of the consumer's process management activities as \256les are)12 3287(necessary for the server)3 1033 2 720 5892 t
( sharing protocol includes appropriate)4 1630( the \256le)2 360( Therefore)1 480(accessed on behalf of consumer processes.)5 1850 4 720 6012 t
(noti\256cations.)720 6132 w
( Negotiate, include a process ID \(PID\) to indicate which user process initiated a)13 3442(All messages, except)2 878 2 720 6372 t
( a new process by simply introducing a new PID)9 2074( inform servers of the creation of)6 1409(request. Consumers)1 837 3 720 6492 t
( destruction must be explicitly indicated and the)7 2030( Process)1 379(into the dialogue.)2 729 3 720 6612 t
10 S1 f
(")3899 6612 w
10 R f
(Process Exit)1 514 1 3940 6612 t
10 S1 f
(")4454 6612 w
10 R f
(command is)1 503 1 4537 6612 t
( Exit command whenever a user process is)7 1769(provided for this purpose. The consumer must send a Process)9 2551 2 720 6732 t
( the server to free any resources \(e.g., locks\) reserved by that process as well as)15 3327( enables)1 334(destroyed. This)1 659 3 720 6852 t
(perform any local process management activities that its implementation might require.)10 3573 1 720 6972 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 3 3
%%Page: 4 4
save
mark
4 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1728( 4 -)2 149( -)1 1230(File Sharing Protocol)2 872 5 720 520 t
10 B f
( Sharing Connections)2 934(4. File)1 302 2 720 840 t
10 R f
( \256le sharing protocol will contain not only multi-user systems with user based)12 3314(The networks using this)3 1006 2 720 996 t
( these)1 243( Once)1 281( have no concept of user-ids or permissions.)7 1849(protection models, but single-user systems that)5 1947 4 720 1116 t
( network, however, they are in a multi-user environment and need a)11 3010(machines are connected to the)4 1310 2 720 1236 t
( unprotected machines need to be able to provide some sort of bona-)12 2956( First,)1 286( access control.)2 650(method of)1 428 4 720 1356 t
( to control)2 443(\256des to other net machines which do have permissions, secondly unprotected machines need)12 3877 2 720 1476 t
(access to their \256les by others.)5 1216 1 720 1596 t
( software to provide the protection where it)7 1825(This protocol de\256nes a mechanism that enables the network)8 2495 2 720 1836 t
( from the operating system, and supports user based protection where it is provided by the)15 3895(is missing)1 425 2 720 1956 t
( access)1 288(operating system. The mechanism also allows machines with no concept of user-id to demonstrate)13 4032 2 720 2076 t
( the permission protocol is)4 1125( Finally,)1 383( mechanism.)1 521(authorization to machines which do have a permission)7 2291 4 720 2196 t
(designed so that it can be omitted if both machines share a common permission mechanism.)14 3789 1 720 2316 t
(This protocol, called the)3 1019 1 720 2556 t
10 S1 f
(")1780 2556 w
10 R f
(tree connection)1 628 1 1821 2556 t
10 S1 f
(")2449 2556 w
10 R f
( user)1 208( possible)1 369( A)1 146(protocol, does not specify a user interface.)6 1786 4 2531 2556 t
(interface will be described by way of illustration.)7 2019 1 720 2676 t
10 B f
( Server Machines)2 759(4.1. Unprotected)1 748 2 720 2916 t
10 R f
(The following examples apply to access to serving systems which do not have a permission mechanism.)15 4282 1 720 3072 t
(a\) NET SHARE)2 665 1 720 3312 t
( a user)2 294( Should)1 359(By default \(on unprotected machines\) all network requests are refused as unauthorized.)11 3667 3 720 3468 t
( his \256les he offers access to an arbitrary set of subtrees by specify-)13 2750(wish to allow access to some or all of)8 1570 2 720 3588 t
(ing each subtree and a password.)5 1353 1 720 3708 t
(Examples:)1080 3888 w
(NET SHARE)1 555 1 1080 4128 t
10 S1 f
(\\)1701 4128 w
10 R f
(dir1)1729 4128 w
10 S1 f
(")1956 4128 w
10 R f
(bonzo)1997 4128 w
10 S1 f
(")2241 4128 w
10 R f
(assign password)1 660 1 970 4308 t
10 S1 f
(")1663 4308 w
10 R f
(bonzo)1704 4308 w
10 S1 f
(")1948 4308 w
10 R f
(to all \256les within directory)4 1093 1 2022 4308 t
10 S1 f
(")3148 4308 w
10 R f
(dir1)3189 4308 w
10 S1 f
(")3350 4308 w
10 R f
(and its subdirectories.)2 890 1 3424 4308 t
(NET SHARE)1 555 1 1080 4488 t
10 S1 f
( ")1 74(\\ ")1 333 2 1701 4488 t
10 R f
(RO)2306 4488 w
(NET SHARE)1 555 1 1080 4728 t
10 S1 f
(\\)1701 4728 w
10 R f
(work)1729 4728 w
10 S1 f
(")2000 4728 w
10 R f
(\257ipper)2041 4728 w
10 S1 f
(")2302 4728 w
10 R f
(RW)2409 4728 w
( subdirectories\))1 640(offer read-only access to everything \(all \256les are within the root directory or its)13 3430 2 970 4908 t
(Offer read-write access to all \256les within the)7 1832 1 970 5028 t
10 S1 f
(\\)2835 5028 w
10 R f
(work directory and its subdirectories.)4 1521 1 2863 5028 t
(b\) NET USE)2 532 1 720 5148 t
( NET)1 228( the)1 155( Once)1 276(Other users can gain access to one or more offered subtrees via the NET USE command.)15 3661 4 720 5304 t
(USE command is issued the user can access the \256les freely without further special requirements.)14 3963 1 720 5424 t
(Examples:)1080 5604 w
(1. NET USE)2 524 1 1080 5844 t
10 S1 f
(\\\\)1670 5844 w
10 R f
(machine-name)1726 5844 w
10 S1 f
(\\)2313 5844 w
10 R f
(dir1)2341 5844 w
10 S1 f
(")2568 5844 w
10 R f
(bonzo)2609 5844 w
10 S1 f
(")2853 5844 w
10 R f
(now any pathname starting with)4 1314 1 970 6024 t
10 S1 f
(\\\\)2317 6024 w
10 R f
(machine-name)2373 6024 w
10 S1 f
(\\)2960 6024 w
10 R f
(dir1 is valid.)2 519 1 2988 6024 t
(2. NET USE)2 524 1 1080 6204 t
10 S1 f
(\\\\)1670 6204 w
10 R f
(machine-name)1726 6204 w
10 S1 f
(\\)2313 6204 w
10 R f
(3. NET USE)2 524 1 1080 6444 t
10 S1 f
(\\\\)1670 6444 w
10 R f
(machine-name)1726 6444 w
10 S1 f
(\\)2313 6444 w
10 R f
(work)2341 6444 w
10 S1 f
(")2612 6444 w
10 R f
(\257ipper)2653 6444 w
10 S1 f
(")2914 6444 w
10 R f
( request to any \256le on that machine is valid. Read-write requests only succeed to)14 3475(Now any read)2 595 2 970 6624 t
(\256les whose pathnames start with)4 1331 1 970 6744 t
10 S1 f
(\\\\)2334 6744 w
10 R f
(machine-name)2390 6744 w
10 S1 f
(\\)2977 6744 w
10 R f
(work)3005 6744 w
( remember the machine-name pathname pre\256x combination supplied with the NET)10 3517(The requester must)2 803 2 720 6864 t
( requests using this)3 788( Subsequent)1 527(USE request and associate it with the index value returned by the server.)12 3005 3 720 6984 t
( relative to the connected subtree as the server treats the subtree as)12 2756(index must include only the pathname)5 1564 2 720 7104 t
(the root directory.)2 734 1 720 7224 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 4 4
%%Page: 5 5
save
mark
5 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1728( 5 -)2 149( -)1 1230(File Sharing Protocol)2 872 5 720 520 t
( \256le access request for the server, it looks through its list of pre\256xes for that)15 3258(When the requester has a)4 1062 2 720 840 t
( then includes the index associated with this)7 1813( It)1 127(machine and selects the most speci\256c \(the longest\) match.)8 2380 3 720 960 t
(pre\256x in his request along with the remainder of the pathname.)10 2590 1 720 1080 t
( a par-)2 274( If)1 133(Note that one always offers a directory and all \256les underneath that directory are then affected.)15 3913 3 720 1320 t
( offer ranges gains)3 811(ticular \256le is within the range of multiple offer ranges, connecting to any of the)14 3509 2 720 1440 t
( server will)2 479( The)1 228( for the offer named in the NET USE.)8 1625(access to the \256le with the permissions speci\256ed)7 1988 4 720 1560 t
(not check for nested directories with more restrictive permissions.)8 2701 1 720 1680 t
10 B f
( Server Machines)2 759(4.2. Protected)1 625 2 720 1920 t
10 R f
( interpret the Tree Connect command slightly dif-)7 2122(Servers with user based \256le protection schemes will)7 2198 2 720 2076 t
( interpret the)2 530( They)1 273( \256le oriented \256le protection schemes.)5 1526(ferently from systems with)3 1107 4 720 2196 t
10 S1 f
(")4191 2196 w
10 R f
(name)4232 2196 w
10 S1 f
(")4448 2196 w
10 R f
(parameter as)1 516 1 4524 2196 t
( this request is received, the username is validated and a TID)11 2549( When)1 307( a pathname.)2 529(a username rather than)3 935 4 720 2316 t
( TID must be included in all further)7 1493( This)1 246( the user is returned.)4 852(representing that authenticated instance of)4 1729 4 720 2436 t
(requests made on behalf of the user.)6 1486 1 720 2556 t
( it sets up)3 537(The permission-based system need not execute a NET SHARE command; instead)10 3783 2 720 2796 t
( accessing user would type)4 1102( The)1 221(name/password \(or whatever\) information in its user de\256nition \256les.)8 2786 3 720 2916 t
(NET USE)1 416 1 1080 3096 t
10 S1 f
(\\\\)1562 3096 w
10 R f
(machine-name)1618 3096 w
10 S1 f
(\\)2205 3096 w
10 R f
(account-name)2233 3096 w
10 S1 f
(<)2858 3096 w
10 R f
(password)2914 3096 w
10 S1 f
(>)3291 3096 w
10 R f
(and thereby)1 492 1 720 3276 t
10 S1 f
(")1261 3276 w
10 R f
(login)1302 3276 w
10 S1 f
(")1508 3276 w
10 R f
( so forth because the)4 920( need not specify subtrees and)5 1320( He)1 198(to the serving machine.)3 1004 4 1598 3276 t
(account-name/password pair establishes access permissions to everything on that machine.)9 3699 1 720 3396 t
( with user based pro-)4 881( Servers)1 368( \256le system.)2 503(This variation of Tree Connect is an aspect of the the server's)11 2568 4 720 3636 t
( of)1 126( Users)1 303( the name supplied with Tree Connect as a user name.)10 2334(tection schemes will always interpret)4 1557 4 720 3756 t
(Tree Connect simply provide a)4 1293 1 720 3876 t
10 S1 f
(")2052 3876 w
10 R f
(name)2093 3876 w
10 S1 f
(")2309 3876 w
10 R f
(and its associated)2 727 1 2389 3876 t
10 S1 f
(")3155 3876 w
10 R f
(password)3196 3876 w
10 S1 f
(")3573 3876 w
10 R f
( not need to be aware of)6 1048(; they do)2 378 2 3614 3876 t
( the name and password are successfully authenticated the)8 2490( If)1 146(the server's interpretation of that name.)5 1684 3 720 3996 t
( the name in the modes allowed by the server \(also)10 2154(caller receives access to the set of \256les protected by)9 2166 2 720 4116 t
(determined by the name/password pair\).)4 1637 1 720 4236 t
10 B f
( Protocols)1 432(4.3. Connection)1 705 2 720 4476 t
10 R f
( server package remembers the path-)5 1539( The)1 228( generates no network messages.)4 1365(The NET SHARE command)3 1188 4 720 4632 t
(name pre\256x and the password.)4 1249 1 720 4752 t
( The)1 238( command generates a message containing the path/username and the password.)10 3446(The NET USE)2 636 3 720 4992 t
( full name \(path)3 665( The)1 223( returns an error code or an identi\256er.)7 1560(serving machine veri\256es the combination and)5 1872 4 720 5112 t
( is)1 105(or user\) is included in the Tree Connect request message and the identi\256er identifying the connection)15 4215 2 720 5232 t
(returned in the smb)3 822 1 720 5352 t
10 S f
(_)1542 5352 w
10 R f
( meaning of this identi\256er \(tid\) is server speci\256c; the requester must)11 2870( The)1 228(tid \256eld.)1 350 3 1592 5352 t
(not associate any speci\256c meaning to it.)6 1638 1 720 5472 t
( it is an index into a server table)8 1428( Normally)1 460( tid \256eld it desires.)4 818(The server makes whatever use of the)6 1614 4 720 5712 t
(which allows the server to optimize its response.)7 1998 1 720 5832 t
10 B f
( Connect)1 388(4.4. Tree)1 415 2 720 6072 t
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 5 5
%%Page: 6 6
save
mark
6 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1728( 6 -)2 149( -)1 1230(File Sharing Protocol)2 872 5 720 520 t
10 S f
(_ ____________________________________________________)1 2630 1 1565 740 t
10 S1 f
(>)1615 860 w
10 R f
( Consumer)1 444( To)1 692(From Consumer)1 661 3 1671 860 t
10 S f
(_ ____________________________________________________)1 2630 1 1565 880 t
10 R f
(smb)1615 1000 w
10 S f
(_)1782 1000 w
10 R f
( smb)1 515(com SMBtcon)1 733 2 1832 1000 t
10 S f
(_)3080 1000 w
10 R f
(com SMBtcon)1 822 1 3130 1000 t
(smb)1615 1120 w
10 S f
(_)1782 1120 w
10 R f
( smb)1 849(wct 0)1 399 2 1832 1120 t
10 S f
(_)3080 1120 w
10 R f
(wct 2)1 488 1 3130 1120 t
(smb)1615 1240 w
10 S f
(_)1782 1240 w
10 R f
( smb)1 637(bcc min=4)1 611 2 1832 1240 t
10 S f
(_)3080 1240 w
10 R f
( xmit size)2 405(vwv[0] max)1 610 2 3130 1240 t
(smb)1615 1360 w
10 S f
(_)1782 1360 w
10 R f
( smb)1 406( -- 04)2 232(buf[] ASCII)1 610 3 1832 1360 t
10 S f
(_)3080 1360 w
10 R f
(vwv[1] TID)1 604 1 3130 1360 t
(path/username smb)1 899 1 2181 1480 t
10 S f
(_)3080 1480 w
10 R f
(bcc 0)1 488 1 3130 1480 t
(ASCII -- 04)2 493 1 2181 1600 t
(password)2181 1720 w
(ASCII -- 04)2 493 1 2181 1840 t
(dev name)1 393 1 2181 1960 t
10 S f
( \347)1 -2630(_ ____________________________________________________)1 2630 2 1565 1980 t
(\347)1565 1940 w
(\347)1565 1840 w
(\347)1565 1740 w
(\347)1565 1640 w
(\347)1565 1540 w
(\347)1565 1440 w
(\347)1565 1340 w
(\347)1565 1240 w
(\347)1565 1140 w
(\347)1565 1040 w
(\347)1565 940 w
(\347)1565 840 w
(\347)2838 1980 w
(\347)2838 1940 w
(\347)2838 1840 w
(\347)2838 1740 w
(\347)2838 1640 w
(\347)2838 1540 w
(\347)2838 1440 w
(\347)2838 1340 w
(\347)2838 1240 w
(\347)2838 1140 w
(\347)2838 1040 w
(\347)2838 940 w
(\347)2838 840 w
(\347)4195 1980 w
(\347)4195 1940 w
(\347)4195 1840 w
(\347)4195 1740 w
(\347)4195 1640 w
(\347)4195 1540 w
(\347)4195 1440 w
(\347)4195 1340 w
(\347)4195 1240 w
(\347)4195 1140 w
(\347)4195 1040 w
(\347)4195 940 w
(\347)4195 840 w
10 R f
(The device name is either)4 1057 1 720 2160 t
10 S1 f
(<)1810 2160 w
10 R f
(device)1866 2160 w
10 S1 f
(>)2126 2160 w
10 R f
(: for block device or LPT1: for a character device.)9 2071 1 2182 2160 t
( be speci\256ed from the network root \(including)7 1923(The path/username must)2 1004 2 720 2400 t
10 S1 f
(\\\\)3684 2400 w
10 R f
( TID \256eld in the request)5 1017(\). The)1 283 2 3740 2400 t
( size \256eld in the response message indicates)7 1862( maximum transmit)2 818( The)1 230(message is ignored by the server.)5 1410 4 720 2520 t
( messages, nor)2 605( consumer should not generate)4 1256( The)1 222(the maximum size message that the server can handle.)8 2237 4 720 2640 t
( should be constant for a given server.)7 1575( This)1 244(expect to receive responses, larger than this.)6 1810 3 720 2760 t
(Tree Connects must be issued for all subtrees accessed, even if they contain a null password.)15 3821 1 720 3000 t
(Tree Connect may generate the following errors:)6 1993 1 720 3240 t
(Error Class ERRDOS:)2 916 1 1080 3420 t
10 S1 f
(<)1146 3660 w
10 R f
(implementation speci\256c)1 966 1 1202 3660 t
10 S1 f
(>)2168 3660 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 3900 t
(ERRerror)1146 4140 w
(ERRbadpw)1146 4260 w
(ERRinvnetname)1146 4380 w
10 S1 f
(<)1146 4500 w
10 R f
(implementation speci\256c)1 966 1 1202 4500 t
10 S1 f
(>)2168 4500 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 4740 t
10 S1 f
(<)1146 4980 w
10 R f
(implementation speci\256c)1 966 1 1202 4980 t
10 S1 f
(>)2168 4980 w
10 B f
( Disconnect)1 499(4.5. Tree)1 415 2 720 5280 t
10 S f
(_ ________________________________________)1 2042 1 1859 5396 t
10 S1 f
(>)1909 5516 w
10 R f
( Consumer)1 444( To)1 440(From Consumer)1 661 3 1965 5516 t
10 S f
(_ ________________________________________)1 2042 1 1859 5536 t
10 R f
(smb)1909 5656 w
10 S f
(_)2076 5656 w
10 R f
(com SMBtdis smb)2 996 1 2126 5656 t
10 S f
(_)3122 5656 w
10 R f
(com SMBtdis)1 679 1 3172 5656 t
(smb)1909 5776 w
10 S f
(_)2076 5776 w
10 R f
( smb)1 624(wct 0)1 372 2 2126 5776 t
10 S f
(_)3122 5776 w
10 R f
(wct 0)1 372 1 3172 5776 t
(smb)1909 5896 w
10 S f
(_)2076 5896 w
10 R f
( smb)1 624(bcc 0)1 372 2 2126 5896 t
10 S f
(_)3122 5896 w
10 R f
(bcc 0)1 372 1 3172 5896 t
10 S f
( \347)1 -2042(_ ________________________________________)1 2042 2 1859 5916 t
(\347)1859 5896 w
(\347)1859 5796 w
(\347)1859 5696 w
(\347)1859 5596 w
(\347)1859 5496 w
(\347)2880 5916 w
(\347)2880 5896 w
(\347)2880 5796 w
(\347)2880 5696 w
(\347)2880 5596 w
(\347)2880 5496 w
(\347)3901 5916 w
(\347)3901 5896 w
(\347)3901 5796 w
(\347)3901 5696 w
(\347)3901 5596 w
(\347)3901 5496 w
10 R f
( TID)1 211( The)1 233( server.)1 313(The \256le sharing connection identi\256ed by the TID is logically disconnected from the)12 3563 4 720 6096 t
(will be invalidated; it will not be recognized if used by the consumer for subsequent requests.)15 3854 1 720 6216 t
(Tree Disconnect may generate the following errors:)6 2109 1 720 6456 t
(Error Class ERRDOS:)2 916 1 1080 6636 t
10 S1 f
(<)1146 6876 w
10 R f
(implementation speci\256c)1 966 1 1202 6876 t
10 S1 f
(>)2168 6876 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 6 6
%%Page: 7 7
save
mark
7 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1728( 7 -)2 149( -)1 1230(File Sharing Protocol)2 872 5 720 520 t
(Error Class ERRSRV:)2 911 1 1080 900 t
(ERRinvnid)1146 1140 w
10 S1 f
(<)1146 1260 w
10 R f
(implementation speci\256c)1 966 1 1202 1260 t
10 S1 f
(>)2168 1260 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 1500 t
10 S1 f
(<)1146 1740 w
10 R f
(implementation speci\256c)1 966 1 1202 1740 t
10 S1 f
(>)2168 1740 w
10 B f
( Sharing Commands)2 895(5. File)1 302 2 720 2040 t
10 R f
( de\256nitions in this section indicate the command code and include the balance of the)14 3774(The message)1 546 2 720 2196 t
( \256eld smb)2 433(de\256nition commencing at the)3 1229 2 720 2316 t
10 S f
(_)2382 2316 w
10 R f
( omitted \256elds \(smb)3 855(wct. The)1 401 2 2432 2316 t
10 S f
(_)3688 2316 w
10 R f
(cls through smb)2 677 1 3738 2316 t
10 S f
(_)4415 2316 w
10 R f
(mid\) are con-)2 575 1 4465 2316 t
( server may)2 509( an error is encountered a)5 1115( When)1 317(stant in the format and meaning de\256ned in Section 1.0.)9 2379 4 720 2436 t
( portion of the response \(i.e., smb)6 1406(return only the header)3 914 2 720 2556 t
10 S f
(_)3040 2556 w
10 R f
(wct and smb)2 527 1 3090 2556 t
10 S f
(_)3617 2556 w
10 R f
( data)1 202( The)1 224(bcc both contain zero\).)3 947 3 3667 2556 t
(objects used by these commands are described in section 6.0.)9 2515 1 720 2676 t
(The use of commands other than those de\256ned in this section will have unde\256ned results.)14 3678 1 720 2916 t
10 B f
( File)1 194(5.1. Open)1 450 2 720 3156 t
10 S f
(_ ______________________________________________________)1 2717 1 1521 3272 t
10 S1 f
(>)1571 3392 w
10 R f
( Consumer)1 444( To)1 753(From Consumer)1 661 3 1627 3392 t
10 S f
(_ ______________________________________________________)1 2717 1 1521 3412 t
10 R f
(smb)1571 3532 w
10 S f
(_)1738 3532 w
10 R f
( smb)1 465(com SMBopen)1 844 2 1788 3532 t
10 S f
(_)3097 3532 w
10 R f
(com SMBopen)1 844 1 3147 3532 t
(smb)1571 3652 w
10 S f
(_)1738 3652 w
10 R f
( smb)1 821(wct 2)1 488 2 1788 3652 t
10 S f
(_)3097 3652 w
10 R f
(wct 7)1 488 1 3147 3652 t
(smb)1571 3772 w
10 S f
(_)1738 3772 w
10 R f
( smb)1 500(vwv[0] r/w/share)1 809 2 1788 3772 t
10 S f
(_)3097 3772 w
10 R f
( handle)1 299(vwv[0] \256le)1 566 2 3147 3772 t
(smb)1571 3892 w
10 S f
(_)1738 3892 w
10 R f
( smb)1 538(vwv[1] attribute)1 771 2 1788 3892 t
10 S f
(_)3097 3892 w
10 R f
(vwv[1] attribute)1 771 1 3147 3892 t
(smb)1571 4012 w
10 S f
(_)1738 4012 w
10 R f
( smb)1 543( = 2)2 172(bcc min)1 594 3 1788 4012 t
10 S f
(_)3097 4012 w
10 R f
( low)1 183(vwv[2] time1)1 666 2 3147 4012 t
(smb)1571 4132 w
10 S f
(_)1738 4132 w
10 R f
( smb)1 378( -- 04)2 232(buf[] ASCII)1 699 3 1788 4132 t
10 S f
(_)3097 4132 w
10 R f
( high)1 211(vwv[3] time1)1 666 2 3147 4132 t
( smb)1 322(\256le pathname)1 549 2 2226 4252 t
10 S f
(_)3097 4252 w
10 R f
( size low)2 371(vwv[4] \256le)1 566 2 3147 4252 t
(smb)2930 4372 w
10 S f
(_)3097 4372 w
10 R f
( size high)2 399(vwv[5] \256le)1 566 2 3147 4372 t
(smb)2930 4492 w
10 S f
(_)3097 4492 w
10 R f
( allowed)1 349(vwv[6] access)1 692 2 3147 4492 t
(smb)2930 4612 w
10 S f
(_)3097 4612 w
10 R f
(bcc 0)1 488 1 3147 4612 t
10 S f
( \347)1 -2717(_ ______________________________________________________)1 2717 2 1521 4632 t
(\347)1521 4572 w
(\347)1521 4472 w
(\347)1521 4372 w
(\347)1521 4272 w
(\347)1521 4172 w
(\347)1521 4072 w
(\347)1521 3972 w
(\347)1521 3872 w
(\347)1521 3772 w
(\347)1521 3672 w
(\347)1521 3572 w
(\347)1521 3472 w
(\347)1521 3372 w
(\347)2855 4632 w
(\347)2855 4572 w
(\347)2855 4472 w
(\347)2855 4372 w
(\347)2855 4272 w
(\347)2855 4172 w
(\347)2855 4072 w
(\347)2855 3972 w
(\347)2855 3872 w
(\347)2855 3772 w
(\347)2855 3672 w
(\347)2855 3572 w
(\347)2855 3472 w
(\347)2855 3372 w
(\347)4238 4632 w
(\347)4238 4572 w
(\347)4238 4472 w
(\347)4238 4372 w
(\347)4238 4272 w
(\347)4238 4172 w
(\347)4238 4072 w
(\347)4238 3972 w
(\347)4238 3872 w
(\347)4238 3772 w
(\347)4238 3672 w
(\347)4238 3572 w
(\347)4238 3472 w
(\347)4238 3372 w
10 R f
( relevant tree id and any necessary addi-)7 1680( The)1 224( a \256le handle for a data \256le.)7 1169(This message is sent to obtain)5 1247 4 720 4812 t
( handle returned can be used in subsequent read, write, lock, unlock and)12 2970( The)1 221( passed.)1 324(tional pathname are)2 805 4 720 4932 t
( r/w/share word controls)3 1009( The)1 225( last modi\256cation time are also returned.)6 1684( \256le size and)3 535( The)1 224(close messages.)1 643 6 720 5052 t
( r/w/share)1 408( The)1 225( the requester has the appropriate permissions.)6 1921( \256le will be opened only if)6 1133( The)1 226(the mode.)1 407 6 720 5172 t
(word has the following format and values.)6 1737 1 720 5292 t
( rxxx yyyy)2 515( - - -)3 198( -)1 99( - - -)3 198( -)1 99(r/w/share format:)1 698 6 1080 5472 t
( reserved)1 487( =)1 89(where: r)1 370 3 1016 5712 t
( that VC may have mul-)5 1013( Compatibility mode \(exclusive to a VC, but)7 1841( MS-DOS)1 528(xxx = 0 --)3 421 4 1054 5892 t
( sup-)1 220( if it is not)4 508( However,)1 472( of this mode is optional.)5 1115( Support)1 399(tiple opens\).)1 518 6 1625 6012 t
( to exclusive open modes, some existing MS-DOS appli-)8 2394(ported or is mapped)3 838 2 1625 6132 t
( work with network \256les. If reading map to deny write, other-)11 2575(cations may not)2 657 2 1625 6252 t
(wise map to deny read/write.)4 1188 1 1625 6372 t
( read/write \(exclusive to this open operation\).)6 1864( Deny)1 366(1 --)1 149 3 1326 6492 t
( write -- other users may access \256le in READ mode.)10 2162( Deny)1 366(2 --)1 149 3 1326 6612 t
( of this)2 320( Support)1 396( other users may access \256le in WRITE mode.)8 1973( read --)2 327( Deny)1 366(3 --)1 149 6 1326 6732 t
(mode is optional.)2 708 1 1625 6852 t
( none -- allow other users to access \256le in any mode for which they have)15 3011( Deny)1 366(4 --)1 149 3 1326 6972 t
(permission.)1625 7092 w
( \256le for reading.)3 667( Open)1 366(yyyy = 0 --)3 471 3 1004 7272 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 7 7
%%Page: 8 8
save
mark
8 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1728( 8 -)2 149( -)1 1230(File Sharing Protocol)2 872 5 720 520 t
( \256le for writing.)3 657( Open)1 366(1 --)1 149 3 1326 840 t
( \256le for reading and writing.)5 1166( Open)1 366(2 --)1 149 3 1326 960 t
( \(hex FF\))2 388( 11111111)1 550(rxxx yyyy =)2 505 3 970 1140 t
( cause an MS-DOS compatibility mode)5 1719(FCB open: This type of open will)6 1513 2 1625 1260 t
(open with the read/write modes set to the maximum permissible, i.e., if the)12 3232 1 1625 1380 t
( \256le, it will be opened in)6 1137(requester can have read and write access on the)8 2095 2 1625 1500 t
(read/write mode.)1 684 1 1625 1620 t
( the access permissions actually allowed in the)7 2001(The response message indicates)3 1329 2 720 1800 t
10 S1 f
(")4095 1800 w
10 R f
(access allowed)1 615 1 4136 1800 t
10 S1 f
(")4751 1800 w
10 R f
(\256eld.)4837 1800 w
(This \256eld may have the following values:)6 1708 1 720 1920 t
(0 = read-only)2 554 1 1080 2100 t
(1 = write-only)2 588 1 1080 2220 t
(2 = read/write)2 576 1 1080 2340 t
(File Sharing Notes:)2 794 1 720 2520 t
( PID may refer-)3 658( A)1 140( Handles \(FIDs\) are contained within the Virtual Circuit \(VC\) environment.)10 3116(1. File)1 406 4 720 2676 t
( actual accesses allowed)3 1017(ence any FID established by itself or any other PID within its VC. The)13 3053 2 970 2796 t
( will depend on the open and deny modes speci\256ed when the \256le was opened \(see)15 3408(through the FID)2 662 2 970 2916 t
(below\).)970 3036 w
( \256le open in)3 511( A)1 142( MS-DOS compatibility mode of \256le open provides exclusion at the VC level.)12 3262(2. The)1 405 4 720 3192 t
( \(also in compatibility mode\) any number of times for any)10 2560(compatibility mode may be opened)4 1510 2 970 3312 t
( permissions\) by any PID within the own-)7 1737(combination of reading and writing \(subject to the user's)8 2333 2 970 3432 t
( \256le open for writing, then the \256le may not be opened in any way)14 2748( the \256rst VC has the)5 857( If)1 136(ing VC.)1 329 4 970 3552 t
( the \256rst VC has the \256le open only for reading, then other VCs)13 2635( If)1 135( VC.)1 200(by any PID within another)4 1100 4 970 3672 t
( multiple VCs have the \256le open for)7 1533( Once)1 282( in compatibility mode, for reading.)5 1494(may open the \256le,)3 761 4 970 3792 t
( VC or PID may open the \256le in any)9 1554( No)1 191(reading, no VC is permitted to open the \256le for writing.)10 2325 3 970 3912 t
(mode other than compatibility mode.)4 1512 1 970 4032 t
( read, Deny none\) provide)4 1148( other \256le exclusion modes \(Deny read/write, Deny write, Deny)9 2767(3. The)1 405 3 720 4188 t
( \256le opened in any)4 794( A)1 144(exclusion at the \256le level.)4 1080 3 970 4308 t
10 S1 f
(")3027 4308 w
10 R f
(Deny)3068 4308 w
10 S1 f
(")3284 4308 w
10 R f
( opened again only for the)5 1110(mode may be)2 566 2 3364 4308 t
( is true regardless of)4 857( This)1 248( user's permissions\).)2 848(accesses allowed by the Deny mode \(subject to the)8 2117 4 970 4428 t
( of the second opener -- a PID within another VC, a PID within the same VC, or the)18 3602(the identity)1 468 2 970 4548 t
( is open in)3 453( example, if a \256le)4 744( For)1 209(PID that already has the \256le open.)6 1428 4 970 4668 t
10 S1 f
(")3842 4668 w
10 R f
(Deny write)1 459 1 3883 4668 t
10 S1 f
(")4342 4668 w
10 R f
(mode a second)2 619 1 4421 4668 t
(open may only obtain read permission to the \256le.)8 2021 1 970 4788 t
( full)1 173( FIDs are available to all PIDs on a VC, PIDs other than the owner may not have the)18 3519(4. Although)1 628 3 720 4944 t
( the open creating the FID)5 1180( If)1 151(access rights speci\256ed in the open mode by the FID's creator.)10 2739 3 970 5064 t
( will have only)3 648(speci\256ed a deny mode, then any PID using the FID, other than the creating PID,)14 3422 2 970 5184 t
(those access rights determined by)4 1410 1 970 5304 t
10 S1 f
(")2422 5304 w
10 R f
(anding)2463 5304 w
10 S1 f
(")2735 5304 w
10 R f
( deny mode rights, i.e.,)4 980(the open mode rights and the)5 1242 2 2818 5304 t
( \256le is opened for Read/Write in)6 1365( example, if a)3 579( For)1 209(the deny mode is checked on all \256le accesses.)8 1917 4 970 5424 t
( VC PIDs may only read from the FID and cannot write; if a \256le is)15 2865(Deny write mode, then other)4 1205 2 970 5544 t
(opened for Read in Deny read mode, then the other VC PIDs can neither read nor write the FID.)18 3985 1 970 5664 t
( of share modes, a reply message indicating)7 1804(If a \256le cannot be opened for any reason, including a con\257ict)11 2516 2 720 5820 t
(the cause of the failure will be returned.)7 1646 1 720 5940 t
(Open may generate the following errors:)5 1661 1 720 6180 t
(Error Class ERRDOS:)2 916 1 1080 6360 t
(ERRbad\256le)1146 6600 w
(ERRno\256ds)1146 6720 w
(ERRnoaccess)1146 6840 w
(ERRshare)1146 6960 w
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 8 8
%%Page: 9 9
save
mark
9 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1728( 9 -)2 149( -)1 1230(File Sharing Protocol)2 872 5 720 520 t
(Error Class ERRSRV:)2 911 1 1080 900 t
(ERRerror)1146 1140 w
(ERRaccess)1146 1260 w
(ERRinvnid)1146 1380 w
(ERRinvdevice)1146 1500 w
10 S1 f
(<)1146 1620 w
10 R f
(implementation speci\256c)1 966 1 1202 1620 t
10 S1 f
(>)2168 1620 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 1860 t
10 S1 f
(<)1146 2100 w
10 R f
(implementation speci\256c)1 966 1 1202 2100 t
10 S1 f
(>)2168 2100 w
10 B f
( File)1 194(5.2. Create)1 503 2 720 2400 t
10 S f
(_ ___________________________________________________)1 2563 1 1598 2516 t
10 S1 f
(>)1648 2636 w
10 R f
( Consumer)1 444( To)1 753(From Consumer)1 661 3 1704 2636 t
10 S f
(_ ___________________________________________________)1 2563 1 1598 2656 t
10 R f
(smb)1648 2776 w
10 S f
(_)1815 2776 w
10 R f
( smb)1 422(com SMBcreate)1 887 2 1865 2776 t
10 S f
(_)3174 2776 w
10 R f
(com SMBcreate)1 887 1 3224 2776 t
(smb)1648 2896 w
10 S f
(_)1815 2896 w
10 R f
( smb)1 821(wct 3)1 488 2 1865 2896 t
10 S f
(_)3174 2896 w
10 R f
(wct 1)1 488 1 3224 2896 t
(smb)1648 3016 w
10 S f
(_)1815 3016 w
10 R f
( smb)1 538(vwv[0] attribute)1 771 2 1865 3016 t
10 S f
(_)3174 3016 w
10 R f
( handle)1 299(vwv[0] \256le)1 566 2 3224 3016 t
(smb)1648 3136 w
10 S f
(_)1815 3136 w
10 R f
( smb)1 510( low)1 183(vwv[1] time)1 616 3 1865 3136 t
10 S f
(_)3174 3136 w
10 R f
(bcc 0)1 488 1 3224 3136 t
(smb)1648 3256 w
10 S f
(_)1815 3256 w
10 R f
( high)1 211(vwv[2] time)1 616 2 1865 3256 t
(smb)1648 3376 w
10 S f
(_)1815 3376 w
10 R f
( = 2)2 172(bcc min)1 594 2 1865 3376 t
(smb)1648 3496 w
10 S f
(_)1815 3496 w
10 R f
( -- 04)2 232(buf[] ASCII)1 699 2 1865 3496 t
(\256le pathname)1 549 1 2303 3616 t
10 S f
( \347)1 -2563(_ ___________________________________________________)1 2563 2 1598 3636 t
(\347)1598 3616 w
(\347)1598 3516 w
(\347)1598 3416 w
(\347)1598 3316 w
(\347)1598 3216 w
(\347)1598 3116 w
(\347)1598 3016 w
(\347)1598 2916 w
(\347)1598 2816 w
(\347)1598 2716 w
(\347)1598 2616 w
(\347)2932 3636 w
(\347)2932 3616 w
(\347)2932 3516 w
(\347)2932 3416 w
(\347)2932 3316 w
(\347)2932 3216 w
(\347)2932 3116 w
(\347)2932 3016 w
(\347)2932 2916 w
(\347)2932 2816 w
(\347)2932 2716 w
(\347)2932 2616 w
(\347)4161 3636 w
(\347)4161 3616 w
(\347)4161 3516 w
(\347)4161 3416 w
(\347)4161 3316 w
(\347)4161 3216 w
(\347)4161 3116 w
(\347)4161 3016 w
(\347)4161 2916 w
(\347)4161 2816 w
(\347)4161 2716 w
(\347)4161 2616 w
10 R f
( \256le to length zero, and open)6 1230(This message is sent to create a new data \256le or truncate an existing data)14 3090 2 720 3816 t
( handle returned can be used in subsequent read, write, lock, unlock and close messages.)14 3643( The)1 221(the \256le.)1 308 3 720 3936 t
( containing the \256le)3 795(Unprotected servers will require requesters to have create permission for the subtree)11 3525 2 720 4176 t
( existing one.)2 572(in order to create a new \256le, or write permission for the subtree in order to truncate an)17 3748 2 720 4296 t
( created \256le will be opened in compatibility mode with the access mode determined by the)15 3879(The newly)1 441 2 720 4416 t
(containing subtree permissions.)2 1279 1 720 4536 t
( \256le's parent directory in order)5 1297(Protected servers will require requesters to have write permission on the)10 3023 2 720 4776 t
( access permissions)2 802( The)1 223( order to truncate it.)4 830(to create a new \256le, or write permission on the \256le itself in)12 2465 4 720 4896 t
( permissions for truncated)3 1076( Access)1 352( be read/write permission for the creator.)6 1698(granted on a created \256le will)5 1194 4 720 5016 t
( newly created or truncated \256le is opened in read/write/compatibility mode.)10 3089( The)1 221(\256les are not modi\256ed.)3 896 3 720 5136 t
(Support of the create time supplied in the request is optional.)10 2514 1 720 5376 t
(Create may generate the following errors:)5 1705 1 720 5616 t
(Error Class ERRDOS:)2 916 1 1080 5796 t
(ERRbadpath)1146 6036 w
(ERRno\256ds)1146 6156 w
(ERRnoaccess)1146 6276 w
(ERRbadaccess)1146 6396 w
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 9 9
%%Page: 10 10
save
mark
10 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 10 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(Error Class ERRSRV:)2 911 1 1080 900 t
(ERRerror)1146 1140 w
(ERRaccess)1146 1260 w
(ERRinvnid)1146 1380 w
(ERRinvdevice)1146 1500 w
10 S1 f
(<)1146 1620 w
10 R f
(implementation speci\256c)1 966 1 1202 1620 t
10 S1 f
(>)2168 1620 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 1860 t
10 S1 f
(<)1146 2100 w
10 R f
(implementation speci\256c)1 966 1 1202 2100 t
10 S1 f
(>)2168 2100 w
10 B f
( File)1 194(5.3. Close)1 449 2 720 2400 t
10 S f
(_ _____________________________________________)1 2293 1 1733 2516 t
10 S1 f
(>)1783 2636 w
10 R f
( Consumer)1 444( To)1 631(From Consumer)1 661 3 1839 2636 t
10 S f
(_ _____________________________________________)1 2293 1 1733 2656 t
10 R f
(smb)1783 2776 w
10 S f
(_)1950 2776 w
10 R f
( smb)1 332(com SMBclose)1 855 2 2000 2776 t
10 S f
(_)3187 2776 w
10 R f
(com SMBclose)1 739 1 3237 2776 t
(smb)1783 2896 w
10 S f
(_)1950 2896 w
10 R f
( smb)1 699(wct 3)1 488 2 2000 2896 t
10 S f
(_)3187 2896 w
10 R f
(wct 0)1 372 1 3237 2896 t
(smb)1783 3016 w
10 S f
(_)1950 3016 w
10 R f
( smb)1 322( handle)1 299(vwv[0] \256le)1 566 3 2000 3016 t
10 S f
(_)3187 3016 w
10 R f
(bcc 0)1 372 1 3237 3016 t
(smb)1783 3136 w
10 S f
(_)1950 3136 w
10 R f
( low)1 183(vwv[1] time)1 616 2 2000 3136 t
(smb)1783 3256 w
10 S f
(_)1950 3256 w
10 R f
( high)1 211(vwv[2] time)1 616 2 2000 3256 t
(smb)1783 3376 w
10 S f
(_)1950 3376 w
10 R f
(bcc 0)1 488 1 2000 3376 t
10 S f
( \347)1 -2293(_ _____________________________________________)1 2293 2 1733 3396 t
(\347)1733 3316 w
(\347)1733 3216 w
(\347)1733 3116 w
(\347)1733 3016 w
(\347)1733 2916 w
(\347)1733 2816 w
(\347)1733 2716 w
(\347)1733 2616 w
(\347)2945 3396 w
(\347)2945 3316 w
(\347)2945 3216 w
(\347)2945 3116 w
(\347)2945 3016 w
(\347)2945 2916 w
(\347)2945 2816 w
(\347)2945 2716 w
(\347)2945 2616 w
(\347)4026 3396 w
(\347)4026 3316 w
(\347)4026 3216 w
(\347)4026 3116 w
(\347)4026 3016 w
(\347)4026 2916 w
(\347)4026 2816 w
(\347)4026 2716 w
(\347)4026 2616 w
10 R f
( message is sent to invalidate a \256le handle for the requesting process. All locks held by the)17 3918(The close)1 402 2 720 3576 t
(requesting process on the \256le will be)6 1519 1 720 3696 t
10 S1 f
(")2273 3696 w
10 R f
(unlocked)2314 3696 w
10 S1 f
(")2680 3696 w
10 R f
( \256le han-)2 371( requesting process can no longer use the)7 1701(. The)1 247 3 2721 3696 t
( sup-)1 206( Server)1 327( new modi\256cation time may be passed to the server.)9 2156( The)1 222( requests.)1 386(dle for further \256le access)4 1023 6 720 3816 t
(port of the modi\256cation time is optional; it may be ignored.)10 2455 1 720 3936 t
(Close will cause all the \256le's buffers to be \257ushed to disk.)11 2403 1 720 4176 t
(Close may generate the following errors:)5 1673 1 720 4416 t
(Error Class ERRDOS:)2 916 1 1080 4596 t
(ERRbad\256d)1146 4836 w
(ERRnoaccess)1146 4956 w
(Error Class ERRSRV:)2 911 1 1080 5196 t
(ERRerror)1146 5436 w
(ERRinvdevice)1146 5556 w
(ERRinvnid)1146 5676 w
10 S1 f
(<)1146 5796 w
10 R f
(implementation speci\256c)1 966 1 1202 5796 t
10 S1 f
(>)2168 5796 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 6036 t
10 S1 f
(<)1146 6276 w
10 R f
(implementation speci\256c)1 966 1 1202 6276 t
10 S1 f
(>)2168 6276 w
10 B f
( File)1 194(5.4. Flush)1 456 2 720 6576 t
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 10 10
%%Page: 11 11
save
mark
11 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 11 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 S f
(_ _____________________________________________)1 2288 1 1736 740 t
10 S1 f
(>)1786 860 w
10 R f
( Consumer)1 444( To)1 631(From Consumer)1 661 3 1842 860 t
10 S f
(_ _____________________________________________)1 2288 1 1736 880 t
10 R f
(smb)1786 1000 w
10 S f
(_)1953 1000 w
10 R f
( smb)1 342(com SMB\257ush)1 845 2 2003 1000 t
10 S f
(_)3190 1000 w
10 R f
(com SMB\257ush)1 729 1 3240 1000 t
(smb)1786 1120 w
10 S f
(_)1953 1120 w
10 R f
( smb)1 699(wct 1)1 488 2 2003 1120 t
10 S f
(_)3190 1120 w
10 R f
(wct 0)1 372 1 3240 1120 t
(smb)1786 1240 w
10 S f
(_)1953 1240 w
10 R f
( smb)1 322( handle)1 299(vwv[0] \256le)1 566 3 2003 1240 t
10 S f
(_)3190 1240 w
10 R f
(bcc 0)1 372 1 3240 1240 t
(smb)1786 1360 w
10 S f
(_)1953 1360 w
10 R f
(bcc 0)1 488 1 2003 1360 t
10 S f
( \347)1 -2288(_ _____________________________________________)1 2288 2 1736 1380 t
(\347)1736 1340 w
(\347)1736 1240 w
(\347)1736 1140 w
(\347)1736 1040 w
(\347)1736 940 w
(\347)1736 840 w
(\347)2948 1380 w
(\347)2948 1340 w
(\347)2948 1240 w
(\347)2948 1140 w
(\347)2948 1040 w
(\347)2948 940 w
(\347)2948 840 w
(\347)4024 1380 w
(\347)4024 1340 w
(\347)4024 1240 w
(\347)4024 1140 w
(\347)4024 1040 w
(\347)4024 940 w
(\347)4024 840 w
10 R f
(The \257ush message is sent to ensure all data and allocation information for the corresponding \256le has)16 4320 1 720 1560 t
( the \256le handle has a value -1 \(hex FFFF\) the server will per-)13 2536( When)1 304( storage.)1 346(been written to non-volatile)3 1134 4 720 1680 t
( is not sent until)4 700( response)1 388( The)1 227(form a \257ush for all \256le handles associated with the consumer's process.)11 3005 4 720 1800 t
(the writes are complete.)3 977 1 720 1920 t
( speci\256es)1 379( It)1 129( that only the speci\256c \256le's data be written \(\257ushed\).)9 2193(Note that this protocol does not require)6 1619 4 720 2160 t
(that)720 2280 w
10 S1 f
(")903 2280 w
10 R f
(at least)1 288 1 944 2280 t
10 S1 f
(")1232 2280 w
10 R f
(the \256le's data be written.)4 1022 1 1306 2280 t
(Flush may generate the following errors:)5 1668 1 720 2520 t
(Error Class ERRDOS:)2 916 1 1080 2700 t
(ERRbad\256d)1146 2940 w
(ERRnoaccess)1146 3060 w
10 S1 f
(<)1146 3180 w
10 R f
(implementation speci\256c)1 966 1 1202 3180 t
10 S1 f
(>)2168 3180 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 3420 t
(ERRerror)1146 3660 w
(ERRinvdevice)1146 3780 w
(ERRinvnid)1146 3900 w
10 S1 f
(<)1146 4020 w
10 R f
(implementation speci\256c)1 966 1 1202 4020 t
10 S1 f
(>)2168 4020 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 4260 t
10 S1 f
(<)1146 4500 w
10 R f
(implementation speci\256c)1 966 1 1202 4500 t
10 S1 f
(>)2168 4500 w
10 B f
(5.5. Read)1 438 1 720 4800 t
10 S f
(_ ___________________________________________________________)1 2962 1 1399 4916 t
10 S1 f
(>)1449 5036 w
10 R f
( Consumer)1 444( To)1 781(From Consumer)1 661 3 1505 5036 t
10 S f
(_ ___________________________________________________________)1 2962 1 1399 5056 t
10 R f
(smb)1449 5176 w
10 S f
(_)1616 5176 w
10 R f
( smb)1 516(com SMBread)1 821 2 1666 5176 t
10 S f
(_)3003 5176 w
10 R f
(com SMBread)1 904 1 3053 5176 t
(smb)1449 5296 w
10 S f
(_)1616 5296 w
10 R f
( smb)1 849(wct 5)1 488 2 1666 5296 t
10 S f
(_)3003 5296 w
10 R f
(wct 5)1 571 1 3053 5296 t
(smb)1449 5416 w
10 S f
(_)1616 5416 w
10 R f
( smb)1 472( handle)1 299(vwv[0] \256le)1 566 3 1666 5416 t
10 S f
(_)3003 5416 w
10 R f
(vwv[0] count)1 743 1 3053 5416 t
(smb)1449 5536 w
10 S f
(_)1616 5536 w
10 R f
( smb)1 317( of bytes)2 360(vwv[1] count)1 660 3 1666 5536 t
10 S f
(_)3003 5536 w
10 R f
( \(MBZ\))1 316(vwv[1-4] reserved)1 858 2 3053 5536 t
(smb)1449 5656 w
10 S f
(_)1616 5656 w
10 R f
( smb)1 489( low)1 183(vwv[2] offset)1 665 3 1666 5656 t
10 S f
(_)3003 5656 w
10 R f
( of data + 3)4 487(bcc length)1 771 2 3053 5656 t
(smb)1449 5776 w
10 S f
(_)1616 5776 w
10 R f
( smb)1 461( high)1 211(vwv[3] offset)1 665 3 1666 5776 t
10 S f
(_)3003 5776 w
10 R f
( Block -- 01)3 504(buf[] Data)1 709 2 3053 5776 t
(smb)1449 5896 w
10 S f
(_)1616 5896 w
10 R f
( of data)2 315( length)1 1332( left)1 166(vwv[4] count)1 660 4 1666 5896 t
(smb)1449 6016 w
10 S f
(_)1616 6016 w
10 R f
( data)1 1586(bcc 0)1 488 2 1666 6016 t
10 S f
( \347)1 -2962(_ ___________________________________________________________)1 2962 2 1399 6036 t
(\347)1399 6016 w
(\347)1399 5916 w
(\347)1399 5816 w
(\347)1399 5716 w
(\347)1399 5616 w
(\347)1399 5516 w
(\347)1399 5416 w
(\347)1399 5316 w
(\347)1399 5216 w
(\347)1399 5116 w
(\347)1399 5016 w
(\347)2761 6036 w
(\347)2761 6016 w
(\347)2761 5916 w
(\347)2761 5816 w
(\347)2761 5716 w
(\347)2761 5616 w
(\347)2761 5516 w
(\347)2761 5416 w
(\347)2761 5316 w
(\347)2761 5216 w
(\347)2761 5116 w
(\347)2761 5016 w
(\347)4361 6036 w
(\347)4361 6016 w
(\347)4361 5916 w
(\347)4361 5816 w
(\347)4361 5716 w
(\347)4361 5616 w
(\347)4361 5516 w
(\347)4361 5416 w
(\347)4361 5316 w
(\347)4361 5216 w
(\347)4361 5116 w
(\347)4361 5016 w
10 R f
( count of bytes \256eld is used to specify the)9 1819( The)1 231( message is sent to read bytes of a data \256le.)10 1902(The read)1 368 4 720 6216 t
( byte to be read.)4 712(requested number of bytes. The offset \256eld speci\256es the offset in the \256le of the \256rst)15 3608 2 720 6336 t
( the value is not zero, then it is taken as an estimate of the total)15 2823( If)1 145( \256eld is advisory.)3 752(The count left)2 600 4 720 6456 t
( additional information)2 956( This)1 253( this request.)2 542(number of bytes that will be read -- including those read by)11 2569 4 720 6576 t
(may be used by the server to optimize buffer allocation or read-ahead.)11 2886 1 720 6696 t
( The)1 236( \256eld in the response message indicates the number of bytes actually being returned.)13 3660(The count)1 424 3 720 6936 t
( the count requested only if a read speci\256es bytes beyond the current \256le)13 3003(count returned may be less than)5 1317 2 720 7056 t
( read completely beyond the end of \256le will)8 1854( A)1 144( are returned.)2 556( this case only the bytes that exist)7 1432(size. In)1 334 5 720 7176 t
( zero length response is)4 1045( is the only circumstance when a)6 1471( This)1 264(result in a response of length zero.)6 1540 4 720 7296 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 11 11
%%Page: 12 12
save
mark
12 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 12 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
( count returned which is less than the count requested is the end of \256le indicator.)15 3332(generated. A)1 550 2 720 840 t
( message of the max-xmit-size for the TID)7 1916(If a Read requests more data than can be placed in a)11 2404 2 720 1080 t
(speci\256ed, the server will abort the virtual circuit to the consumer.)10 2687 1 720 1200 t
(Read may generate the following errors:)5 1650 1 720 1440 t
(Error Class ERRDOS:)2 916 1 1080 1620 t
(ERRnoaccess)1146 1860 w
(ERRbad\256d)1146 1980 w
(Error Class ERRSRV:)2 911 1 1080 2220 t
(ERRerror)1146 2460 w
(ERRinvdevice)1146 2580 w
(ERRinvnid)1146 2700 w
10 S1 f
(<)1146 2820 w
10 R f
(implementation speci\256c)1 966 1 1202 2820 t
10 S1 f
(>)2168 2820 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 3060 t
10 S1 f
(<)1146 3300 w
10 R f
(implementation speci\256c)1 966 1 1202 3300 t
10 S1 f
(>)2168 3300 w
10 B f
(5.6. Write)1 465 1 720 3600 t
10 S f
(_ ______________________________________________________)1 2714 1 1523 3716 t
10 S1 f
(>)1573 3836 w
10 R f
( Consumer)1 444( To)1 936(From Consumer)1 661 3 1629 3836 t
10 S f
(_ ______________________________________________________)1 2714 1 1523 3856 t
10 R f
(smb)1573 3976 w
10 S f
(_)1740 3976 w
10 R f
( smb)1 637(com SMBwrite)1 855 2 1790 3976 t
10 S f
(_)3282 3976 w
10 R f
(com SMBwrite)1 855 1 3332 3976 t
(smb)1573 4096 w
10 S f
(_)1740 4096 w
10 R f
( smb)1 1004(wct 5)1 488 2 1790 4096 t
10 S f
(_)3282 4096 w
10 R f
(wct 1)1 488 1 3332 4096 t
(smb)1573 4216 w
10 S f
(_)1740 4216 w
10 R f
( smb)1 627( handle)1 299(vwv[0] \256le)1 566 3 1790 4216 t
10 S f
(_)3282 4216 w
10 R f
(vwv[0] count)1 660 1 3332 4216 t
(smb)1573 4336 w
10 S f
(_)1740 4336 w
10 R f
( smb)1 472( of bytes)2 360(vwv[1] count)1 660 3 1790 4336 t
10 S f
(_)3282 4336 w
10 R f
(bcc 0)1 488 1 3332 4336 t
(smb)1573 4456 w
10 S f
(_)1740 4456 w
10 R f
( low)1 183(vwv[2] offset)1 665 2 1790 4456 t
(smb)1573 4576 w
10 S f
(_)1740 4576 w
10 R f
( high)1 211(vwv[3] offset)1 665 2 1790 4576 t
(smb)1573 4696 w
10 S f
(_)1740 4696 w
10 R f
( left)1 166(vwv[4] count)1 660 2 1790 4696 t
(smb)1573 4816 w
10 S f
(_)1740 4816 w
10 R f
( of data + 3)4 487(bcc length)1 688 2 1790 4816 t
(smb)1573 4936 w
10 S f
(_)1740 4936 w
10 R f
( Block -- 01)3 504(buf[] Data)1 626 2 1790 4936 t
(length of data)2 565 1 2228 5056 t
(data)2228 5176 w
10 S f
( \347)1 -2714(_ ______________________________________________________)1 2714 2 1523 5196 t
(\347)1523 5116 w
(\347)1523 5016 w
(\347)1523 4916 w
(\347)1523 4816 w
(\347)1523 4716 w
(\347)1523 4616 w
(\347)1523 4516 w
(\347)1523 4416 w
(\347)1523 4316 w
(\347)1523 4216 w
(\347)1523 4116 w
(\347)1523 4016 w
(\347)1523 3916 w
(\347)1523 3816 w
(\347)3040 5196 w
(\347)3040 5116 w
(\347)3040 5016 w
(\347)3040 4916 w
(\347)3040 4816 w
(\347)3040 4716 w
(\347)3040 4616 w
(\347)3040 4516 w
(\347)3040 4416 w
(\347)3040 4316 w
(\347)3040 4216 w
(\347)3040 4116 w
(\347)3040 4016 w
(\347)3040 3916 w
(\347)3040 3816 w
(\347)4237 5196 w
(\347)4237 5116 w
(\347)4237 5016 w
(\347)4237 4916 w
(\347)4237 4816 w
(\347)4237 4716 w
(\347)4237 4616 w
(\347)4237 4516 w
(\347)4237 4416 w
(\347)4237 4316 w
(\347)4237 4216 w
(\347)4237 4116 w
(\347)4237 4016 w
(\347)4237 3916 w
(\347)4237 3816 w
10 R f
( of bytes \256eld speci\256es the number)6 1477( count)1 260( The)1 226(The write message is sent to write bytes into a data \256le.)11 2357 4 720 5376 t
( The)1 222( to be written.)3 582( offset \256eld speci\256es the offset in the \256le of the \256rst byte)12 2379( The)1 223(of bytes to be written.)4 914 5 720 5496 t
( of the number of bytes)5 974(count left \256eld is advisory. If the value is not zero, then it is taken as an estimate)17 3346 2 720 5616 t
( additional information may be used)5 1511( This)1 249( be written -- including those written by this request.)9 2215(that will)1 345 4 720 5736 t
(by the server to optimize buffer allocation.)6 1753 1 720 5856 t
( indicates the actual number of bytes written, and for successful)10 2662(The count \256eld in the response message)6 1658 2 720 6096 t
( of bytes written differs from)5 1226( the number)2 507( If)1 139(writes will always equal the count in the request message.)9 2448 4 720 6216 t
( available with which to)4 996(the number requested and no error is indicated, then the server has no disk space)14 3324 2 720 6336 t
(satisfy the complete write.)3 1078 1 720 6456 t
( bytes)1 247( Any)1 241( \256le, the \256le will be extended.)6 1254(When a write speci\256es a byte range beyond the current end of)11 2578 4 720 6696 t
(between the previous end of \256le and the requested offset will be set to zero \(ASCII nul\).)16 3646 1 720 6816 t
(When a write speci\256es a length of zero, the \256le will be truncated to the length speci\256ed by the offset.)19 4181 1 720 7056 t
(If a Write sends a message of length greater than the max-xmit-size for the TID speci\256ed, the server will)18 4320 1 720 7296 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 12 12
%%Page: 13 13
save
mark
13 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 13 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(abort the virtual circuit to the consumer.)6 1654 1 720 840 t
(Write may generate the following errors:)5 1672 1 720 1080 t
(Error Class ERRDOS:)2 916 1 1080 1260 t
(ERRnoaccess)1146 1500 w
(ERRbad\256d)1146 1620 w
(Error Class ERRSRV:)2 911 1 1080 1860 t
(ERRerror)1146 2100 w
(ERRinvdevice)1146 2220 w
(ERRinvnid)1146 2340 w
10 S1 f
(<)1146 2460 w
10 R f
(implementation speci\256c)1 966 1 1202 2460 t
10 S1 f
(>)2168 2460 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 2700 t
10 S1 f
(<)1146 2940 w
10 R f
(implementation speci\256c)1 966 1 1202 2940 t
10 S1 f
(>)2168 2940 w
10 B f
(5.7. Seek)1 416 1 720 3240 t
10 S f
(_ ________________________________________________)1 2436 1 1662 3356 t
10 S1 f
(>)1712 3476 w
10 R f
( Consumer)1 444( To)1 637(From Consumer)1 661 3 1768 3476 t
10 S f
(_ ________________________________________________)1 2436 1 1662 3496 t
10 R f
(smb)1712 3616 w
10 S f
(_)1879 3616 w
10 R f
( smb)1 338(com SMBlseek)1 855 2 1929 3616 t
10 S f
(_)3122 3616 w
10 R f
(com SMBlseek)1 855 1 3172 3616 t
(smb)1712 3736 w
10 S f
(_)1879 3736 w
10 R f
( smb)1 705(wct 4)1 488 2 1929 3736 t
10 S f
(_)3122 3736 w
10 R f
(wct 2)1 488 1 3172 3736 t
(smb)1712 3856 w
10 S f
(_)1879 3856 w
10 R f
( smb)1 328( handle)1 299(vwv[0] \256le)1 566 3 1929 3856 t
10 S f
(_)3122 3856 w
10 R f
(vwv[0] offset-low)1 848 1 3172 3856 t
(smb)1712 3976 w
10 S f
(_)1879 3976 w
10 R f
( smb)1 533(vwv[1] mode)1 660 2 1929 3976 t
10 S f
(_)3122 3976 w
10 R f
(vwv[1] offset-high)1 876 1 3172 3976 t
(smb)1712 4096 w
10 S f
(_)1879 4096 w
10 R f
( smb)1 345(vwv[2] offset-low)1 848 2 1929 4096 t
10 S f
(_)3122 4096 w
10 R f
(bcc 0)1 488 1 3172 4096 t
(smb)1712 4216 w
10 S f
(_)1879 4216 w
10 R f
(vwv[2] offset-high)1 876 1 1929 4216 t
(smb)1712 4336 w
10 S f
(_)1879 4336 w
10 R f
( = 0)2 172(bcc min)1 594 2 1929 4336 t
10 S f
( \347)1 -2436(_ ________________________________________________)1 2436 2 1662 4356 t
(\347)1662 4256 w
(\347)1662 4156 w
(\347)1662 4056 w
(\347)1662 3956 w
(\347)1662 3856 w
(\347)1662 3756 w
(\347)1662 3656 w
(\347)1662 3556 w
(\347)1662 3456 w
(\347)2880 4356 w
(\347)2880 4256 w
(\347)2880 4156 w
(\347)2880 4056 w
(\347)2880 3956 w
(\347)2880 3856 w
(\347)2880 3756 w
(\347)2880 3656 w
(\347)2880 3556 w
(\347)2880 3456 w
(\347)4098 4356 w
(\347)4098 4256 w
(\347)4098 4156 w
(\347)4098 4056 w
(\347)4098 3956 w
(\347)4098 3856 w
(\347)4098 3756 w
(\347)4098 3656 w
(\347)4098 3556 w
(\347)4098 3456 w
10 R f
( starting point of)3 700( The)1 225( sent to set the current \256le pointer for the requesting process.)11 2550(The seek message is)3 845 4 720 4536 t
(the seek is set by the)5 864 1 720 4656 t
10 S1 f
(")1617 4656 w
10 R f
(mode)1658 4656 w
10 S1 f
(")1880 4656 w
10 R f
( may have the following values:)5 1319( This)1 244(\256eld in the request.)3 790 3 1954 4656 t
(0 = seek from start of \256le)6 1058 1 1080 4836 t
(1 = seek from current \256le pointer)6 1368 1 1080 4956 t
(2 = seek from end of \256le)6 1030 1 1080 5076 t
( returns the new \256le pointer expressed as the offset from the start of the \256le, and may be)18 3777(The response)1 543 2 720 5256 t
( attempt to seek to before the start of \256le set the \256le pointer to start)15 2856( An)1 193( of \256le.)2 312(beyond the current end)3 959 4 720 5376 t
(of \256le.)1 269 1 720 5496 t
(Note: the)1 381 1 720 5736 t
10 S1 f
(")1138 5736 w
10 R f
(current \256le pointer)2 767 1 1179 5736 t
10 S1 f
(")1946 5736 w
10 R f
( this command re\257ects the offset plus data length speci\256ed)9 2456(at the start of)3 560 2 2024 5736 t
( set by this command will be replaced by the)9 1883(in the previous read, write or seek request, and the pointer)10 2437 2 720 5856 t
(offset speci\256ed in the next read, write or seek command.)9 2331 1 720 5976 t
(Seek may generate the following errors:)5 1639 1 720 6216 t
(Error Class ERRDOS:)2 916 1 1080 6396 t
(ERRnoaccess)1146 6636 w
(Errbad\256d)1146 6756 w
10 S1 f
(<)1146 6876 w
10 R f
(implementation speci\256c)1 966 1 1202 6876 t
10 S1 f
(>)2168 6876 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 13 13
%%Page: 14 14
save
mark
14 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 14 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(Error Class ERRSRV:)2 911 1 1080 900 t
(ERRerror)1146 1140 w
(ERRinvnid)1146 1260 w
10 S1 f
(<)1146 1380 w
10 R f
(implementation speci\256c)1 966 1 1202 1380 t
10 S1 f
(>)2168 1380 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 1620 t
10 S1 f
(<)1146 1860 w
10 R f
(implementation speci\256c)1 966 1 1202 1860 t
10 S1 f
(>)2168 1860 w
10 B f
( Directory)1 442(5.8. Create)1 503 2 720 2160 t
10 S f
(_ ______________________________________________)1 2338 1 1711 2276 t
10 S1 f
(>)1761 2396 w
10 R f
( Consumer)1 444( To)1 642(From Consumer)1 661 3 1817 2396 t
10 S f
(_ ______________________________________________)1 2338 1 1711 2416 t
10 R f
(smb)1761 2536 w
10 S f
(_)1928 2536 w
10 R f
( smb)1 398(com SMBmkdir)1 800 2 1978 2536 t
10 S f
(_)3176 2536 w
10 R f
(com SMBmkdir)1 773 1 3226 2536 t
(smb)1761 2656 w
10 S f
(_)1928 2656 w
10 R f
( smb)1 799(wct 0)1 399 2 1978 2656 t
10 S f
(_)3176 2656 w
10 R f
(wct 0)1 372 1 3226 2656 t
(smb)1761 2776 w
10 S f
(_)1928 2776 w
10 R f
( smb)1 521( = 2)2 172(bcc min)1 505 3 1978 2776 t
10 S f
(_)3176 2776 w
10 R f
(bcc 0)1 372 1 3226 2776 t
(smb)1761 2896 w
10 S f
(_)1928 2896 w
10 R f
( -- 04)2 232(buf[] ASCII)1 610 2 1978 2896 t
(dir pathname)1 532 1 2327 3016 t
10 S f
( \347)1 -2338(_ ______________________________________________)1 2338 2 1711 3036 t
(\347)1711 2976 w
(\347)1711 2876 w
(\347)1711 2776 w
(\347)1711 2676 w
(\347)1711 2576 w
(\347)1711 2476 w
(\347)1711 2376 w
(\347)2934 3036 w
(\347)2934 2976 w
(\347)2934 2876 w
(\347)2934 2776 w
(\347)2934 2676 w
(\347)2934 2576 w
(\347)2934 2476 w
(\347)2934 2376 w
(\347)4049 3036 w
(\347)4049 2976 w
(\347)4049 2876 w
(\347)4049 2776 w
(\347)4049 2676 w
(\347)4049 2576 w
(\347)4049 2476 w
(\347)4049 2376 w
10 R f
( appropriate TID and additional path-)5 1539( The)1 222( directory.)1 419(The create directory message is sent to create a new)9 2140 4 720 3216 t
( directory must not exist for it to be created.)9 1825( The)1 221(name are passed.)2 694 3 720 3336 t
( containing the)2 652(Unprotected servers will require requesters to have create permission for the subtree)11 3668 2 720 3576 t
( creator's access rights to the new directory will be)9 2211( The)1 233( create a new directory.)4 1012(directory in order to)3 864 4 720 3696 t
(determined by the containing subtree permissions.)5 2049 1 720 3816 t
( on the new directory's parent direc-)6 1565(Protected servers will require requesters to have write permission)8 2755 2 720 4056 t
( read/write permission for the crea-)5 1474( access permissions granted on a created directory will be)9 2432(tory. The)1 414 3 720 4176 t
(tor.)720 4296 w
(Create Directory may generate the following errors:)6 2120 1 720 4536 t
(Error Class ERRDOS:)2 916 1 1080 4716 t
(ERRbadpath)1146 4956 w
(ERRnoaccess)1146 5076 w
(Error Class ERRSRV:)2 911 1 1080 5316 t
(ERRerror)1146 5556 w
(ERRaccess)1146 5676 w
(ERRinvnid)1146 5796 w
10 S1 f
(<)1146 5916 w
10 R f
(implementation speci\256c)1 966 1 1202 5916 t
10 S1 f
(>)2168 5916 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 6156 t
10 S1 f
(<)1146 6396 w
10 R f
(implementation speci\256c)1 966 1 1202 6396 t
10 S1 f
(>)2168 6396 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 14 14
%%Page: 15 15
save
mark
15 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 15 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 B f
( Directory)1 442(5.9. Delete)1 481 2 720 840 t
10 S f
(_ ______________________________________________)1 2321 1 1719 956 t
10 S1 f
(>)1769 1076 w
10 R f
( Consumer)1 444( To)1 642(From Consumer)1 661 3 1825 1076 t
10 S f
(_ ______________________________________________)1 2321 1 1719 1096 t
10 R f
(smb)1769 1216 w
10 S f
(_)1936 1216 w
10 R f
( smb)1 415(com SMBrmdir)1 783 2 1986 1216 t
10 S f
(_)3184 1216 w
10 R f
(com SMBrmdir)1 756 1 3234 1216 t
(smb)1769 1336 w
10 S f
(_)1936 1336 w
10 R f
( smb)1 799(wct 0)1 399 2 1986 1336 t
10 S f
(_)3184 1336 w
10 R f
(wct 0)1 372 1 3234 1336 t
(smb)1769 1456 w
10 S f
(_)1936 1456 w
10 R f
( smb)1 521( = 2)2 172(bcc min)1 505 3 1986 1456 t
10 S f
(_)3184 1456 w
10 R f
(bcc 0)1 372 1 3234 1456 t
(smb)1769 1576 w
10 S f
(_)1936 1576 w
10 R f
( -- 04)2 232(buf[] ASCII)1 610 2 1986 1576 t
(dir pathname)1 532 1 2335 1696 t
10 S f
( \347)1 -2321(_ ______________________________________________)1 2321 2 1719 1716 t
(\347)1719 1656 w
(\347)1719 1556 w
(\347)1719 1456 w
(\347)1719 1356 w
(\347)1719 1256 w
(\347)1719 1156 w
(\347)1719 1056 w
(\347)2942 1716 w
(\347)2942 1656 w
(\347)2942 1556 w
(\347)2942 1456 w
(\347)2942 1356 w
(\347)2942 1256 w
(\347)2942 1156 w
(\347)2942 1056 w
(\347)4040 1716 w
(\347)4040 1656 w
(\347)4040 1556 w
(\347)4040 1456 w
(\347)4040 1356 w
(\347)4040 1256 w
(\347)4040 1156 w
(\347)4040 1056 w
10 R f
( appropriate TID and additional)4 1328( The)1 228(The delete directory message is sent to delete an empty directory.)10 2764 3 720 1896 t
( directory must be empty for it to be deleted.)9 1853( The)1 221(pathname are passed.)2 866 3 720 2016 t
( permission to the subtree containing the)6 1765(Unprotected servers will require the requester to have write)8 2555 2 720 2256 t
(directory to be deleted.)3 944 1 720 2376 t
( the target directory's parent)4 1238(Protected servers will require the requester to have write permission to)10 3082 2 720 2616 t
(directory.)720 2736 w
( only the)2 372( Normally)1 452( of the server.)3 581(The effect of a delete will be, to some extent, dependent on the nature)13 2915 4 720 2976 t
( name is deleted, the directory contents are only deleted when all the directory's)13 3492(referenced directory)1 828 2 720 3096 t
(names have been deleted.)3 1043 1 720 3216 t
(In some cases a delete will cause immediate destruction of the directory contents.)12 3348 1 720 3456 t
(Delete Directory may generate the following errors:)6 2120 1 720 3696 t
(Error Class ERRDOS:)2 916 1 1080 3876 t
(ERRbadpath)1146 4116 w
(ERRnoaccess)1146 4236 w
(ERRremcd)1146 4356 w
(Error Class ERRSRV:)2 911 1 1080 4596 t
(ERRerror)1146 4836 w
(ERRaccess)1146 4956 w
(ERRinvnid)1146 5076 w
10 S1 f
(<)1146 5196 w
10 R f
(implementation speci\256c)1 966 1 1202 5196 t
10 S1 f
(>)2168 5196 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 5436 t
10 S1 f
(<)1146 5676 w
10 R f
(implementation speci\256c)1 966 1 1202 5676 t
10 S1 f
(>)2168 5676 w
10 B f
( File)1 194(5.10. Delete)1 531 2 720 5976 t
10 S f
(_ _________________________________________________)1 2466 1 1647 6092 t
10 S1 f
(>)1697 6212 w
10 R f
( Consumer)1 444( To)1 753(From Consumer)1 661 3 1753 6212 t
10 S f
(_ _________________________________________________)1 2466 1 1647 6232 t
10 R f
(smb)1697 6352 w
10 S f
(_)1864 6352 w
10 R f
( smb)1 403(com SMBunlink)1 906 2 1914 6352 t
10 S f
(_)3223 6352 w
10 R f
(com SMBunlink)1 790 1 3273 6352 t
(smb)1697 6472 w
10 S f
(_)1864 6472 w
10 R f
( smb)1 821(wct 1)1 488 2 1914 6472 t
10 S f
(_)3223 6472 w
10 R f
(wct 0)1 372 1 3273 6472 t
(smb)1697 6592 w
10 S f
(_)1864 6592 w
10 R f
( smb)1 538(vwv[0] attribute)1 771 2 1914 6592 t
10 S f
(_)3223 6592 w
10 R f
(bcc 0)1 372 1 3273 6592 t
(smb)1697 6712 w
10 S f
(_)1864 6712 w
10 R f
( = 2)2 172(bcc min)1 594 2 1914 6712 t
(smb)1697 6832 w
10 S f
(_)1864 6832 w
10 R f
( -- 04)2 232(buf[] ASCII)1 699 2 1914 6832 t
(\256le pathname)1 549 1 2352 6952 t
10 S f
( \347)1 -2466(_ _________________________________________________)1 2466 2 1647 6972 t
(\347)1647 6892 w
(\347)1647 6792 w
(\347)1647 6692 w
(\347)1647 6592 w
(\347)1647 6492 w
(\347)1647 6392 w
(\347)1647 6292 w
(\347)1647 6192 w
(\347)2981 6972 w
(\347)2981 6892 w
(\347)2981 6792 w
(\347)2981 6692 w
(\347)2981 6592 w
(\347)2981 6492 w
(\347)2981 6392 w
(\347)2981 6292 w
(\347)2981 6192 w
(\347)4113 6972 w
(\347)4113 6892 w
(\347)4113 6792 w
(\347)4113 6692 w
(\347)4113 6592 w
(\347)4113 6492 w
(\347)4113 6392 w
(\347)4113 6292 w
(\347)4113 6192 w
10 R f
( appropriate TID and additional pathname are)6 1919( The)1 229( sent to delete a data \256le.)6 1086(The delete \256le message is)4 1086 4 720 7152 t
( only \256les may not be deleted, the read-only attribute)9 2186( Read)1 271( \256le must exist for it to be deleted.)8 1433(passed. A)1 430 4 720 7272 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 15 15
%%Page: 16 16
save
mark
16 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 16 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(must be reset prior to \256le deletion.)6 1422 1 720 840 t
(Multiple \256les may be deleted in response to a single request as Delete File supports)14 3498 1 720 1080 t
10 S1 f
(")4256 1080 w
10 R f
(wild cards)1 426 1 4297 1080 t
10 S1 f
(")4723 1080 w
10 R f
(in the)1 238 1 4802 1080 t
(\256le name \(last component of the pathname\).)6 1821 1 720 1200 t
10 S1 f
(")2609 1200 w
10 R f
(?)2650 1200 w
10 S1 f
(")2694 1200 w
10 R f
(is the wild card for single characters,)6 1525 1 2770 1200 t
10 S1 f
(")4329 1200 w
10 R f
(*)4370 1200 w
10 S1 f
(")4420 1200 w
10 R f
(or)4495 1200 w
10 S1 f
(")4612 1200 w
10 R f
(null)4653 1200 w
10 S1 f
(")4809 1200 w
10 R f
(will)4884 1200 w
( \256lename)1 381( The)1 225( of \256lename characters within a single part of the \256lename component.)11 2949(match any number)2 765 4 720 1320 t
( name and)2 454( The)1 235( character name and a three character extension.)7 2068(is divided into two parts -- an eight)7 1563 4 720 1440 t
(extension are divided by a)4 1080 1 720 1560 t
10 S1 f
(")1833 1560 w
10 R f
(.)1874 1560 w
10 S1 f
(")1899 1560 w
10 R f
(.)1940 1560 w
( part commences with one or more)6 1524(If a \256lename)2 548 2 720 1800 t
10 S1 f
(")2840 1800 w
10 R f
(?)2881 1800 w
10 S1 f
(")2925 1800 w
10 R f
(s then exactly that number of characters will be)8 2074 1 2966 1800 t
(matched by the wildcards, e.g.,)4 1278 1 720 1920 t
10 S1 f
(")2032 1920 w
10 R f
(??x)2073 1920 w
10 S1 f
(")2211 1920 w
10 R f
(will equal)1 406 1 2286 1920 t
10 S1 f
(")2726 1920 w
10 R f
(abx)2767 1920 w
10 S1 f
(")2911 1920 w
10 R f
(but not)1 289 1 2986 1920 t
10 S1 f
(")3308 1920 w
10 R f
(abcx)3349 1920 w
10 S1 f
(")3537 1920 w
10 R f
(or)3611 1920 w
10 S1 f
(")3727 1920 w
10 R f
(ax)3768 1920 w
10 S1 f
(")3862 1920 w
10 R f
( a \256lename part has)4 808(. When)1 329 2 3903 1920 t
(trailing)720 2040 w
10 S1 f
(")1048 2040 w
10 R f
(?)1089 2040 w
10 S1 f
(")1133 2040 w
10 R f
( of characters or less, e.g.,)5 1113(s then it will match the speci\256ed number)7 1722 2 1174 2040 t
10 S1 f
(")4049 2040 w
10 R f
(x??)4090 2040 w
10 S1 f
(")4228 2040 w
10 R f
(will match)1 440 1 4309 2040 t
10 S1 f
(")4789 2040 w
10 R f
(xab)4830 2040 w
10 S1 f
(")4974 2040 w
10 R f
(,)5015 2040 w
10 S1 f
(")720 2160 w
10 R f
(xa)761 2160 w
10 S1 f
(")855 2160 w
10 R f
(and)930 2160 w
10 S1 f
(")1108 2160 w
10 R f
(x)1149 2160 w
10 S1 f
(")1199 2160 w
10 R f
(, but not)2 349 1 1240 2160 t
10 S1 f
(")1623 2160 w
10 R f
(xabc)1664 2160 w
10 S1 f
(")1852 2160 w
10 R f
( only)1 212(. If)1 158 2 1893 2160 t
10 S1 f
(")2297 2160 w
10 R f
(?)2338 2160 w
10 S1 f
(")2382 2160 w
10 R f
( trail-)1 227(s are present in the \256lename part, then it is handled as for)12 2390 2 2423 2160 t
(ing)720 2280 w
10 S1 f
(")881 2280 w
10 R f
(?)922 2280 w
10 S1 f
(")966 2280 w
10 R f
(s)1007 2280 w
10 S1 f
(")720 2520 w
10 R f
(*)761 2520 w
10 S1 f
(")811 2520 w
10 R f
(or)891 2520 w
10 S1 f
(")1013 2520 w
10 R f
(null)1054 2520 w
10 S1 f
(")1210 2520 w
10 R f
(match entire pathname parts, thus)4 1401 1 1290 2520 t
10 S1 f
(")2730 2520 w
10 R f
(*.abc)2771 2520 w
10 S1 f
(")2984 2520 w
10 R f
(or)3065 2520 w
10 S1 f
(")3188 2520 w
10 R f
(.abc)3229 2520 w
10 S1 f
(")3392 2520 w
10 R f
(will match any \256le with an extension)6 1567 1 3473 2520 t
(of)720 2640 w
10 S1 f
(")836 2640 w
10 R f
(abc)877 2640 w
10 S1 f
(")1015 2640 w
10 R f
(.)1056 2640 w
10 S1 f
(")1147 2640 w
10 R f
(*.*)1188 2640 w
10 S1 f
(")1313 2640 w
10 R f
(,)1354 2640 w
10 S1 f
(")1412 2640 w
10 R f
(*)1453 2640 w
10 S1 f
(")1503 2640 w
10 R f
(or)1577 2640 w
10 S1 f
(")1693 2640 w
10 R f
(null)1734 2640 w
10 S1 f
(")1890 2640 w
10 R f
(will match all \256les in a directory.)6 1372 1 1964 2640 t
( attribute is zero then)4 911( the)1 163( If)1 140(The attribute \256eld indicates the attributes that the target \256le\(s\) must have.)11 3106 4 720 2880 t
( then the delete is)4 791( the system \256le or hidden attributes are speci\256ed)8 2123( If)1 148(only normal \256les are deleted.)4 1258 4 720 3000 t
(inclusive -- both the speci\256ed type\(s\) of \256les and normal \256les are deleted.)12 3033 1 720 3120 t
( to have write permission to the subtree containing the \256le)10 2440(Unprotected servers will require the requester)5 1880 2 720 3360 t
(to be deleted.)2 551 1 720 3480 t
(Protected servers will require the requester to have write permission to the target \256le's parent directory.)15 4250 1 720 3720 t
( only the)2 372( Normally)1 452( of the server.)3 581(The effect of a delete will be, to some extent, dependent on the nature)13 2915 4 720 3960 t
( are only deleted when all the \256le's names have been)10 2286(referenced \256le name is deleted, the \256le contents)7 2034 2 720 4080 t
(deleted and all \256le handles associated with it have been destroyed \(closed\).)11 3082 1 720 4200 t
( contents and)2 577(In some cases \(notably MS-DOS\) a delete will cause immediate destruction of the \256le)13 3743 2 720 4440 t
(invalidation of all \256ds associated with the \256le.)7 1900 1 720 4560 t
(Delete File may generate the following errors:)6 1894 1 720 4800 t
(Error Class ERRDOS:)2 916 1 1080 4980 t
(ERRbad\256le)1146 5220 w
(ERRnoaccess)1146 5340 w
(Error Class ERRSRV:)2 911 1 1080 5580 t
(ERRerror)1146 5820 w
(ERRaccess)1146 5940 w
(ERRinvnid)1146 6060 w
10 S1 f
(<)1146 6180 w
10 R f
(implementation speci\256c)1 966 1 1202 6180 t
10 S1 f
(>)2168 6180 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 6420 t
10 S1 f
(<)1146 6660 w
10 R f
(implementation speci\256c)1 966 1 1202 6660 t
10 S1 f
(>)2168 6660 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 16 16
%%Page: 17 17
save
mark
17 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 17 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 B f
( File)1 194(5.11. Rename)1 615 2 720 840 t
10 S f
(_ ___________________________________________________)1 2570 1 1595 956 t
10 S1 f
(>)1645 1076 w
10 R f
( Consumer)1 444( To)1 985(From Consumer)1 661 3 1701 1076 t
10 S f
(_ ___________________________________________________)1 2570 1 1595 1096 t
10 R f
(smb)1645 1216 w
10 S f
(_)1812 1216 w
10 R f
( smb)1 763(com SMBmv)1 778 2 1862 1216 t
10 S f
(_)3403 1216 w
10 R f
(com SMBmv)1 662 1 3453 1216 t
(smb)1645 1336 w
10 S f
(_)1812 1336 w
10 R f
( smb)1 1053(wct 1)1 488 2 1862 1336 t
10 S f
(_)3403 1336 w
10 R f
(wct 0)1 372 1 3453 1336 t
(smb)1645 1456 w
10 S f
(_)1812 1456 w
10 R f
( smb)1 770(vwv[0] attribute)1 771 2 1862 1456 t
10 S f
(_)3403 1456 w
10 R f
(bcc 0)1 372 1 3453 1456 t
(smb)1645 1576 w
10 S f
(_)1812 1576 w
10 R f
( = 4)2 172(bcc min)1 594 2 1862 1576 t
(smb)1645 1696 w
10 S f
(_)1812 1696 w
10 R f
( -- 04)2 232(buf[] ASCII)1 699 2 1862 1696 t
(old \256le pathname)2 710 1 2300 1816 t
(ASCII -- 04)2 493 1 2300 1936 t
(new \256le pathname)2 748 1 2300 2056 t
10 S f
( \347)1 -2570(_ ___________________________________________________)1 2570 2 1595 2076 t
(\347)1595 2056 w
(\347)1595 1956 w
(\347)1595 1856 w
(\347)1595 1756 w
(\347)1595 1656 w
(\347)1595 1556 w
(\347)1595 1456 w
(\347)1595 1356 w
(\347)1595 1256 w
(\347)1595 1156 w
(\347)1595 1056 w
(\347)3161 2076 w
(\347)3161 2056 w
(\347)3161 1956 w
(\347)3161 1856 w
(\347)3161 1756 w
(\347)3161 1656 w
(\347)3161 1556 w
(\347)3161 1456 w
(\347)3161 1356 w
(\347)3161 1256 w
(\347)3161 1156 w
(\347)3161 1056 w
(\347)4165 2076 w
(\347)4165 2056 w
(\347)4165 1956 w
(\347)4165 1856 w
(\347)4165 1756 w
(\347)4165 1656 w
(\347)4165 1556 w
(\347)4165 1456 w
(\347)4165 1356 w
(\347)4165 1256 w
(\347)4165 1156 w
(\347)4165 1056 w
10 R f
( \256rst \256le pathname must exist and the)7 1567( The)1 223( a \256le.)2 267(The rename \256le message is sent to change the name of)10 2263 4 720 2256 t
( \256les may be)3 532( Open)1 282( pathnames must be relative to the tid speci\256ed in the request.)11 2552( Both)1 261(second must not.)2 693 5 720 2376 t
(renamed.)720 2496 w
( as Rename File supports)4 1065(Multiple \256les may be renamed in response to a single request)10 2587 2 720 2736 t
10 S1 f
(")4412 2736 w
10 R f
(wild cards)1 428 1 4453 2736 t
10 S1 f
(")4881 2736 w
10 R f
(in)4962 2736 w
( wild card matching algorithm is described in the)8 2079( The)1 228(the \256le name \(last component of the pathname\).)7 2013 3 720 2856 t
10 S1 f
(")720 2976 w
10 R f
(Delete File)1 449 1 761 2976 t
10 S1 f
(")1210 2976 w
10 R f
(description.)1284 2976 w
( attribute is zero then)4 911( the)1 163( If)1 140(The attribute \256eld indicates the attributes that the target \256le\(s\) must have.)11 3106 4 720 3216 t
( the system \256le or hidden attributes are speci\256ed then the rename is)12 2889( If)1 142(only normal \256les are renamed.)4 1289 3 720 3336 t
(inclusive -- both the speci\256ed type\(s\) of \256les and normal \256les are renamed.)12 3088 1 720 3456 t
( sub-)1 207(Unprotected servers require the requester to have both read and create permissions to the referenced)14 4113 2 720 3696 t
(tree.)720 3816 w
( write permission to the parent directories of both the)9 2338(Protected servers require the requester to have)6 1982 2 720 4056 t
(source and destination \256les.)3 1134 1 720 4176 t
( rename)1 328( Other)1 295( the last component of the \256le pathnames differs.)8 2030(Rename is guaranteed to succeed if only)6 1667 4 720 4416 t
(requests may succeed depending on the server implementation used.)8 2795 1 720 4536 t
(Rename may generate the following errors:)5 1772 1 720 4776 t
(Error Class ERRDOS:)2 916 1 1080 4956 t
(ERRbad\256le)1146 5196 w
(ERRnoaccess)1146 5316 w
(ERRdiffdevice)1146 5436 w
(Error Class ERRSRV:)2 911 1 1080 5676 t
(ERRerror)1146 5916 w
(ERRaccess)1146 6036 w
(ERRinvnid)1146 6156 w
10 S1 f
(<)1146 6276 w
10 R f
(implementation speci\256c)1 966 1 1202 6276 t
10 S1 f
(>)2168 6276 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 6516 t
10 S1 f
(<)1146 6756 w
10 R f
(implementation speci\256c)1 966 1 1202 6756 t
10 S1 f
(>)2168 6756 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 17 17
%%Page: 18 18
save
mark
18 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 18 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 B f
( File Attributes)2 665(5.12. Get)1 421 2 720 840 t
10 S f
(_ _______________________________________________________)1 2761 1 1499 956 t
10 S1 f
(>)1549 1076 w
10 R f
( Consumer)1 444( To)1 664(From Consumer)1 661 3 1605 1076 t
10 S f
(_ _______________________________________________________)1 2761 1 1499 1096 t
10 R f
(smb)1549 1216 w
10 S f
(_)1716 1216 w
10 R f
( smb)1 432(com SMBgetatr)1 788 2 1766 1216 t
10 S f
(_)2986 1216 w
10 R f
(com SMBgetatr)1 960 1 3036 1216 t
(smb)1549 1336 w
10 S f
(_)1716 1336 w
10 R f
( smb)1 821(wct 0)1 399 2 1766 1336 t
10 S f
(_)2986 1336 w
10 R f
(wct 10)1 621 1 3036 1336 t
(smb)1549 1456 w
10 S f
(_)1716 1456 w
10 R f
( smb)1 543( = 2)2 172(bcc min)1 505 3 1766 1456 t
10 S f
(_)2986 1456 w
10 R f
(vwv[0] attribute)1 854 1 3036 1456 t
(smb)1549 1576 w
10 S f
(_)1716 1576 w
10 R f
( smb)1 378( -- 04)2 232(buf[] ASCII)1 610 3 1766 1576 t
10 S f
(_)2986 1576 w
10 R f
( low)1 183(vwv[1] time1)1 749 2 3036 1576 t
( smb)1 322(\256le pathname)1 549 2 2115 1696 t
10 S f
(_)2986 1696 w
10 R f
( high)1 211(vwv[2] time1)1 749 2 3036 1696 t
(smb)2819 1816 w
10 S f
(_)2986 1816 w
10 R f
( size low)2 371(vwv[3] \256le)1 649 2 3036 1816 t
(smb)2819 1936 w
10 S f
(_)2986 1936 w
10 R f
( size high)2 399(vwv[4] \256le)1 649 2 3036 1936 t
(smb)2819 2056 w
10 S f
(_)2986 2056 w
10 R f
( \(MBZ\))1 316(vwv[5-9] reserved)1 858 2 3036 2056 t
(smb)2819 2176 w
10 S f
(_)2986 2176 w
10 R f
(bcc 0)1 571 1 3036 2176 t
10 S f
( \347)1 -2761(_ _______________________________________________________)1 2761 2 1499 2196 t
(\347)1499 2156 w
(\347)1499 2056 w
(\347)1499 1956 w
(\347)1499 1856 w
(\347)1499 1756 w
(\347)1499 1656 w
(\347)1499 1556 w
(\347)1499 1456 w
(\347)1499 1356 w
(\347)1499 1256 w
(\347)1499 1156 w
(\347)1499 1056 w
(\347)2744 2196 w
(\347)2744 2156 w
(\347)2744 2056 w
(\347)2744 1956 w
(\347)2744 1856 w
(\347)2744 1756 w
(\347)2744 1656 w
(\347)2744 1556 w
(\347)2744 1456 w
(\347)2744 1356 w
(\347)2744 1256 w
(\347)2744 1156 w
(\347)2744 1056 w
(\347)4260 2196 w
(\347)4260 2156 w
(\347)4260 2056 w
(\347)4260 1956 w
(\347)4260 1856 w
(\347)4260 1756 w
(\347)4260 1656 w
(\347)4260 1556 w
(\347)4260 1456 w
(\347)4260 1356 w
(\347)4260 1256 w
(\347)4260 1156 w
(\347)4260 1056 w
10 R f
( attribute, time1, and \256le)4 1047( The)1 229( a \256le.)2 279(The get \256le attributes message is sent to obtain information about)10 2765 4 720 2376 t
( \256elds must contain valid)4 1094(size \256elds must contain valid values for data \256les. The attribute and time1)12 3226 2 720 2496 t
(values for directories.)2 883 1 720 2616 t
(Get File Attributes may generate the following errors:)7 2211 1 720 2856 t
(Error Class ERRDOS:)2 916 1 1080 3036 t
(ERRbad\256le)1146 3276 w
10 S1 f
(<)1146 3396 w
10 R f
(implementation speci\256c)1 966 1 1202 3396 t
10 S1 f
(>)2168 3396 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 3636 t
(ERRerror)1146 3876 w
(ERRinvnid)1146 3996 w
10 S1 f
(<)1146 4116 w
10 R f
(implementation speci\256c)1 966 1 1202 4116 t
10 S1 f
(>)2168 4116 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 4356 t
10 S1 f
(<)1146 4596 w
10 R f
(implementation speci\256c)1 966 1 1202 4596 t
10 S1 f
(>)2168 4596 w
10 B f
( File Attributes)2 665(5.13. Set)1 399 2 720 4896 t
10 S f
(_ ____________________________________________________)1 2608 1 1576 5012 t
10 S1 f
(>)1626 5132 w
10 R f
( Consumer)1 444( To)1 935(From Consumer)1 661 3 1682 5132 t
10 S f
(_ ____________________________________________________)1 2608 1 1576 5152 t
10 R f
(smb)1626 5272 w
10 S f
(_)1793 5272 w
10 R f
( smb)1 542(com SMBsetatr)1 949 2 1843 5272 t
10 S f
(_)3334 5272 w
10 R f
(com SMBsetatr)1 750 1 3384 5272 t
(smb)1626 5392 w
10 S f
(_)1793 5392 w
10 R f
( smb)1 920(wct 8)1 571 2 1843 5392 t
10 S f
(_)3334 5392 w
10 R f
(wct 0)1 372 1 3384 5392 t
(smb)1626 5512 w
10 S f
(_)1793 5512 w
10 R f
( smb)1 637(vwv[0] attribute)1 854 2 1843 5512 t
10 S f
(_)3334 5512 w
10 R f
(bcc 0)1 372 1 3384 5512 t
(smb)1626 5632 w
10 S f
(_)1793 5632 w
10 R f
( low)1 183(vwv[1] time1)1 749 2 1843 5632 t
(smb)1626 5752 w
10 S f
(_)1793 5752 w
10 R f
( high)1 211(vwv[2] time1)1 749 2 1843 5752 t
(smb)1626 5872 w
10 S f
(_)1793 5872 w
10 R f
( \(MBZ\))1 316(vwv[3-7] reserved)1 858 2 1843 5872 t
(smb)1626 5992 w
10 S f
(_)1793 5992 w
10 R f
( = 2)2 172(bcc min)1 677 2 1843 5992 t
(smb)1626 6112 w
10 S f
(_)1793 6112 w
10 R f
( -- 04)2 232(buf[] ASCII)1 782 2 1843 6112 t
(\256le pathname)1 549 1 2364 6232 t
(smb)1626 6352 w
10 S f
(_)1793 6352 w
10 R f
( -- 04)2 232(nul[] ASCII)1 782 2 1843 6352 t
(null string)1 417 1 2364 6472 t
10 S f
( \347)1 -2608(_ ____________________________________________________)1 2608 2 1576 6492 t
(\347)1576 6412 w
(\347)1576 6312 w
(\347)1576 6212 w
(\347)1576 6112 w
(\347)1576 6012 w
(\347)1576 5912 w
(\347)1576 5812 w
(\347)1576 5712 w
(\347)1576 5612 w
(\347)1576 5512 w
(\347)1576 5412 w
(\347)1576 5312 w
(\347)1576 5212 w
(\347)1576 5112 w
(\347)3092 6492 w
(\347)3092 6412 w
(\347)3092 6312 w
(\347)3092 6212 w
(\347)3092 6112 w
(\347)3092 6012 w
(\347)3092 5912 w
(\347)3092 5812 w
(\347)3092 5712 w
(\347)3092 5612 w
(\347)3092 5512 w
(\347)3092 5412 w
(\347)3092 5312 w
(\347)3092 5212 w
(\347)3092 5112 w
(\347)4184 6492 w
(\347)4184 6412 w
(\347)4184 6312 w
(\347)4184 6212 w
(\347)4184 6112 w
(\347)4184 6012 w
(\347)4184 5912 w
(\347)4184 5812 w
(\347)4184 5712 w
(\347)4184 5612 w
(\347)4184 5512 w
(\347)4184 5412 w
(\347)4184 5312 w
(\347)4184 5212 w
(\347)4184 5112 w
10 R f
( of all parameters)3 734( Support)1 388( \256le attributes message is sent to change the information about a \256le.)12 2895(The set)1 303 4 720 6672 t
( the parameters will ignore that \256eld. If the time1)9 2036( server which does not implement one of)7 1691( A)1 139(is optional.)1 454 4 720 6792 t
(\256eld contains zero then the \256le's time is not changed.)9 2203 1 720 6912 t
( the requester to have write permission to the subtree containing the refer-)12 3177(Unprotected servers require)2 1143 2 720 7152 t
(enced \256le.)1 418 1 720 7272 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 18 18
%%Page: 19 19
save
mark
19 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 19 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
( legitimate users will be)4 1019( Other)1 301( to use this command.)4 939(Protected servers will allow the owner of the \256le)8 2061 4 720 840 t
(server dependent.)1 711 1 720 960 t
(Set File Attributes may generate the following errors:)7 2195 1 720 1200 t
(Error Class ERRDOS:)2 916 1 1080 1380 t
(ERRbadfunc)1146 1620 w
(ERRbadpath)1146 1740 w
(ERRnoaccess)1146 1860 w
(Error Class ERRSRV:)2 911 1 1080 2100 t
(ERRerror)1146 2340 w
(ERRinvnid)1146 2460 w
(ERRaccess)1146 2580 w
10 S1 f
(<)1146 2700 w
10 R f
(implementation speci\256c)1 966 1 1202 2700 t
10 S1 f
(>)2168 2700 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 2940 t
10 S1 f
(<)1146 3180 w
10 R f
(implementation speci\256c)1 966 1 1202 3180 t
10 S1 f
(>)2168 3180 w
10 B f
( Record)1 343(5.14. Lock)1 483 2 720 3480 t
10 S f
(_ _____________________________________________)1 2271 1 1744 3596 t
10 S1 f
(>)1794 3716 w
10 R f
( Consumer)1 444( To)1 642(From Consumer)1 661 3 1850 3716 t
10 S f
(_ _____________________________________________)1 2271 1 1744 3736 t
10 R f
(smb)1794 3856 w
10 S f
(_)1961 3856 w
10 R f
( smb)1 376(com SMBlock)1 822 2 2011 3856 t
10 S f
(_)3209 3856 w
10 R f
(com SMBlock)1 706 1 3259 3856 t
(smb)1794 3976 w
10 S f
(_)1961 3976 w
10 R f
( smb)1 710(wct 5)1 488 2 2011 3976 t
10 S f
(_)3209 3976 w
10 R f
(wct 0)1 372 1 3259 3976 t
(smb)1794 4096 w
10 S f
(_)1961 4096 w
10 R f
( smb)1 333( handle)1 299(vwv[0] \256le)1 566 3 2011 4096 t
10 S f
(_)3209 4096 w
10 R f
(bcc 0)1 372 1 3259 4096 t
(smb)1794 4216 w
10 S f
(_)1961 4216 w
10 R f
( low)1 183(vwv[1] count)1 660 2 2011 4216 t
(smb)1794 4336 w
10 S f
(_)1961 4336 w
10 R f
( high)1 211(vwv[2] count)1 660 2 2011 4336 t
(smb)1794 4456 w
10 S f
(_)1961 4456 w
10 R f
( low)1 183(vwv[3] offset)1 665 2 2011 4456 t
(smb)1794 4576 w
10 S f
(_)1961 4576 w
10 R f
( high)1 211(vwv[4] offset)1 665 2 2011 4576 t
(smb)1794 4696 w
10 S f
(_)1961 4696 w
10 R f
(bcc 0)1 488 1 2011 4696 t
10 S f
( \347)1 -2271(_ _____________________________________________)1 2271 2 1744 4716 t
(\347)1744 4696 w
(\347)1744 4596 w
(\347)1744 4496 w
(\347)1744 4396 w
(\347)1744 4296 w
(\347)1744 4196 w
(\347)1744 4096 w
(\347)1744 3996 w
(\347)1744 3896 w
(\347)1744 3796 w
(\347)1744 3696 w
(\347)2967 4716 w
(\347)2967 4696 w
(\347)2967 4596 w
(\347)2967 4496 w
(\347)2967 4396 w
(\347)2967 4296 w
(\347)2967 4196 w
(\347)2967 4096 w
(\347)2967 3996 w
(\347)2967 3896 w
(\347)2967 3796 w
(\347)2967 3696 w
(\347)4015 4716 w
(\347)4015 4696 w
(\347)4015 4596 w
(\347)4015 4496 w
(\347)4015 4396 w
(\347)4015 4296 w
(\347)4015 4196 w
(\347)4015 4096 w
(\347)4015 3996 w
(\347)4015 3896 w
(\347)4015 3796 w
(\347)4015 3696 w
10 R f
( than one non-overlapping byte)4 1340( More)1 297( sent to lock the given byte range.)7 1509(The lock record message is)4 1174 4 720 4896 t
( prevent attempts to lock, read)5 1264( They)1 275( are coercive in nature.)4 958( Locks)1 314(range may be locked in a given \256le.)7 1509 5 720 5016 t
( addresses beyond the)3 927( File)1 232( allowed.)1 384( locks are not)3 586( Overlapping)1 574(or write the locked portion of the \256le.)7 1617 6 720 5136 t
( locks will not cause allocation of \256le space.)8 1831( Such)1 266(current end of \256le may be locked.)6 1392 3 720 5256 t
( locks)1 248( ability to perform)3 763( The)1 224(Locks may only be unlocked by the process \(pid\) that performed the lock.)12 3085 4 720 5496 t
(is not tied to any \256le access permission.)7 1644 1 720 5616 t
(Lock may generate the following errors:)5 1650 1 720 5856 t
(Error Class ERRDOS:)2 916 1 1080 6036 t
(ERRbad\256d)1146 6276 w
(ERRlock)1146 6396 w
10 S1 f
(<)1146 6516 w
10 R f
(implementation speci\256c)1 966 1 1202 6516 t
10 S1 f
(>)2168 6516 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 19 19
%%Page: 20 20
save
mark
20 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 20 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(Error Class ERRSRV:)2 911 1 1080 900 t
(ERRerror)1146 1140 w
(ERRinvdevice)1146 1260 w
(ERRinvnid)1146 1380 w
10 S1 f
(<)1146 1500 w
10 R f
(implementation speci\256c)1 966 1 1202 1500 t
10 S1 f
(>)2168 1500 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 1740 t
10 S1 f
(<)1146 1980 w
10 R f
(implementation speci\256c)1 966 1 1202 1980 t
10 S1 f
(>)2168 1980 w
10 B f
( Record)1 343(5.15. Unlock)1 572 2 720 2280 t
10 S f
(_ ________________________________________________)1 2412 1 1674 2396 t
10 S1 f
(>)1724 2516 w
10 R f
( Consumer)1 444( To)1 683(From Consumer)1 661 3 1780 2516 t
10 S f
(_ ________________________________________________)1 2412 1 1674 2536 t
10 R f
(smb)1724 2656 w
10 S f
(_)1891 2656 w
10 R f
( smb)1 317(com SMBunlock)1 922 2 1941 2656 t
10 S f
(_)3180 2656 w
10 R f
(com SMBunlock)1 806 1 3230 2656 t
(smb)1724 2776 w
10 S f
(_)1891 2776 w
10 R f
( smb)1 751(wct 5)1 488 2 1941 2776 t
10 S f
(_)3180 2776 w
10 R f
(wct 0)1 372 1 3230 2776 t
(smb)1724 2896 w
10 S f
(_)1891 2896 w
10 R f
( smb)1 374( handle)1 299(vwv[0] \256le)1 566 3 1941 2896 t
10 S f
(_)3180 2896 w
10 R f
(bcc 0)1 372 1 3230 2896 t
(smb)1724 3016 w
10 S f
(_)1891 3016 w
10 R f
( low)1 183(vwv[1] count)1 660 2 1941 3016 t
(smb)1724 3136 w
10 S f
(_)1891 3136 w
10 R f
( high)1 211(vwv[2] count)1 660 2 1941 3136 t
(smb)1724 3256 w
10 S f
(_)1891 3256 w
10 R f
( low)1 183(vwv[3] offset)1 665 2 1941 3256 t
(smb)1724 3376 w
10 S f
(_)1891 3376 w
10 R f
( high)1 211(vwv[4] offset)1 665 2 1941 3376 t
(smb)1724 3496 w
10 S f
(_)1891 3496 w
10 R f
(bcc 0)1 488 1 1941 3496 t
10 S f
( \347)1 -2412(_ ________________________________________________)1 2412 2 1674 3516 t
(\347)1674 3496 w
(\347)1674 3396 w
(\347)1674 3296 w
(\347)1674 3196 w
(\347)1674 3096 w
(\347)1674 2996 w
(\347)1674 2896 w
(\347)1674 2796 w
(\347)1674 2696 w
(\347)1674 2596 w
(\347)1674 2496 w
(\347)2938 3516 w
(\347)2938 3496 w
(\347)2938 3396 w
(\347)2938 3296 w
(\347)2938 3196 w
(\347)2938 3096 w
(\347)2938 2996 w
(\347)2938 2896 w
(\347)2938 2796 w
(\347)2938 2696 w
(\347)2938 2596 w
(\347)2938 2496 w
(\347)4086 3516 w
(\347)4086 3496 w
(\347)4086 3396 w
(\347)4086 3296 w
(\347)4086 3196 w
(\347)4086 3096 w
(\347)4086 2996 w
(\347)4086 2896 w
(\347)4086 2796 w
(\347)4086 2696 w
(\347)4086 2596 w
(\347)4086 2496 w
10 R f
( be identical to)3 630( byte range must)3 699( The)1 225(The unlock record message is sent to unlock the given byte range.)11 2766 4 720 3696 t
( a prior successful lock request, and the unlock requester \(pid\) must be the same as the)16 3659(that speci\256ed in)2 661 2 720 3816 t
( not locked it is treated as a no-op -- no)10 1744( an unlock references an address range that is)8 1941( If)1 141(lock holder.)1 494 4 720 3936 t
(action is taken and no error is generated.)7 1674 1 720 4056 t
(Unlock may generate the following errors:)5 1739 1 720 4296 t
(Error Class ERRDOS:)2 916 1 1080 4476 t
(ERRbad\256d)1146 4716 w
(ERRlock)1146 4836 w
10 S1 f
(<)1146 4956 w
10 R f
(implementation speci\256c)1 966 1 1202 4956 t
10 S1 f
(>)2168 4956 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 5196 t
(ERRerror)1146 5436 w
(ERRinvdevice)1146 5556 w
(ERRinvnid)1146 5676 w
10 S1 f
(<)1146 5796 w
10 R f
(implementation speci\256c)1 966 1 1202 5796 t
10 S1 f
(>)2168 5796 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 6036 t
10 S1 f
(<)1146 6276 w
10 R f
(implementation speci\256c)1 966 1 1202 6276 t
10 S1 f
(>)2168 6276 w
10 B f
( Temporary File)2 715(5.16. Create)1 553 2 720 6576 t
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 20 20
%%Page: 21 21
save
mark
21 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 21 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 S f
(_ _____________________________________________________________)1 3094 1 1333 740 t
10 S1 f
(>)1383 860 w
10 R f
( Consumer)1 444( To)1 980(From Consumer)1 661 3 1439 860 t
10 S f
(_ _____________________________________________________________)1 3094 1 1333 880 t
10 R f
(smb)1383 1000 w
10 S f
(_)1550 1000 w
10 R f
( smb)1 642(com SMBctemp)1 894 2 1600 1000 t
10 S f
(_)3136 1000 w
10 R f
(com SMBctemp)1 894 1 3186 1000 t
(smb)1383 1120 w
10 S f
(_)1550 1120 w
10 R f
( smb)1 1048(wct 3)1 488 2 1600 1120 t
10 S f
(_)3136 1120 w
10 R f
(wct 1)1 488 1 3186 1120 t
(smb)1383 1240 w
10 S f
(_)1550 1240 w
10 R f
( smb)1 765(vwv[0] attribute)1 771 2 1600 1240 t
10 S f
(_)3136 1240 w
10 R f
( handle)1 299(vwv[0] \256le)1 566 2 3186 1240 t
(smb)1383 1360 w
10 S f
(_)1550 1360 w
10 R f
( = 2)2 172( min)1 481( smb.bcc)1 900( low)1 183(vwv[1] time)1 616 5 1600 1360 t
(smb)1383 1480 w
10 S f
(_)1550 1480 w
10 R f
( smb)1 709( high)1 211(vwv[2] time)1 616 3 1600 1480 t
10 S f
(_)3136 1480 w
10 R f
( -- 04)2 232(buf[] ASCII)1 699 2 3186 1480 t
(smb)1383 1600 w
10 S f
(_)1550 1600 w
10 R f
( \256le pathname)2 582( new)1 1424( = 2)2 172(bcc min)1 594 4 1600 1600 t
(smb)1383 1720 w
10 S f
(_)1550 1720 w
10 R f
( -- 04)2 232(buf[] ASCII)1 699 2 1600 1720 t
(directory pathname)1 781 1 2038 1840 t
10 S f
( \347)1 -3094(_ _____________________________________________________________)1 3094 2 1333 1860 t
(\347)1333 1840 w
(\347)1333 1740 w
(\347)1333 1640 w
(\347)1333 1540 w
(\347)1333 1440 w
(\347)1333 1340 w
(\347)1333 1240 w
(\347)1333 1140 w
(\347)1333 1040 w
(\347)1333 940 w
(\347)1333 840 w
(\347)2894 1860 w
(\347)2894 1840 w
(\347)2894 1740 w
(\347)2894 1640 w
(\347)2894 1540 w
(\347)2894 1440 w
(\347)2894 1340 w
(\347)2894 1240 w
(\347)2894 1140 w
(\347)2894 1040 w
(\347)2894 940 w
(\347)2894 840 w
(\347)4427 1860 w
(\347)4427 1840 w
(\347)4427 1740 w
(\347)4427 1640 w
(\347)4427 1540 w
(\347)4427 1440 w
(\347)4427 1340 w
(\347)4427 1240 w
(\347)4427 1140 w
(\347)4427 1040 w
(\347)4427 940 w
(\347)4427 840 w
10 R f
( the request message and assigns a unique name)8 1985(The server creates a data \256le in the directory speci\256ed in)10 2335 2 720 2040 t
( \256le is opened in compatibility mode with)7 1859( The)1 240( \256le's name is returned to the requester.)7 1769( The)1 240(to it.)1 212 5 720 2160 t
(read/write access for the requester.)4 1418 1 720 2280 t
( for the subtree containing the \256le.)6 1457(Unprotected servers will require requesters to have create permission)8 2863 2 720 2520 t
( the)1 164(The newly created \256le will be opened in compatibility mode with the access mode determined by)15 4156 2 720 2640 t
(containing subtree permissions.)2 1279 1 720 2760 t
( The)1 236( permission on the \256le's parent directory.)6 1783(Protected servers will require requesters to have write)7 2301 3 720 3000 t
( newly)1 288( The)1 232( will be read/write permission for the creator.)7 1940(access permissions granted on a created \256le)6 1860 4 720 3120 t
(created or truncated \256le is opened in read/write/compatibility mode.)8 2779 1 720 3240 t
(Support of the create time supplied in the request is optional.)10 2514 1 720 3480 t
(Create Temporary File may generate the following errors.)7 2367 1 720 3720 t
(Error Class ERRDOS:)2 916 1 1080 3900 t
(ERRbadpath)1146 4140 w
(ERRno\256ds)1146 4260 w
(ERRnoaccess)1146 4380 w
(Error Class ERRSRV:)2 911 1 1080 4620 t
(ERRerror)1146 4860 w
(ERRaccess)1146 4980 w
(ERRinvnid)1146 5100 w
(ERRinvdevice)1146 5220 w
10 S1 f
(<)1146 5340 w
10 R f
(implementation speci\256c)1 966 1 1202 5340 t
10 S1 f
(>)2168 5340 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 5580 t
10 S1 f
(<)1146 5820 w
10 R f
(implementation speci\256c)1 966 1 1202 5820 t
10 S1 f
(>)2168 5820 w
10 B f
( Exit)1 211(5.17. Process)1 587 2 720 6120 t
10 S f
(_ _________________________________________)1 2052 1 1854 6236 t
10 S1 f
(>)1904 6356 w
10 R f
( Consumer)1 444( To)1 445(From Consumer)1 661 3 1960 6356 t
10 S f
(_ _________________________________________)1 2052 1 1854 6376 t
10 R f
(smb)1904 6496 w
10 S f
(_)2071 6496 w
10 R f
(com SMBexit smb)2 1001 1 2121 6496 t
10 S f
(_)3122 6496 w
10 R f
(com SMBexit)1 684 1 3172 6496 t
(smb)1904 6616 w
10 S f
(_)2071 6616 w
10 R f
( smb)1 629(wct 0)1 372 2 2121 6616 t
10 S f
(_)3122 6616 w
10 R f
(wct 0)1 372 1 3172 6616 t
(smb)1904 6736 w
10 S f
(_)2071 6736 w
10 R f
( smb)1 629(bcc 0)1 372 2 2121 6736 t
10 S f
(_)3122 6736 w
10 R f
(bcc 0)1 372 1 3172 6736 t
10 S f
( \347)1 -2052(_ _________________________________________)1 2052 2 1854 6756 t
(\347)1854 6736 w
(\347)1854 6636 w
(\347)1854 6536 w
(\347)1854 6436 w
(\347)1854 6336 w
(\347)2880 6756 w
(\347)2880 6736 w
(\347)2880 6636 w
(\347)2880 6536 w
(\347)2880 6436 w
(\347)2880 6336 w
(\347)3906 6756 w
(\347)3906 6736 w
(\347)3906 6636 w
(\347)3906 6536 w
(\347)3906 6436 w
(\347)3906 6336 w
10 R f
( close all \256les)3 577( server will)2 467( The)1 222(This command informs the server that a consumer process has terminated.)10 3054 4 720 6936 t
( that)1 195( Note)1 272( release all locks the process holds.)6 1520( will automatically)2 792( This)1 257(opened by the named process.)4 1284 6 720 7056 t
(there is not a start process message, process-ids are assigned by the consumer.)12 3217 1 720 7176 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 21 21
%%Page: 22 22
save
mark
22 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 22 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(Process Exit may generate the following errors:)6 1950 1 720 840 t
(Error Class ERRDOS:)2 916 1 1080 1020 t
(none)1146 1260 w
(Error Class ERRSRV:)2 911 1 1080 1500 t
(ERRerror)1146 1740 w
(ERRinvnid)1146 1860 w
10 S1 f
(<)1146 1980 w
10 R f
(implementation speci\256c)1 966 1 1202 1980 t
10 S1 f
(>)2168 1980 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 2220 t
10 S1 f
(<)1146 2460 w
10 R f
(implementation speci\256c)1 966 1 1202 2460 t
10 S1 f
(>)2168 2460 w
10 B f
( New File)2 415(5.18. Make)1 510 2 720 2760 t
10 S f
(_ ____________________________________________________)1 2620 1 1570 2876 t
10 S1 f
(>)1620 2996 w
10 R f
( Consumer)1 444( To)1 753(From Consumer)1 661 3 1676 2996 t
10 S f
(_ ____________________________________________________)1 2620 1 1570 3016 t
10 R f
(smb)1620 3136 w
10 S f
(_)1787 3136 w
10 R f
( smb)1 365(com SMBmknew)1 944 2 1837 3136 t
10 S f
(_)3146 3136 w
10 R f
(com SMBmknew)1 944 1 3196 3136 t
(smb)1620 3256 w
10 S f
(_)1787 3256 w
10 R f
( smb)1 821(wct 3)1 488 2 1837 3256 t
10 S f
(_)3146 3256 w
10 R f
(wct 1)1 488 1 3196 3256 t
(smb)1620 3376 w
10 S f
(_)1787 3376 w
10 R f
( smb)1 538(vwv[0] attribute)1 771 2 1837 3376 t
10 S f
(_)3146 3376 w
10 R f
( handle)1 299(vwv[0] \256le)1 566 2 3196 3376 t
(smb)1620 3496 w
10 S f
(_)1787 3496 w
10 R f
( smb)1 510( low)1 183(vwv[1] time)1 616 3 1837 3496 t
10 S f
(_)3146 3496 w
10 R f
(bcc 0)1 488 1 3196 3496 t
(smb)1620 3616 w
10 S f
(_)1787 3616 w
10 R f
( high)1 211(vwv[2] time)1 616 2 1837 3616 t
(smb)1620 3736 w
10 S f
(_)1787 3736 w
10 R f
( = 2)2 172(bcc min)1 594 2 1837 3736 t
(smb)1620 3856 w
10 S f
(_)1787 3856 w
10 R f
( -- 04)2 232(buf[] ASCII)1 699 2 1837 3856 t
(\256le pathname)1 549 1 2275 3976 t
10 S f
( \347)1 -2620(_ ____________________________________________________)1 2620 2 1570 3996 t
(\347)1570 3976 w
(\347)1570 3876 w
(\347)1570 3776 w
(\347)1570 3676 w
(\347)1570 3576 w
(\347)1570 3476 w
(\347)1570 3376 w
(\347)1570 3276 w
(\347)1570 3176 w
(\347)1570 3076 w
(\347)1570 2976 w
(\347)2904 3996 w
(\347)2904 3976 w
(\347)2904 3876 w
(\347)2904 3776 w
(\347)2904 3676 w
(\347)2904 3576 w
(\347)2904 3476 w
(\347)2904 3376 w
(\347)2904 3276 w
(\347)2904 3176 w
(\347)2904 3076 w
(\347)2904 2976 w
(\347)4190 3996 w
(\347)4190 3976 w
(\347)4190 3876 w
(\347)4190 3776 w
(\347)4190 3676 w
(\347)4190 3576 w
(\347)4190 3476 w
(\347)4190 3376 w
(\347)4190 3276 w
(\347)4190 3176 w
(\347)4190 3076 w
(\347)4190 2976 w
10 R f
( is functionally equivalent to the create)6 1643( It)1 134(The make new \256le message is sent to create a new data \256le.)12 2543 3 720 4176 t
(message, except it will always fail if the \256le already exists.)10 2432 1 720 4296 t
(Make New File may generate the following errors:)7 2082 1 720 4536 t
(Error Class ERRDOS:)2 916 1 1080 4716 t
(ERRbadpath)1146 4956 w
(ERRno\256ds)1146 5076 w
(ERRnoaccess)1146 5196 w
10 S1 f
(<)1146 5316 w
10 R f
(implementation speci\256c)1 966 1 1202 5316 t
10 S1 f
(>)2168 5316 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 5556 t
(ERRerror)1146 5796 w
(ERRaccess)1146 5916 w
(ERRinvnid)1146 6036 w
10 S1 f
(<)1146 6156 w
10 R f
(implementation speci\256c)1 966 1 1202 6156 t
10 S1 f
(>)2168 6156 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 6396 t
10 S1 f
(<)1146 6636 w
10 R f
(implementation speci\256c)1 966 1 1202 6636 t
10 S1 f
(>)2168 6636 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 22 22
%%Page: 23 23
save
mark
23 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 23 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 B f
( Path)1 233(5.19. Check)1 538 2 720 840 t
10 S f
(_________________________________________________)1656 956 w
10 S1 f
(>)1706 1076 w
10 R f
( Consumer)1 444( To)1 675(From Consumer)1 661 3 1762 1076 t
10 S f
(_________________________________________________)1656 1096 w
10 R f
(smb)1706 1216 w
10 S f
(_)1873 1216 w
10 R f
( smb)1 354(com SMBchkpath)1 877 2 1923 1216 t
10 S f
(_)3154 1216 w
10 R f
(com SMBchkpath)1 850 1 3204 1216 t
(smb)1706 1336 w
10 S f
(_)1873 1336 w
10 R f
( smb)1 832(wct 0)1 399 2 1923 1336 t
10 S f
(_)3154 1336 w
10 R f
(wct 0)1 372 1 3204 1336 t
(smb)1706 1456 w
10 S f
(_)1873 1456 w
10 R f
( smb)1 554( = 2)2 172(bcc min)1 505 3 1923 1456 t
10 S f
(_)3154 1456 w
10 R f
(bcc 0)1 372 1 3204 1456 t
(smb)1706 1576 w
10 S f
(_)1873 1576 w
10 R f
( -- 04)2 232(buf[] ASCII)1 610 2 1923 1576 t
(directory path)1 565 1 2272 1696 t
10 S f
(_________________________________________________ \347)1 0 1 1656 1716 t
(\347)1656 1656 w
(\347)1656 1556 w
(\347)1656 1456 w
(\347)1656 1356 w
(\347)1656 1256 w
(\347)1656 1156 w
(\347)1656 1056 w
(\347)2912 1716 w
(\347)2912 1656 w
(\347)2912 1556 w
(\347)2912 1456 w
(\347)2912 1356 w
(\347)2912 1256 w
(\347)2912 1156 w
(\347)2912 1056 w
(\347)4104 1716 w
(\347)4104 1656 w
(\347)4104 1556 w
(\347)4104 1456 w
(\347)4104 1356 w
(\347)4104 1256 w
(\347)4104 1156 w
(\347)4104 1056 w
10 R f
( error is returned if the)5 940( No)1 188(The check path message is used to verify that a path exists and is a directory.)15 3192 3 720 1896 t
( machines which maintain a concept)5 1505( Consumer)1 480( has read access to it.)5 897(given path exists and the requester)5 1438 4 720 2016 t
(of a)1 161 1 720 2136 t
10 S1 f
(")915 2136 w
10 R f
(working directory)1 727 1 956 2136 t
10 S1 f
(")1683 2136 w
10 R f
( of a)2 197(will \256nd this useful to verify the validity)7 1683 2 1758 2136 t
10 S1 f
(")3673 2136 w
10 R f
(change working directory)2 1045 1 3714 2136 t
10 S1 f
(")4759 2136 w
10 R f
(com-)4835 2136 w
( have a concept of working directory. The consumer must always)10 2768(mand. Note that the servers do NOT)6 1552 2 720 2256 t
(supply full pathnames \(relative to the tid\).)6 1727 1 720 2376 t
(Check Path may generate the following errors:)6 1911 1 720 2616 t
(Error Class ERRDOS:)2 916 1 1080 2796 t
(ERRbadpath)1146 3036 w
(ERRnoaccess)1146 3156 w
(Error Class ERRSRV:)2 911 1 1080 3396 t
(ERRerror)1146 3636 w
(ERRaccess)1146 3756 w
(ERRinvnid)1146 3876 w
10 S1 f
(<)1146 3996 w
10 R f
(implementation speci\256c)1 966 1 1202 3996 t
10 S1 f
(>)2168 3996 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 4236 t
10 S1 f
(<)1146 4476 w
10 R f
(implementation speci\256c)1 966 1 1202 4476 t
10 S1 f
(>)2168 4476 w
10 B f
( Server Attributes)2 786(5.20. Get)1 421 2 720 4776 t
10 S f
(_ ________________________________________________________________)1 3228 1 1266 4892 t
10 S1 f
(>)1316 5012 w
10 R f
( Consumer)1 444( To)1 567(From Consumer)1 661 3 1372 5012 t
10 S f
(_ ________________________________________________________________)1 3228 1 1266 5032 t
10 R f
(smb)1316 5152 w
10 S f
(_)1483 5152 w
10 R f
(com SMBdskattr smb)2 1123 1 1533 5152 t
10 S f
(_)2656 5152 w
10 R f
(com SMBdskattr)1 922 1 2706 5152 t
(smb)1316 5272 w
10 S f
(_)1483 5272 w
10 R f
( smb)1 751(wct 0)1 372 2 1533 5272 t
10 S f
(_)2656 5272 w
10 R f
(wct 5)1 488 1 2706 5272 t
(smb)1316 5392 w
10 S f
(_)1483 5392 w
10 R f
( smb)1 751(bcc 0)1 372 2 1533 5392 t
10 S f
(_)2656 5392 w
10 R f
(vwv[0])2706 5392 w
10 S1 f
(#)3144 5392 w
10 R f
(allocation units/server)1 893 1 3227 5392 t
(smb)2489 5512 w
10 S f
(_)2656 5512 w
10 R f
(vwv[1])2706 5512 w
10 S1 f
(#)3144 5512 w
10 R f
(blocks/allocation unit)1 872 1 3227 5512 t
(smb)2489 5632 w
10 S f
(_)2656 5632 w
10 R f
(vwv[2])2706 5632 w
10 S1 f
(#)3144 5632 w
10 R f
(block size \(in bytes\))3 831 1 3227 5632 t
(smb)2489 5752 w
10 S f
(_)2656 5752 w
10 R f
(vwv[3])2706 5752 w
10 S1 f
(#)3144 5752 w
10 R f
(free allocation units)2 809 1 3227 5752 t
(smb)2489 5872 w
10 S f
(_)2656 5872 w
10 R f
( \(media identi\256er code\))3 958(vwv[4] reserved)1 775 2 2706 5872 t
(smb)2489 5992 w
10 S f
(_)2656 5992 w
10 R f
(bcc 0)1 488 1 2706 5992 t
10 S f
( \347)1 -3228(_ ________________________________________________________________)1 3228 2 1266 6012 t
(\347)1266 5992 w
(\347)1266 5892 w
(\347)1266 5792 w
(\347)1266 5692 w
(\347)1266 5592 w
(\347)1266 5492 w
(\347)1266 5392 w
(\347)1266 5292 w
(\347)1266 5192 w
(\347)1266 5092 w
(\347)1266 4992 w
(\347)2414 6012 w
(\347)2414 5992 w
(\347)2414 5892 w
(\347)2414 5792 w
(\347)2414 5692 w
(\347)2414 5592 w
(\347)2414 5492 w
(\347)2414 5392 w
(\347)2414 5292 w
(\347)2414 5192 w
(\347)2414 5092 w
(\347)2414 4992 w
(\347)4494 6012 w
(\347)4494 5992 w
(\347)4494 5892 w
(\347)4494 5792 w
(\347)4494 5692 w
(\347)4494 5592 w
(\347)4494 5492 w
(\347)4494 5392 w
(\347)4494 5292 w
(\347)4494 5192 w
(\347)4494 5092 w
(\347)4494 4992 w
10 R f
( distinction)1 463( The)1 227(This command is used to determine the total server capacity and remaining free space.)13 3630 3 720 6192 t
( operating systems which)3 1067(between allocation units and disk blocks allows the use of the protocol with)12 3253 2 720 6312 t
(allocate disk space in units larger than the physical disk block.)10 2574 1 720 6432 t
( physical or logical)3 802(The blocking/allocation units used in this response may be independent of the actual)12 3518 2 720 6672 t
( must accurately re\257ect the)4 1115( they)1 208( However,)1 459(blocking/allocation algorithm\(s\) used internally by the server.)6 2538 4 720 6792 t
(amount of space on the server.)5 1259 1 720 6912 t
(The default value for smb)4 1063 1 720 7152 t
10 S f
(_)1783 7152 w
10 R f
(vwv[4] is zero.)2 617 1 1833 7152 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 23 23
%%Page: 24 24
save
mark
24 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 24 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(Get Server Attributes may generate the following errors:)7 2315 1 720 840 t
(Error Class ERRDOS:)2 916 1 1080 1020 t
10 S1 f
(<)1146 1260 w
10 R f
(implementation speci\256c)1 966 1 1202 1260 t
10 S1 f
(>)2168 1260 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 1500 t
(ERRerror)1146 1740 w
(ERRinvnid)1146 1860 w
10 S1 f
(<)1146 1980 w
10 R f
(implementation speci\256c)1 966 1 1202 1980 t
10 S1 f
(>)2168 1980 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 2220 t
10 S1 f
(<)1146 2460 w
10 R f
(implementation speci\256c)1 966 1 1202 2460 t
10 S1 f
(>)2168 2460 w
10 B f
( Protocol)1 393(5.21. Negotiate)1 670 2 720 2760 t
10 S f
(_ __________________________________________________)1 2508 1 1626 2876 t
10 S1 f
(>)1676 2996 w
10 R f
( Consumer)1 444( To)1 630(From Consumer)1 661 3 1732 2996 t
10 S f
(_ __________________________________________________)1 2508 1 1626 3016 t
10 R f
(smb)1676 3136 w
10 S f
(_)1843 3136 w
10 R f
( smb)1 320(com SMBnegprot)1 866 2 1893 3136 t
10 S f
(_)3079 3136 w
10 R f
(com SMBnegprot)1 955 1 3129 3136 t
(smb)1676 3256 w
10 S f
(_)1843 3256 w
10 R f
( smb)1 787(wct 0)1 399 2 1893 3256 t
10 S f
(_)3079 3256 w
10 R f
(wct 1)1 488 1 3129 3256 t
(smb)1676 3376 w
10 S f
(_)1843 3376 w
10 R f
( smb)1 509( = 2)2 172(bcc min)1 505 3 1893 3376 t
10 S f
(_)3079 3376 w
10 R f
(vwv[0] index)1 660 1 3129 3376 t
(smb)1676 3496 w
10 S f
(_)1843 3496 w
10 R f
( smb)1 317( -- 02)2 232(buf[] Dialect)1 637 3 1893 3496 t
10 S f
(_)3079 3496 w
10 R f
(bcc 0)1 488 1 3129 3496 t
(dialect0)2242 3616 w
(.)2308 3736 w
(.)2308 3856 w
(Dialect -- 02)2 520 1 2242 3976 t
(dialectn)2242 4096 w
10 S f
( \347)1 -2508(_ __________________________________________________)1 2508 2 1626 4116 t
(\347)1626 4076 w
(\347)1626 3976 w
(\347)1626 3876 w
(\347)1626 3776 w
(\347)1626 3676 w
(\347)1626 3576 w
(\347)1626 3476 w
(\347)1626 3376 w
(\347)1626 3276 w
(\347)1626 3176 w
(\347)1626 3076 w
(\347)1626 2976 w
(\347)2837 4116 w
(\347)2837 4076 w
(\347)2837 3976 w
(\347)2837 3876 w
(\347)2837 3776 w
(\347)2837 3676 w
(\347)2837 3576 w
(\347)2837 3476 w
(\347)2837 3376 w
(\347)2837 3276 w
(\347)2837 3176 w
(\347)2837 3076 w
(\347)2837 2976 w
(\347)4134 4116 w
(\347)4134 4076 w
(\347)4134 3976 w
(\347)4134 3876 w
(\347)4134 3776 w
(\347)4134 3676 w
(\347)4134 3576 w
(\347)4134 3476 w
(\347)4134 3376 w
(\347)4134 3276 w
(\347)4134 3176 w
(\347)4134 3076 w
(\347)4134 2976 w
10 R f
( response is a selection of one)6 1258( The)1 224( sends a list of dialects that he can communicate with.)10 2260(The consumer)1 578 4 720 4296 t
( were)1 239(of those dialects \(numbered 0 through n\) or -1 \(hex FFFF\) indicating that none of the dialects)16 4081 2 720 4416 t
( and only one)3 571( One)1 234( virtual circuit and must be sent.)6 1345( negotiate message is binding on the)6 1503(acceptable. The)1 667 5 720 4536 t
( rejected with an error response and)6 1471(negotiate message may be sent, subsequent negotiate requests will be)9 2849 2 720 4656 t
(no action will be taken.)4 967 1 720 4776 t
( of particular)2 543( Implementors)1 627(The protocol does not impose any particular structure to the dialect strings.)11 3150 3 720 5016 t
(protocols may choose to include, for example, version numbers in the string.)11 3151 1 720 5136 t
(The dialect string for the protocol speci\256ed in this document is:)10 2617 1 720 5376 t
(PC NETWORK PROGRAM 1.0)3 1341 1 1080 5556 t
(Negotiate may generate the following errors:)5 1833 1 720 5856 t
(Error Class ERRDOS:)2 916 1 1080 6036 t
10 S1 f
(<)1146 6276 w
10 R f
(implementation speci\256c)1 966 1 1202 6276 t
10 S1 f
(>)2168 6276 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 6516 t
(ERRerror)1146 6756 w
10 S1 f
(<)1146 6876 w
10 R f
(implementation speci\256c)1 966 1 1202 6876 t
10 S1 f
(>)2168 6876 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 24 24
%%Page: 25 25
save
mark
25 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 25 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(Error Class ERRHRD:)2 927 1 1080 900 t
10 S1 f
(<)1146 1140 w
10 R f
(implementation speci\256c)1 966 1 1202 1140 t
10 S1 f
(>)2168 1140 w
10 B f
( Search)1 327(5.22. File)1 427 2 720 1440 t
10 S f
(_ ________________________________________________________________)1 3220 1 1270 1556 t
10 S1 f
(>)1320 1676 w
10 R f
( Consumer)1 444( To)1 1029(From Consumer)1 661 3 1376 1676 t
10 S f
(_ ________________________________________________________________)1 3220 1 1270 1696 t
10 R f
(smb)1320 1816 w
10 S f
(_)1487 1816 w
10 R f
( smb)1 681(com SMBsearch)1 904 2 1537 1816 t
10 S f
(_)3122 1816 w
10 R f
(com SMBsearch)1 904 1 3172 1816 t
(smb)1320 1936 w
10 S f
(_)1487 1936 w
10 R f
( smb)1 1097(wct 2)1 488 2 1537 1936 t
10 S f
(_)3122 1936 w
10 R f
(wct 1)1 488 1 3172 1936 t
(smb)1320 2056 w
10 S f
(_)1487 2056 w
10 R f
( smb)1 720(vwv[0] max-count)1 865 2 1537 2056 t
10 S f
(_)3122 2056 w
10 R f
(vwv[0] count-returned)1 1025 1 3172 2056 t
(smb)1320 2176 w
10 S f
(_)1487 2176 w
10 R f
( smb)1 814(vwv[1] attribute)1 771 2 1537 2176 t
10 S f
(_)3122 2176 w
10 R f
( = 3)2 172(bcc min)1 594 2 3172 2176 t
(smb)1320 2296 w
10 S f
(_)1487 2296 w
10 R f
( smb)1 819( = 5)2 172(bcc min)1 594 3 1537 2296 t
10 S f
(_)3122 2296 w
10 R f
( block -- 05)3 487(buf[] Variable)1 781 2 3172 2296 t
(smb)1320 2416 w
10 S f
(_)1487 2416 w
10 R f
( of data)2 315( length)1 1392( -- 04)2 232(buf[] ASCII)1 699 4 1537 2416 t
( entries)1 299( directory)1 1446(\256le pathname)1 549 3 1975 2536 t
(Variable block -- 05)3 830 1 1975 2656 t
(length of data)2 565 1 1975 2776 t
(search status)1 515 1 1975 2896 t
10 S f
( \347)1 -3220(_ ________________________________________________________________)1 3220 2 1270 2916 t
(\347)1270 2856 w
(\347)1270 2756 w
(\347)1270 2656 w
(\347)1270 2556 w
(\347)1270 2456 w
(\347)1270 2356 w
(\347)1270 2256 w
(\347)1270 2156 w
(\347)1270 2056 w
(\347)1270 1956 w
(\347)1270 1856 w
(\347)1270 1756 w
(\347)1270 1656 w
(\347)2880 2916 w
(\347)2880 2856 w
(\347)2880 2756 w
(\347)2880 2656 w
(\347)2880 2556 w
(\347)2880 2456 w
(\347)2880 2356 w
(\347)2880 2256 w
(\347)2880 2156 w
(\347)2880 2056 w
(\347)2880 1956 w
(\347)2880 1856 w
(\347)2880 1756 w
(\347)2880 1656 w
(\347)4490 2916 w
(\347)4490 2856 w
(\347)4490 2756 w
(\347)4490 2656 w
(\347)4490 2556 w
(\347)4490 2456 w
(\347)4490 2356 w
(\347)4490 2256 w
(\347)4490 2156 w
(\347)4490 2056 w
(\347)4490 1956 w
(\347)4490 1856 w
(\347)4490 1756 w
(\347)4490 1656 w
10 R f
( request speci\256es the \256le to be)6 1312( \256le path name in the)5 926( The)1 230(This command is used to search directories.)6 1852 4 720 3096 t
( the attribute is zero then)5 1070( If)1 140( attribute \256eld indicates the attributes that the \256le must have.)10 2588(sought. The)1 522 4 720 3216 t
( the)1 167( the system \256le, hidden or directory attributes are speci\256ed then)10 2728( If)1 143(only normal \256les are returned.)4 1282 4 720 3336 t
( the volume label)3 715( If)1 132( and normal \256les are returned.)5 1237(search is inclusive -- both the speci\256ed type\(s\) of \256les)9 2236 4 720 3456 t
(attribute is speci\256ed then the search is exclusive, and only the volume label entry is returned)15 3809 1 720 3576 t
( response will contain)3 913( The)1 226( directory entries to be returned.)5 1345(The max-count \256eld speci\256es the number of)6 1836 4 720 3816 t
( more than max-count)3 966( No)1 209( entries as determined by the count-returned \256eld.)7 2188(one or more directory)3 957 4 720 3936 t
( entries that match the sought \256lename/attribute will be returned.)9 2658( Only)1 266(entries will be returned.)3 972 3 720 4056 t
( search)1 310( Subsequent)1 550( = 0\) on the initial search request.)7 1554(The search-status \256eld must be null \(length)6 1906 4 720 4296 t
( a search must contain the search-status \256eld extracted from the last direc-)12 3110(requests intended to continue)3 1210 2 720 4416 t
( search-status \256eld is self-contained, for on calls containing a)9 2593( The)1 230( the previous response.)3 966(tory entry of)2 531 4 720 4536 t
( has the)2 335( Search-status)1 605( attribute or pathname \256elds will be valid in the request.)10 2384(search-status neither the)2 996 4 720 4656 t
(following format:)1 716 1 720 4776 t
(BYTE sr)1 483 1 786 5076 t
10 S f
(_)1269 5076 w
10 R f
( reserved:)1 398(res; /*)1 638 2 1319 5076 t
( - reserved for consumer use)5 1172(bit 7)1 288 2 1945 5196 t
( - reserved for system use \(must be preserved\))8 1903(bit 5,6)1 297 2 1945 5316 t
(bits 0-4 - reserved for server \(must be preserved\) */)9 2124 1 1945 5436 t
(BYTE sr)1 483 1 786 5556 t
10 S f
(_)1269 5556 w
10 R f
( Format:)1 383( pathname sought.)2 746(name[11]; /*)1 638 3 1319 5556 t
(0-3 character extension, left justi\256ed \(in last 3 chars\) */)9 2279 1 1945 5676 t
(BYTE sr)1 483 1 786 5796 t
10 S f
(_)1269 5796 w
10 R f
( available for server use \(1st byte must be non-zero\) */)10 2258(server[5]; /*)1 638 2 1319 5796 t
(BYTE sr)1 483 1 786 5916 t
10 S f
(_)1269 5916 w
10 R f
( reserved for consumer use */)5 1217(res[4]; /*)1 638 2 1319 5916 t
( Search request will terminate when either the requested maximum number of entries that match)14 4053(A File)1 267 2 720 6216 t
( without the maximum number of matches)6 1795(the named \256le are found, or the end of directory is reached)11 2525 2 720 6336 t
( entries indicates that no matching entries were found between)9 2654( response containing no)3 997( A)1 147(being found.)1 522 4 720 6456 t
(the starting point of the search and the end of directory.)10 2295 1 720 6576 t
( supports)1 384(There may be multiple matching entries in response to a single request as File Search)14 3672 2 720 6816 t
10 S1 f
(")4821 6816 w
10 R f
(wild)4862 6816 w
(cards)720 6936 w
10 S1 f
(")930 6936 w
10 R f
( wild card matching algorithm is)5 1472( The)1 247( pathname\).)1 505(in the \256le name \(last component of the)7 1785 4 1031 6936 t
(described in the)2 648 1 720 7056 t
10 S1 f
(")1401 7056 w
10 R f
(Delete File)1 449 1 1442 7056 t
10 S1 f
(")1891 7056 w
10 R f
(description.)1965 7056 w
( to have read permission on the subtree containing the directory)10 2640(Unprotected servers require the requester)4 1680 2 720 7296 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 25 25
%%Page: 26 26
save
mark
26 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 26 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(searched.)720 840 w
(Protected servers require the requester to have read permission on the directory searched.)12 3655 1 720 1080 t
( more data than can be placed in a message of the max-xmit-size for the TID)15 3296(If a File Search requests)4 1024 2 720 1320 t
(speci\256ed, the server will abort the virtual circuit to the consumer.)10 2687 1 720 1440 t
(dir)720 1680 w
10 S f
(_)831 1680 w
10 R f
(info entries have the following format.)5 1582 1 881 1680 t
(BYTE \256nd)1 611 1 720 1860 t
10 S f
(_)1331 1860 w
10 R f
(buf)1381 1860 w
10 S f
(_)1514 1860 w
10 R f
( reserved \(search)2 690(reserved[21]; /*)1 764 2 1564 1860 t
10 S f
(_)3018 1860 w
10 R f
(status\) */)1 372 1 3068 1860 t
(BYTE \256nd)1 611 1 720 1980 t
10 S f
(_)1331 1980 w
10 R f
(buf)1381 1980 w
10 S f
(_)1514 1980 w
10 R f
( attribute */)2 477(attr; /*)1 764 2 1564 1980 t
(WORD \256nd)1 611 1 720 2100 t
10 S f
(_)1331 2100 w
10 R f
(buf)1381 2100 w
10 S f
(_)1514 2100 w
10 R f
( modi\256cation time \(hhhhh mmmmmm xxxxx\))5 1883(time; /*)1 764 2 1564 2100 t
(where 'xxxxx' is in two second increments */)7 1878 1 2250 2220 t
(WORD \256nd)1 611 1 720 2340 t
10 S f
(_)1331 2340 w
10 R f
(buf)1381 2340 w
10 S f
(_)1514 2340 w
10 R f
( modi\256cation date \(yyyyyyy mmmm ddddd\) */)6 1926(date; /*)1 764 2 1564 2340 t
(WORD \256nd)1 611 1 720 2460 t
10 S f
(_)1331 2460 w
10 R f
(buf)1381 2460 w
10 S f
(_)1514 2460 w
10 R f
(size)1564 2460 w
10 S f
(_)1719 2460 w
10 R f
( \256le size -- low word */)6 980(l; /*)1 559 2 1769 2460 t
(WORD \256nd)1 611 1 720 2580 t
10 S f
(_)1331 2580 w
10 R f
(buf)1381 2580 w
10 S f
(_)1514 2580 w
10 R f
(size)1564 2580 w
10 S f
(_)1719 2580 w
10 R f
( \256le size -- high word */)6 1008(h; /*)1 559 2 1769 2580 t
(BYTE \256nd)1 611 1 720 2700 t
10 S f
(_)1331 2700 w
10 R f
(buf)1381 2700 w
10 S f
(_)1514 2700 w
10 R f
( \256le name -- ASCII \(null terminated\) */)7 1629(pname[13]; /*)1 764 2 1564 2700 t
(File Search may generate the following errors:)6 1905 1 720 2880 t
(Error Class ERRDOS:)2 916 1 1080 3060 t
(ERRno\256les)1146 3300 w
(Error Class ERRSRV:)2 911 1 1080 3540 t
(ERRerror)1146 3780 w
(ERRaccess)1146 3900 w
(ERRinvnid)1146 4020 w
10 S1 f
(<)1146 4140 w
10 R f
(implementation speci\256c)1 966 1 1202 4140 t
10 S1 f
(>)2168 4140 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 4380 t
10 S1 f
(<)1146 4620 w
10 R f
(implementation speci\256c)1 966 1 1202 4620 t
10 S1 f
(>)2168 4620 w
10 B f
( Print File)2 449(5.23. Create)1 553 2 720 4920 t
10 S f
(_ _______________________________________________________________)1 3191 1 1284 5036 t
10 S1 f
(>)1334 5156 w
10 R f
( Consumer)1 444( To)1 1307(From Consumer)1 661 3 1390 5156 t
10 S f
(_ _______________________________________________________________)1 3191 1 1284 5176 t
10 R f
(smb)1334 5296 w
10 S f
(_)1501 5296 w
10 R f
( smb)1 902(com SMBsplopen)1 961 2 1551 5296 t
10 S f
(_)3414 5296 w
10 R f
(com SMBsplopen)1 961 1 3464 5296 t
(smb)1334 5416 w
10 S f
(_)1501 5416 w
10 R f
( smb)1 1375(wct 2)1 488 2 1551 5416 t
10 S f
(_)3414 5416 w
10 R f
(wct 1)1 488 1 3464 5416 t
(smb)1334 5536 w
10 S f
(_)1501 5536 w
10 R f
( smb)1 317( of printer setup data)4 858(vwv[0] length)1 688 3 1551 5536 t
10 S f
(_)3414 5536 w
10 R f
( handle)1 299(vwv[0] \256le)1 566 2 3464 5536 t
(smb)1334 5656 w
10 S f
(_)1501 5656 w
10 R f
( smb)1 1203(vwv[1] mode)1 660 2 1551 5656 t
10 S f
(_)3414 5656 w
10 R f
(bcc 0)1 488 1 3464 5656 t
(smb)1334 5776 w
10 S f
(_)1501 5776 w
10 R f
( = 2)2 172(bcc min)1 594 2 1551 5776 t
(smb)1334 5896 w
10 S f
(_)1501 5896 w
10 R f
( -- 04)2 232(buf ASCII)1 699 2 1551 5896 t
(identi\256er string \(max 15\))3 1026 1 1989 6016 t
10 S f
( \347)1 -3191(_ _______________________________________________________________)1 3191 2 1284 6036 t
(\347)1284 5936 w
(\347)1284 5836 w
(\347)1284 5736 w
(\347)1284 5636 w
(\347)1284 5536 w
(\347)1284 5436 w
(\347)1284 5336 w
(\347)1284 5236 w
(\347)1284 5136 w
(\347)3172 6036 w
(\347)3172 5936 w
(\347)3172 5836 w
(\347)3172 5736 w
(\347)3172 5636 w
(\347)3172 5536 w
(\347)3172 5436 w
(\347)3172 5336 w
(\347)3172 5236 w
(\347)3172 5136 w
(\347)4475 6036 w
(\347)4475 5936 w
(\347)4475 5836 w
(\347)4475 5736 w
(\347)4475 5636 w
(\347)4475 5536 w
(\347)4475 5436 w
(\347)4475 5336 w
(\347)4475 5236 w
(\347)4475 5136 w
10 R f
( can be used for subsequent)5 1185( \256le handle returned)3 849( The)1 229(This message is sent to create a new printer \256le.)9 2057 4 720 6216 t
( string and a)3 542( \256le name will be formed by concatenating the identi\256er)9 2406( The)1 231(write and close commands.)3 1141 4 720 6336 t
( \256le will be deleted once it has been printed.)9 1836( The)1 221(server generated number.)2 1026 3 720 6456 t
(The mode \256eld can have the following values:)7 1906 1 720 6696 t
( servers will expand TABs.\))4 1155( \(DOS)1 299( mode.)1 280( Text)1 333(0 =)1 139 5 720 6876 t
( mode.)1 280( Graphics)1 510(1 =)1 139 3 720 6996 t
( other users will be given any)6 1308( No)1 202( write permission to the creator of the \256le.)8 1854(Protected servers grant)2 956 4 720 7296 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 26 26
%%Page: 27 27
save
mark
27 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 27 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
( to the print queue, but only the print server)9 1836( users will have read permission)5 1344( All)1 198(permissions to the \256le.)3 942 4 720 840 t
(has write permission to it.)4 1068 1 720 960 t
(Create Print File may generate the following errors:)7 2122 1 720 1200 t
(Error Class ERRDOS:)2 916 1 1080 1380 t
(ERRbadpath)1146 1620 w
(ERRno\256ds)1146 1740 w
(ERRnoaccess)1146 1860 w
10 S1 f
(<)1146 1980 w
10 R f
(implementation speci\256c)1 966 1 1202 1980 t
10 S1 f
(>)2168 1980 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 2220 t
(ERRerror)1146 2460 w
(ERRqfull)1146 2580 w
(ERRqtoobig)1146 2700 w
(ERRinvnid)1146 2820 w
10 S1 f
(<)1146 2940 w
10 R f
(implementation speci\256c)1 966 1 1202 2940 t
10 S1 f
(>)2168 2940 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 3180 t
10 S1 f
(<)1146 3420 w
10 R f
(implementation speci\256c)1 966 1 1202 3420 t
10 S1 f
(>)2168 3420 w
10 B f
( Print File)2 449(5.24. Close)1 499 2 720 3720 t
10 S f
(_ __________________________________________________)1 2512 1 1624 3836 t
10 S1 f
(>)1674 3956 w
10 R f
( Consumer)1 444( To)1 733(From Consumer)1 661 3 1730 3956 t
10 S f
(_ __________________________________________________)1 2512 1 1624 3976 t
10 R f
(smb)1674 4096 w
10 S f
(_)1841 4096 w
10 R f
( smb)1 317(com SMBsplclose)1 972 2 1891 4096 t
10 S f
(_)3180 4096 w
10 R f
(com SMBsplclose)1 856 1 3230 4096 t
(smb)1674 4216 w
10 S f
(_)1841 4216 w
10 R f
( smb)1 801(wct 1)1 488 2 1891 4216 t
10 S f
(_)3180 4216 w
10 R f
(wct 0)1 372 1 3230 4216 t
(smb)1674 4336 w
10 S f
(_)1841 4336 w
10 R f
( smb)1 424( handle)1 299(vwv[0] \256le)1 566 3 1891 4336 t
10 S f
(_)3180 4336 w
10 R f
(bcc 0)1 372 1 3230 4336 t
(smb)1674 4456 w
10 S f
(_)1841 4456 w
10 R f
(bcc 0)1 488 1 1891 4456 t
10 S f
( \347)1 -2512(_ __________________________________________________)1 2512 2 1624 4476 t
(\347)1624 4436 w
(\347)1624 4336 w
(\347)1624 4236 w
(\347)1624 4136 w
(\347)1624 4036 w
(\347)1624 3936 w
(\347)2938 4476 w
(\347)2938 4436 w
(\347)2938 4336 w
(\347)2938 4236 w
(\347)2938 4136 w
(\347)2938 4036 w
(\347)2938 3936 w
(\347)4136 4476 w
(\347)4136 4436 w
(\347)4136 4336 w
(\347)4136 4236 w
(\347)4136 4136 w
(\347)4136 4036 w
(\347)4136 3936 w
10 R f
( handle must)2 537( \256le)1 165( The)1 225(This message invalidates the speci\256ed \256le handle and queues the \256le for printing.)12 3393 4 720 4656 t
(reference a print \256le.)3 854 1 720 4776 t
(Close Print File may generate the following errors:)7 2090 1 720 5016 t
(Error Class ERRDOS:)2 916 1 1080 5196 t
(ERRbad\256d)1146 5436 w
10 S1 f
(<)1146 5556 w
10 R f
(implementation speci\256c)1 966 1 1202 5556 t
10 S1 f
(>)2168 5556 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 5796 t
(ERRerror)1146 6036 w
(ERRinvdevice)1146 6156 w
(ERRqtoobig)1146 6276 w
(ERRinvnid)1146 6396 w
10 S1 f
(<)1146 6516 w
10 R f
(implementation speci\256c)1 966 1 1202 6516 t
10 S1 f
(>)2168 6516 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 6756 t
10 S1 f
(<)1146 6996 w
10 R f
(implementation speci\256c)1 966 1 1202 6996 t
10 S1 f
(>)2168 6996 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 27 27
%%Page: 28 28
save
mark
28 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 28 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 B f
( Print File)2 449(5.25. Write)1 515 2 720 840 t
10 S f
(_ ___________________________________________________)1 2553 1 1603 956 t
10 S1 f
(>)1653 1076 w
10 R f
( Consumer)1 444( To)1 874(From Consumer)1 661 3 1709 1076 t
10 S f
(_ ___________________________________________________)1 2553 1 1603 1096 t
10 R f
(smb)1653 1216 w
10 S f
(_)1820 1216 w
10 R f
( smb)1 558(com SMBsplwr)1 872 2 1870 1216 t
10 S f
(_)3300 1216 w
10 R f
(com SMBsplwr)1 756 1 3350 1216 t
(smb)1653 1336 w
10 S f
(_)1820 1336 w
10 R f
( smb)1 942(wct 1)1 488 2 1870 1336 t
10 S f
(_)3300 1336 w
10 R f
(wct 0)1 372 1 3350 1336 t
(smb)1653 1456 w
10 S f
(_)1820 1456 w
10 R f
( smb)1 565( handle)1 299(vwv[0] \256le)1 566 3 1870 1456 t
10 S f
(_)3300 1456 w
10 R f
(bcc 0)1 372 1 3350 1456 t
(smb)1653 1576 w
10 S f
(_)1820 1576 w
10 R f
( = 4)2 172(bcc min)1 594 2 1870 1576 t
(smb)1653 1696 w
10 S f
(_)1820 1696 w
10 R f
( block -- 01)3 487(buf Data)1 626 2 1870 1696 t
(length of data)2 565 1 2308 1816 t
(data)2308 1936 w
10 S f
( \347)1 -2553(_ ___________________________________________________)1 2553 2 1603 1956 t
(\347)1603 1856 w
(\347)1603 1756 w
(\347)1603 1656 w
(\347)1603 1556 w
(\347)1603 1456 w
(\347)1603 1356 w
(\347)1603 1256 w
(\347)1603 1156 w
(\347)1603 1056 w
(\347)3058 1956 w
(\347)3058 1856 w
(\347)3058 1756 w
(\347)3058 1656 w
(\347)3058 1556 w
(\347)3058 1456 w
(\347)3058 1356 w
(\347)3058 1256 w
(\347)3058 1156 w
(\347)3058 1056 w
(\347)4156 1956 w
(\347)4156 1856 w
(\347)4156 1756 w
(\347)4156 1656 w
(\347)4156 1556 w
(\347)4156 1456 w
(\347)4156 1356 w
(\347)4156 1256 w
(\347)4156 1156 w
(\347)4156 1056 w
10 R f
( \256le handle must)3 703( The)1 226( print \256le speci\256ed by the \256le handle.)7 1579(This message appends the data block to the)7 1812 4 720 2136 t
( length)1 285( The)1 223( \256rst block sent to a print \256le must contain the printer setup data.)13 2725( The)1 224(reference a print \256le.)3 863 5 720 2256 t
(of this data is speci\256ed in the Create Print File request.)10 2270 1 720 2376 t
( message of length greater than the max-xmit-size for the TID speci\256ed, the)12 3156(If a Write Print File sends a)6 1164 2 720 2616 t
(server will abort the virtual circuit to the consumer.)8 2119 1 720 2736 t
(Write Print File may generate the following errors:)7 2089 1 720 2976 t
(Error Class ERRDOS:)2 916 1 1080 3156 t
(ERRbad\256d)1146 3396 w
(ERRnoaccess)1146 3516 w
10 S1 f
(<)1146 3636 w
10 R f
(implementation speci\256c)1 966 1 1202 3636 t
10 S1 f
(>)2168 3636 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 3876 t
(ERRerror)1146 4116 w
(ERRinvdevice)1146 4236 w
(ERRqtoobig)1146 4356 w
(ERRinvnid)1146 4476 w
10 S1 f
(<)1146 4596 w
10 R f
(implementation speci\256c)1 966 1 1202 4596 t
10 S1 f
(>)2168 4596 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 4836 t
10 S1 f
(<)1146 5076 w
10 R f
(implementation speci\256c)1 966 1 1202 5076 t
10 S1 f
(>)2168 5076 w
10 B f
( Print Queue)2 566(5.26. Get)1 421 2 720 5376 t
10 S f
(_ ______________________________________________________)1 2719 1 1520 5492 t
10 S1 f
(>)1570 5612 w
10 R f
( Consumer)1 444( To)1 683(From Consumer)1 661 3 1626 5612 t
10 S f
(_ ______________________________________________________)1 2719 1 1520 5632 t
10 R f
(smb)1570 5752 w
10 S f
(_)1737 5752 w
10 R f
( smb)1 317(com SMBsplretq)1 922 2 1787 5752 t
10 S f
(_)3026 5752 w
10 R f
(com SMBsplretq)1 922 1 3076 5752 t
(smb)1570 5872 w
10 S f
(_)1737 5872 w
10 R f
( smb)1 751(wct 2)1 488 2 1787 5872 t
10 S f
(_)3026 5872 w
10 R f
(wct 2)1 488 1 3076 5872 t
(smb)1570 5992 w
10 S f
(_)1737 5992 w
10 R f
(vwv[0] max)1 610 1 1787 5992 t
10 S f
(_)2397 5992 w
10 R f
(count smb)1 579 1 2447 5992 t
10 S f
(_)3026 5992 w
10 R f
(vwv[0] count)1 660 1 3076 5992 t
(smb)1570 6112 w
10 S f
(_)1737 6112 w
10 R f
( smb)1 374( index)1 255(vwv[1] start)1 610 3 1787 6112 t
10 S f
(_)3026 6112 w
10 R f
( index)1 255(vwv[1] restart)1 687 2 3076 6112 t
(smb)1570 6232 w
10 S f
(_)1737 6232 w
10 R f
( smb)1 751(bcc 0)1 488 2 1787 6232 t
10 S f
(_)3026 6232 w
10 R f
( = 3)2 172(bcc min)1 594 2 3076 6232 t
(smb)2859 6352 w
10 S f
(_)3026 6352 w
10 R f
( block -- 01)3 487(buf Data)1 626 2 3076 6352 t
(length of data)2 565 1 3514 6472 t
(queue elements)1 626 1 3514 6592 t
10 S f
( \347)1 -2719(_ ______________________________________________________)1 2719 2 1520 6612 t
(\347)1520 6592 w
(\347)1520 6492 w
(\347)1520 6392 w
(\347)1520 6292 w
(\347)1520 6192 w
(\347)1520 6092 w
(\347)1520 5992 w
(\347)1520 5892 w
(\347)1520 5792 w
(\347)1520 5692 w
(\347)1520 5592 w
(\347)2784 6612 w
(\347)2784 6592 w
(\347)2784 6492 w
(\347)2784 6392 w
(\347)2784 6292 w
(\347)2784 6192 w
(\347)2784 6092 w
(\347)2784 5992 w
(\347)2784 5892 w
(\347)2784 5792 w
(\347)2784 5692 w
(\347)2784 5592 w
(\347)4239 6612 w
(\347)4239 6592 w
(\347)4239 6492 w
(\347)4239 6392 w
(\347)4239 6292 w
(\347)4239 6192 w
(\347)4239 6092 w
(\347)4239 5992 w
(\347)4239 5892 w
(\347)4239 5792 w
(\347)4239 5692 w
(\347)4239 5592 w
10 R f
( server.)1 316(This message obtains a list of the elements currently in the print queue on the)14 3399 2 720 6792 t
10 S1 f
(")4516 6792 w
10 R f
(start index)1 442 1 4557 6792 t
10 S1 f
(")4999 6792 w
10 R f
(speci\256es the \256rst entry in the queue to return,)8 1902 1 720 6912 t
10 S1 f
(")2658 6912 w
10 R f
(max)2699 6912 w
10 S f
(_)2871 6912 w
10 R f
(count)2921 6912 w
10 S1 f
(")3143 6912 w
10 R f
(speci\256es the maximum number of entries to)6 1820 1 3220 6912 t
( positive number requests a forward search, a nega-)8 2124( A)1 139( may be a positive or negative number.)7 1616(return, this)1 441 4 720 7032 t
( response)1 382( the)1 156( In)1 150(tive number indicates a backward search.)5 1690 4 720 7152 t
10 S1 f
(")3131 7152 w
10 R f
(count)3172 7152 w
10 S1 f
(")3394 7152 w
10 R f
(indicates how many entries were actu-)5 1572 1 3468 7152 t
(ally returned.)1 545 1 720 7272 t
10 S1 f
(")1303 7272 w
10 R f
(Restart index)1 543 1 1344 7272 t
10 S1 f
(")1887 7272 w
10 R f
( used)1 222(is the index of the entry following the last entry returned; it may be)13 2852 2 1966 7272 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 28 28
%%Page: 29 29
save
mark
29 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 29 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(as the start index in a subsequent request to resume the queue listing.)12 2851 1 720 840 t
( will return less than the requested number of elements only when the top or end of the)17 3651(Get Print Queue)2 669 2 720 1080 t
(queue is encountered)2 858 1 720 1200 t
(The format of the queue elements returned is:)7 1877 1 720 1440 t
(smb)720 1620 w
10 S f
(_)887 1620 w
10 R f
( date \(yyyyyyy mmmm ddddd\))4 1276( \256le)1 400(date WORD)1 688 3 937 1620 t
(smb)720 1740 w
10 S f
(_)887 1740 w
10 R f
( time \(hhhhh mmmmmm xxxxx\))4 1344( \256le)1 400(time WORD)1 688 3 937 1740 t
(where 'xxxxx' is in 2 second increments)6 1667 1 1897 1860 t
(smb)720 1980 w
10 S f
(_)887 1980 w
10 R f
( status)1 261( entry)1 521(status BYTE)1 644 3 937 1980 t
(01 = held or stopped)4 854 1 1897 2100 t
(02 = printing)2 539 1 1897 2220 t
(03 = awaiting print)3 788 1 1897 2340 t
(04 = in intercept)3 682 1 1897 2460 t
(05 = \256le had error)4 753 1 1897 2580 t
(06 = printer error)3 714 1 1897 2700 t
(07-FF = reserved)2 704 1 1897 2820 t
(smb)720 2940 w
10 S f
(_)887 2940 w
10 R f
( \256le number \(from create print \256le request\))7 1766( spool)1 489(\256le WORD)1 688 3 937 2940 t
(smb)720 3060 w
10 S f
(_)887 3060 w
10 R f
( word of \256le size)4 703( low)1 422(sizelo WORD)1 688 3 937 3060 t
(smb)720 3180 w
10 S f
(_)887 3180 w
10 R f
( word of \256le size)4 703( high)1 450(sizehi WORD)1 688 3 937 3180 t
(smb)720 3300 w
10 S f
(_)887 3300 w
10 R f
( reserved)1 653(res BYTE)1 644 2 937 3300 t
(smb)720 3420 w
10 S f
(_)887 3420 w
10 R f
( name \(from create print \256le request\))6 1516( originator)1 544(name BYTE[16])1 810 3 937 3420 t
(Get Print Queue may generate the following errors:)7 2110 1 720 3720 t
(Error Class ERRDOS:)2 916 1 1080 3900 t
10 S1 f
(<)1146 4140 w
10 R f
(implementation speci\256c)1 966 1 1202 4140 t
10 S1 f
(>)2168 4140 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 4380 t
(ERRerror)1146 4620 w
(ERRqeof)1146 4740 w
(ERRinvnid)1146 4860 w
10 S1 f
(<)1146 4980 w
10 R f
(implementation speci\256c)1 966 1 1202 4980 t
10 S1 f
(>)2168 4980 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 5220 t
10 S1 f
(<)1146 5460 w
10 R f
(implementation speci\256c)1 966 1 1202 5460 t
10 S1 f
(>)2168 5460 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 29 29
%%Page: 30 30
save
mark
30 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 30 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 B f
( Commands)1 522(6. Message)1 501 2 720 840 t
10 R f
(These commands provide a message delivery system between users of systems participating in the net-)14 4320 1 720 996 t
( separate)1 366( A)1 145( message commands cannot use VCs established for the \256le sharing commands.)11 3350(work. The)1 459 4 720 1116 t
(VC, dedicated to messaging, must be established.)6 2027 1 720 1236 t
( message)1 384( convention user names used for)5 1389( By)1 195(Messaging services should support message forwarding.)5 2352 4 720 1476 t
(delivery have a suf\256x \(in byte 16\) of)7 1580 1 720 1596 t
10 S1 f
(")2342 1596 w
10 R f
(03)2383 1596 w
10 S1 f
(")2483 1596 w
10 R f
(, forwarded names have a suf\256x of)6 1484 1 2524 1596 t
10 S1 f
(")4050 1596 w
10 R f
(05)4091 1596 w
10 S1 f
(")4191 1596 w
10 R f
(. The algorithm for)3 808 1 4232 1596 t
(sending messages is to \256rst attempt to deliver the message to the forwarded name, and only if this fails)18 4320 1 720 1716 t
(to attempt to deliver to the normal name.)7 1688 1 720 1836 t
10 B f
( Single Block Message)3 966(6.1. Send)1 428 2 720 2076 t
10 S f
(_ ______________________________________________________________)1 3125 1 1317 2192 t
10 S1 f
(>)1367 2312 w
10 R f
( Consumer)1 444( To)1 1446(From Consumer)1 661 3 1423 2312 t
10 S f
(_ ______________________________________________________________)1 3125 1 1317 2332 t
10 R f
(smb)1367 2452 w
10 S f
(_)1534 2452 w
10 R f
( smb)1 1219(com SMBsends)1 783 2 1584 2452 t
10 S f
(_)3586 2452 w
10 R f
(com SMBsends)1 756 1 3636 2452 t
(smb)1367 2572 w
10 S f
(_)1534 2572 w
10 R f
( smb)1 1603(wct 0)1 399 2 1584 2572 t
10 S f
(_)3586 2572 w
10 R f
(wct 0)1 372 1 3636 2572 t
(smb)1367 2692 w
10 S f
(_)1534 2692 w
10 R f
( smb)1 1325( = 7)2 172(bcc min)1 505 3 1584 2692 t
10 S f
(_)3586 2692 w
10 R f
(bcc 0)1 372 1 3636 2692 t
(smb)1367 2812 w
10 S f
(_)1534 2812 w
10 R f
( -- 04)2 232(buf[] ASCII)1 610 2 1584 2812 t
(originator name \(max 15 bytes\))4 1291 1 1933 2932 t
(ASCII -- 04)2 493 1 1933 3052 t
(destination name \(max 15 bytes\))4 1336 1 1933 3172 t
(Data Block -- 01)3 692 1 1933 3292 t
(length of message \(max 128\))4 1191 1 1933 3412 t
(message \(max 128 bytes\))3 1036 1 1933 3532 t
10 S f
( \347)1 -3125(_ ______________________________________________________________)1 3125 2 1317 3552 t
(\347)1317 3492 w
(\347)1317 3392 w
(\347)1317 3292 w
(\347)1317 3192 w
(\347)1317 3092 w
(\347)1317 2992 w
(\347)1317 2892 w
(\347)1317 2792 w
(\347)1317 2692 w
(\347)1317 2592 w
(\347)1317 2492 w
(\347)1317 2392 w
(\347)1317 2292 w
(\347)3344 3552 w
(\347)3344 3492 w
(\347)3344 3392 w
(\347)3344 3292 w
(\347)3344 3192 w
(\347)3344 3092 w
(\347)3344 2992 w
(\347)3344 2892 w
(\347)3344 2792 w
(\347)3344 2692 w
(\347)3344 2592 w
(\347)3344 2492 w
(\347)3344 2392 w
(\347)3344 2292 w
(\347)4442 3552 w
(\347)4442 3492 w
(\347)4442 3392 w
(\347)4442 3292 w
(\347)4442 3192 w
(\347)4442 3092 w
(\347)4442 2992 w
(\347)4442 2892 w
(\347)4442 2792 w
(\347)4442 2692 w
(\347)4442 2592 w
(\347)4442 2492 w
(\347)4442 2392 w
(\347)4442 2292 w
10 R f
( 128 bytes in length\) to a single destination)8 1874(Send Single Block Message sends a short message \(up to)9 2446 2 720 3768 t
(\(user\).)720 3888 w
(The names speci\256ed in this message do not include the one byte suf\256x \()13 2976 1 720 4128 t
10 S1 f
(")3696 4128 w
10 R f
(03)3737 4128 w
10 S1 f
(")3837 4128 w
10 R f
(or)3911 4128 w
10 S1 f
(")4027 4128 w
10 R f
(05)4068 4128 w
10 S1 f
(")4168 4128 w
10 R f
(\).)4209 4128 w
(Send Single Block Message may generate the following errors.)8 2585 1 720 4368 t
(Error Class ERRDOS:)2 916 1 1080 4548 t
10 S1 f
(<)1146 4788 w
10 R f
(implementation speci\256c)1 966 1 1202 4788 t
10 S1 f
(>)2168 4788 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 5028 t
(ERRerror)1146 5268 w
(ERRinvnid)1146 5388 w
(ERRpaused)1146 5508 w
(ERRmsgoff)1146 5628 w
(ERRnoroom)1146 5748 w
10 S1 f
(<)1146 5868 w
10 R f
(implementation speci\256c)1 966 1 1202 5868 t
10 S1 f
(>)2168 5868 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 6108 t
10 S1 f
(<)1146 6348 w
10 R f
(implementation speci\256c)1 966 1 1202 6348 t
10 S1 f
(>)2168 6348 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 30 30
%%Page: 31 31
save
mark
31 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 31 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 B f
( Broadcast Message)2 859(6.2. Send)1 428 2 720 840 t
10 S f
(_ _______________________________________________________)1 2795 1 1482 956 t
10 S1 f
(>)1532 1076 w
10 R f
( Consumer)1 444( To)1 1401(From Consumer)1 661 3 1588 1076 t
10 S f
(_ _______________________________________________________)1 2795 1 1482 1096 t
10 R f
(smb)1532 1216 w
10 S f
(_)1699 1216 w
10 R f
( Response)1 416( No)1 1118(com SMBsendb)1 794 3 1749 1216 t
(smb)1532 1336 w
10 S f
(_)1699 1336 w
10 R f
(wct 0)1 399 1 1749 1336 t
(smb)1532 1456 w
10 S f
(_)1699 1456 w
10 R f
( = 8)2 172(bcc min)1 505 2 1749 1456 t
(smb)1532 1576 w
10 S f
(_)1699 1576 w
10 R f
( -- 04)2 232(buf[] ASCII)1 610 2 1749 1576 t
(originator name \(max 15 bytes\))4 1291 1 2098 1696 t
(ASCII -- 04)2 493 1 2098 1816 t
10 S1 f
(")2098 1936 w
10 R f
(*)2139 1936 w
10 S1 f
(")2189 1936 w
10 R f
(Data Block -- 01)3 692 1 2098 2056 t
(length of message \(max 128\))4 1191 1 2098 2176 t
(message \(max 128 bytes\))3 1036 1 2098 2296 t
10 S f
( \347)1 -2795(_ _______________________________________________________)1 2795 2 1482 2316 t
(\347)1482 2256 w
(\347)1482 2156 w
(\347)1482 2056 w
(\347)1482 1956 w
(\347)1482 1856 w
(\347)1482 1756 w
(\347)1482 1656 w
(\347)1482 1556 w
(\347)1482 1456 w
(\347)1482 1356 w
(\347)1482 1256 w
(\347)1482 1156 w
(\347)1482 1056 w
(\347)3464 2316 w
(\347)3464 2256 w
(\347)3464 2156 w
(\347)3464 2056 w
(\347)3464 1956 w
(\347)3464 1856 w
(\347)3464 1756 w
(\347)3464 1656 w
(\347)3464 1556 w
(\347)3464 1456 w
(\347)3464 1356 w
(\347)3464 1256 w
(\347)3464 1156 w
(\347)3464 1056 w
(\347)4277 2316 w
(\347)4277 2256 w
(\347)4277 2156 w
(\347)4277 2056 w
(\347)4277 1956 w
(\347)4277 1856 w
(\347)4277 1756 w
(\347)4277 1656 w
(\347)4277 1556 w
(\347)4277 1456 w
(\347)4277 1356 w
(\347)4277 1256 w
(\347)4277 1156 w
(\347)4277 1056 w
10 R f
(Send Broadcast Message sends a short message \(up to 128 bytes in length\) to every user in the network.)18 4296 1 720 2496 t
(The name speci\256ed in this message does not include the one byte suf\256x \()13 3020 1 720 2736 t
10 S1 f
(")3740 2736 w
10 R f
(03)3781 2736 w
10 S1 f
(")3881 2736 w
10 R f
(\).)3922 2736 w
(There is no response message to this command, thus Send Broadcast Message cannot generate errors.)14 4165 1 720 2976 t
10 B f
( Start of Multi-block Message)4 1297(6.3. Send)1 428 2 720 3216 t
10 S f
(_ ____________________________________________________________________)1 3433 1 1163 3332 t
10 S1 f
(>)1213 3452 w
10 R f
( Consumer)1 444( To)1 1446(From Consumer)1 661 3 1269 3452 t
10 S f
(_ ____________________________________________________________________)1 3433 1 1163 3472 t
10 R f
(smb)1213 3592 w
10 S f
(_)1380 3592 w
10 R f
( smb)1 1130(com SMBsendstrt)1 872 2 1430 3592 t
10 S f
(_)3432 3592 w
10 R f
(com SMBsendstrt)1 845 1 3482 3592 t
(smb)1213 3712 w
10 S f
(_)1380 3712 w
10 R f
( smb)1 1603(wct 0)1 399 2 1430 3712 t
10 S f
(_)3432 3712 w
10 R f
(wct 1)1 372 1 3482 3712 t
(smb)1213 3832 w
10 S f
(_)1380 3832 w
10 R f
( smb)1 1325( = 0)2 172(bcc min)1 505 3 1430 3832 t
10 S f
(_)3432 3832 w
10 R f
( group ID)2 404(vwv message)1 660 2 3482 3832 t
(smb)1213 3952 w
10 S f
(_)1380 3952 w
10 R f
( smb)1 1160( -- 04)2 232(buf[] ASCII)1 610 3 1430 3952 t
10 S f
(_)3432 3952 w
10 R f
(bcc 0)1 372 1 3482 3952 t
(originator name \(max 15 bytes\))4 1291 1 1779 4072 t
(ASCII -- 04)2 493 1 1779 4192 t
(destination name \(max 15 bytes\))4 1336 1 1779 4312 t
10 S f
( \347)1 -3433(_ ____________________________________________________________________)1 3433 2 1163 4332 t
(\347)1163 4232 w
(\347)1163 4132 w
(\347)1163 4032 w
(\347)1163 3932 w
(\347)1163 3832 w
(\347)1163 3732 w
(\347)1163 3632 w
(\347)1163 3532 w
(\347)1163 3432 w
(\347)3190 4332 w
(\347)3190 4232 w
(\347)3190 4132 w
(\347)3190 4032 w
(\347)3190 3932 w
(\347)3190 3832 w
(\347)3190 3732 w
(\347)3190 3632 w
(\347)3190 3532 w
(\347)3190 3432 w
(\347)4596 4332 w
(\347)4596 4232 w
(\347)4596 4132 w
(\347)4596 4032 w
(\347)4596 3932 w
(\347)4596 3832 w
(\347)4596 3732 w
(\347)4596 3632 w
(\347)4596 3532 w
(\347)4596 3432 w
10 R f
( returns a message)3 764( server)1 277( The)1 222(This command informs the server that a multi-block message will be sent.)11 3057 4 720 4512 t
(group ID to be used to identify the message blocks when they are sent.)13 2927 1 720 4632 t
(The names speci\256ed in this message do not include the one byte suf\256x \()13 2976 1 720 4872 t
10 S1 f
(")3696 4872 w
10 R f
(03)3737 4872 w
10 S1 f
(")3837 4872 w
10 R f
(or)3911 4872 w
10 S1 f
(")4027 4872 w
10 R f
(05)4068 4872 w
10 S1 f
(")4168 4872 w
10 R f
(\).)4209 4872 w
(Send Start of Multi-block Message may generate the following errors.)9 2873 1 720 5112 t
(Error Class ERRDOS:)2 916 1 1080 5292 t
10 S1 f
(<)1146 5532 w
10 R f
(implementation speci\256c)1 966 1 1202 5532 t
10 S1 f
(>)2168 5532 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 5772 t
(ERRerror)1146 6012 w
(ERRinvnid)1146 6132 w
(ERRpaused)1146 6252 w
(ERRmsgoff)1146 6372 w
(ERRnoroom)1146 6492 w
10 S1 f
(<)1146 6612 w
10 R f
(implementation speci\256c)1 966 1 1202 6612 t
10 S1 f
(>)2168 6612 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 6852 t
10 S1 f
(<)1146 7092 w
10 R f
(implementation speci\256c)1 966 1 1202 7092 t
10 S1 f
(>)2168 7092 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 31 31
%%Page: 32 32
save
mark
32 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 32 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 B f
( Text of Multi-block Message)4 1275(6.4. Send)1 428 2 720 840 t
10 S f
(_ ____________________________________________________________)1 3047 1 1356 956 t
10 S1 f
(>)1406 1076 w
10 R f
( Consumer)1 444( To)1 1301(From Consumer)1 661 3 1462 1076 t
10 S f
(_ ____________________________________________________________)1 3047 1 1356 1096 t
10 R f
(smb)1406 1216 w
10 S f
(_)1573 1216 w
10 R f
( smb)1 1007(com SMBsendtxt)1 850 2 1623 1216 t
10 S f
(_)3480 1216 w
10 R f
(com SMBsendtxt)1 823 1 3530 1216 t
(smb)1406 1336 w
10 S f
(_)1573 1336 w
10 R f
( smb)1 1458(wct 1)1 399 2 1623 1336 t
10 S f
(_)3480 1336 w
10 R f
(wct 0)1 372 1 3530 1336 t
(smb)1406 1456 w
10 S f
(_)1573 1456 w
10 R f
( smb)1 766( group ID)2 404(vwv message)1 687 3 1623 1456 t
10 S f
(_)3480 1456 w
10 R f
(bcc 0)1 372 1 3530 1456 t
(smb)1406 1576 w
10 S f
(_)1573 1576 w
10 R f
( = 3)2 172(bcc min)1 505 2 1623 1576 t
(smb)1406 1696 w
10 S f
(_)1573 1696 w
10 R f
( Block -- 01)3 504(buf[] Data)1 537 2 1623 1696 t
(length of message \(max 128\))4 1191 1 1972 1816 t
(message \(max 128 bytes\))3 1036 1 1972 1936 t
10 S f
( \347)1 -3047(_ ____________________________________________________________)1 3047 2 1356 1956 t
(\347)1356 1856 w
(\347)1356 1756 w
(\347)1356 1656 w
(\347)1356 1556 w
(\347)1356 1456 w
(\347)1356 1356 w
(\347)1356 1256 w
(\347)1356 1156 w
(\347)1356 1056 w
(\347)3238 1956 w
(\347)3238 1856 w
(\347)3238 1756 w
(\347)3238 1656 w
(\347)3238 1556 w
(\347)3238 1456 w
(\347)3238 1356 w
(\347)3238 1256 w
(\347)3238 1156 w
(\347)3238 1056 w
(\347)4403 1956 w
(\347)4403 1856 w
(\347)4403 1756 w
(\347)4403 1656 w
(\347)4403 1556 w
(\347)4403 1456 w
(\347)4403 1356 w
(\347)4403 1256 w
(\347)4403 1156 w
(\347)4403 1056 w
10 R f
( must contain a valid mes-)5 1117( It)1 131(This command delivers a segment of a multi-block message to the server.)11 3072 3 720 2136 t
(sage group ID returned by an earlier Start Multi-block Message command.)10 3060 1 720 2256 t
( multi-block message cannot)3 1191( A)1 145( sent with this command.)4 1063(A maximum of 128 bytes of message may be)8 1921 4 720 2496 t
(exceed 1600 bytes in total length \(sum of all segments sent with a given message group ID\).)16 3815 1 720 2616 t
(Send Text of Multi-block Message may generate the following errors.)9 2867 1 720 2856 t
(Error Class ERRDOS:)2 916 1 1080 3036 t
10 S1 f
(<)1146 3276 w
10 R f
(implementation speci\256c)1 966 1 1202 3276 t
10 S1 f
(>)2168 3276 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 3516 t
(ERRerror)1146 3756 w
(ERRinvnid)1146 3876 w
(ERRpaused)1146 3996 w
(ERRmsgoff)1146 4116 w
(ERRnoroom)1146 4236 w
10 S1 f
(<)1146 4356 w
10 R f
(implementation speci\256c)1 966 1 1202 4356 t
10 S1 f
(>)2168 4356 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 4596 t
10 S1 f
(<)1146 4836 w
10 R f
(implementation speci\256c)1 966 1 1202 4836 t
10 S1 f
(>)2168 4836 w
10 B f
( End of Multi-block Message)4 1260(6.5. Send)1 428 2 720 5136 t
10 S f
(_ ____________________________________________________)1 2609 1 1575 5252 t
10 S1 f
(>)1625 5372 w
10 R f
( Consumer)1 444( To)1 825(From Consumer)1 661 3 1681 5372 t
10 S f
(_ ____________________________________________________)1 2609 1 1575 5392 t
10 R f
(smb)1625 5512 w
10 S f
(_)1792 5512 w
10 R f
( smb)1 520(com SMBsendend)1 861 2 1842 5512 t
10 S f
(_)3223 5512 w
10 R f
(com SMBsendend)1 861 1 3273 5512 t
(smb)1625 5632 w
10 S f
(_)1792 5632 w
10 R f
( smb)1 1009(wct 0)1 372 2 1842 5632 t
10 S f
(_)3223 5632 w
10 R f
(wct 0)1 372 1 3273 5632 t
(smb)1625 5752 w
10 S f
(_)1792 5752 w
10 R f
( smb)1 317( group ID)2 404(vwv message)1 660 3 1842 5752 t
10 S f
(_)3223 5752 w
10 R f
(bcc 0)1 372 1 3273 5752 t
(smb)1625 5872 w
10 S f
(_)1792 5872 w
10 R f
(bcc 0)1 372 1 1842 5872 t
10 S f
( \347)1 -2609(_ ____________________________________________________)1 2609 2 1575 5892 t
(\347)1575 5852 w
(\347)1575 5752 w
(\347)1575 5652 w
(\347)1575 5552 w
(\347)1575 5452 w
(\347)1575 5352 w
(\347)2981 5892 w
(\347)2981 5852 w
(\347)2981 5752 w
(\347)2981 5652 w
(\347)2981 5552 w
(\347)2981 5452 w
(\347)2981 5352 w
(\347)4184 5892 w
(\347)4184 5852 w
(\347)4184 5752 w
(\347)4184 5652 w
(\347)4184 5552 w
(\347)4184 5452 w
(\347)4184 5352 w
10 R f
(This command signals the completion of the multi-block message identi\256ed by the message group ID.)14 4195 1 720 6072 t
(Send End of Multi-block Message may generate the following errors.)9 2845 1 720 6312 t
(Error Class ERRDOS:)2 916 1 1080 6492 t
10 S1 f
(<)1146 6732 w
10 R f
(implementation speci\256c)1 966 1 1202 6732 t
10 S1 f
(>)2168 6732 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 32 32
%%Page: 33 33
save
mark
33 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 33 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(Error Class ERRSRV:)2 911 1 1080 900 t
(ERRerror)1146 1140 w
(ERRinvnid)1146 1260 w
(ERRpaused)1146 1380 w
(ERRmsgoff)1146 1500 w
10 S1 f
(<)1146 1620 w
10 R f
(implementation speci\256c)1 966 1 1202 1620 t
10 S1 f
(>)2168 1620 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 1860 t
10 S1 f
(<)1146 2100 w
10 R f
(implementation speci\256c)1 966 1 1202 2100 t
10 S1 f
(>)2168 2100 w
10 B f
( User Name)2 514(6.6. Forward)1 593 2 720 2400 t
10 S f
(_ ________________________________________________________________)1 3244 1 1258 2516 t
10 S1 f
(>)1308 2636 w
10 R f
( Consumer)1 444( To)1 1416(From Consumer)1 661 3 1364 2636 t
10 S f
(_ ________________________________________________________________)1 3244 1 1258 2656 t
10 R f
(smb)1308 2776 w
10 S f
(_)1475 2776 w
10 R f
( smb)1 1040(com SMBfwdname)1 932 2 1525 2776 t
10 S f
(_)3497 2776 w
10 R f
(com SMBfwdname)1 905 1 3547 2776 t
(smb)1308 2896 w
10 S f
(_)1475 2896 w
10 R f
( smb)1 1573(wct 0)1 399 2 1525 2896 t
10 S f
(_)3497 2896 w
10 R f
(wct 0)1 372 1 3547 2896 t
(smb)1308 3016 w
10 S f
(_)1475 3016 w
10 R f
( smb)1 1295( = 2)2 172(bcc min)1 505 3 1525 3016 t
10 S f
(_)3497 3016 w
10 R f
(bcc 0)1 372 1 3547 3016 t
(smb)1308 3136 w
10 S f
(_)1475 3136 w
10 R f
( -- 04)2 232(buf[] ASCII)1 610 2 1525 3136 t
(forwarded name \(max 15 bytes\))4 1306 1 1874 3256 t
10 S f
( \347)1 -3244(_ ________________________________________________________________)1 3244 2 1258 3276 t
(\347)1258 3216 w
(\347)1258 3116 w
(\347)1258 3016 w
(\347)1258 2916 w
(\347)1258 2816 w
(\347)1258 2716 w
(\347)1258 2616 w
(\347)3255 3276 w
(\347)3255 3216 w
(\347)3255 3116 w
(\347)3255 3016 w
(\347)3255 2916 w
(\347)3255 2816 w
(\347)3255 2716 w
(\347)3255 2616 w
(\347)4502 3276 w
(\347)4502 3216 w
(\347)4502 3116 w
(\347)4502 3016 w
(\347)4502 2916 w
(\347)4502 2816 w
(\347)4502 2716 w
(\347)4502 2616 w
10 R f
(This command informs the server that it should accept messages sent to the forwarded name.)14 3825 1 720 3456 t
(The name speci\256ed in this message does not include the one byte suf\256x \()13 3020 1 720 3696 t
10 S1 f
(")3740 3696 w
10 R f
(03)3781 3696 w
10 S1 f
(")3881 3696 w
10 R f
(or)3955 3696 w
10 S1 f
(")4071 3696 w
10 R f
(05)4112 3696 w
10 S1 f
(")4212 3696 w
10 R f
(\).)4253 3696 w
(Forward User Name may generate the following errors.)7 2272 1 720 3936 t
(Error Class ERRDOS:)2 916 1 1080 4116 t
10 S1 f
(<)1146 4356 w
10 R f
(implementation speci\256c)1 966 1 1202 4356 t
10 S1 f
(>)2168 4356 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 4596 t
(ERRerror)1146 4836 w
(ERRinvnid)1146 4956 w
(ERRrmuns)1146 5076 w
10 S1 f
(<)1146 5196 w
10 R f
(implementation speci\256c)1 966 1 1202 5196 t
10 S1 f
(>)2168 5196 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 5436 t
10 S1 f
(<)1146 5676 w
10 R f
(implementation speci\256c)1 966 1 1202 5676 t
10 S1 f
(>)2168 5676 w
10 B f
( Forward)1 410(6.7. Cancel)1 510 2 720 5976 t
10 S f
(_ _______________________________________________________________)1 3160 1 1300 6092 t
10 S1 f
(>)1350 6212 w
10 R f
( Consumer)1 444( To)1 1416(From Consumer)1 661 3 1406 6212 t
10 S f
(_ _______________________________________________________________)1 3160 1 1300 6232 t
10 R f
(smb)1350 6352 w
10 S f
(_)1517 6352 w
10 R f
( smb)1 1124(com SMBcancelf)1 848 2 1567 6352 t
10 S f
(_)3539 6352 w
10 R f
(com SMBcancelf)1 821 1 3589 6352 t
(smb)1350 6472 w
10 S f
(_)1517 6472 w
10 R f
( smb)1 1573(wct 0)1 399 2 1567 6472 t
10 S f
(_)3539 6472 w
10 R f
(wct 0)1 372 1 3589 6472 t
(smb)1350 6592 w
10 S f
(_)1517 6592 w
10 R f
( smb)1 1295( = 2)2 172(bcc min)1 505 3 1567 6592 t
10 S f
(_)3539 6592 w
10 R f
(bcc 0)1 372 1 3589 6592 t
(smb)1350 6712 w
10 S f
(_)1517 6712 w
10 R f
( -- 04)2 232(buf[] ASCII)1 610 2 1567 6712 t
(forwarded name \(max 15 bytes\))4 1306 1 1916 6832 t
10 S f
( \347)1 -3160(_ _______________________________________________________________)1 3160 2 1300 6852 t
(\347)1300 6792 w
(\347)1300 6692 w
(\347)1300 6592 w
(\347)1300 6492 w
(\347)1300 6392 w
(\347)1300 6292 w
(\347)1300 6192 w
(\347)3297 6852 w
(\347)3297 6792 w
(\347)3297 6692 w
(\347)3297 6592 w
(\347)3297 6492 w
(\347)3297 6392 w
(\347)3297 6292 w
(\347)3297 6192 w
(\347)4460 6852 w
(\347)4460 6792 w
(\347)4460 6692 w
(\347)4460 6592 w
(\347)4460 6492 w
(\347)4460 6392 w
(\347)4460 6292 w
(\347)4460 6192 w
10 R f
( The)1 247( cancels the effect of a prior Forward User Name command.)10 2735(The Cancel Forward command)3 1338 3 720 7032 t
(addressed server will no longer accept messages for the designated user name.)11 3213 1 720 7152 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 33 33
%%Page: 34 34
save
mark
34 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 34 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(The name speci\256ed in this message does not include the one byte suf\256x \()13 3020 1 720 840 t
10 S1 f
(")3740 840 w
10 R f
(05)3781 840 w
10 S1 f
(")3881 840 w
10 R f
(\).)3922 840 w
(Cancel Forward may generate the following errors.)6 2090 1 720 1080 t
(Error Class ERRDOS:)2 916 1 1080 1260 t
10 S1 f
(<)1146 1500 w
10 R f
(implementation speci\256c)1 966 1 1202 1500 t
10 S1 f
(>)2168 1500 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 1740 t
(ERRerror)1146 1980 w
(ERRinvnid)1146 2100 w
10 S1 f
(<)1146 2220 w
10 R f
(implementation speci\256c)1 966 1 1202 2220 t
10 S1 f
(>)2168 2220 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 2460 t
10 S1 f
(<)1146 2700 w
10 R f
(implementation speci\256c)1 966 1 1202 2700 t
10 S1 f
(>)2168 2700 w
10 B f
( Machine Name)2 687(6.8. Get)1 371 2 720 3000 t
10 S f
(_ _____________________________________________________________)1 3090 1 1335 3116 t
10 S1 f
(>)1385 3236 w
10 R f
( Consumer)1 444( To)1 583(From Consumer)1 661 3 1441 3236 t
10 S f
(_ _____________________________________________________________)1 3090 1 1335 3256 t
10 R f
(smb)1385 3376 w
10 S f
(_)1552 3376 w
10 R f
(com SMBgetmac smb)2 1139 1 1602 3376 t
10 S f
(_)2741 3376 w
10 R f
(com SMBgetmac)1 849 1 2791 3376 t
(smb)1385 3496 w
10 S f
(_)1552 3496 w
10 R f
( smb)1 767(wct 0)1 372 2 1602 3496 t
10 S f
(_)2741 3496 w
10 R f
(wct 0)1 399 1 2791 3496 t
(smb)1385 3616 w
10 S f
(_)1552 3616 w
10 R f
( smb)1 767(bcc 0)1 372 2 1602 3616 t
10 S f
(_)2741 3616 w
10 R f
( = 2)2 172(bcc min)1 505 2 2791 3616 t
(smb)2574 3736 w
10 S f
(_)2741 3736 w
10 R f
( -- 04)2 232(buf[] ASCII)1 610 2 2791 3736 t
(machine name \(max 15 bytes\))4 1235 1 3140 3856 t
10 S f
( \347)1 -3090(_ _____________________________________________________________)1 3090 2 1335 3876 t
(\347)1335 3816 w
(\347)1335 3716 w
(\347)1335 3616 w
(\347)1335 3516 w
(\347)1335 3416 w
(\347)1335 3316 w
(\347)1335 3216 w
(\347)2499 3876 w
(\347)2499 3816 w
(\347)2499 3716 w
(\347)2499 3616 w
(\347)2499 3516 w
(\347)2499 3416 w
(\347)2499 3316 w
(\347)2499 3216 w
(\347)4425 3876 w
(\347)4425 3816 w
(\347)4425 3716 w
(\347)4425 3616 w
(\347)4425 3516 w
(\347)4425 3416 w
(\347)4425 3316 w
(\347)4425 3216 w
10 R f
( to)1 118( is used prior)3 561( It)1 133(The Get Machine Name command obtains the machine name of the target machine.)12 3508 4 720 4056 t
( which machine to send the Cancel Forward command to.)9 2482(the Cancel Forward command to determine)5 1838 2 720 4176 t
( name to be canceled, and the server then returns the)10 2381(Get Machine Name is sent to the forwarded)7 1939 2 720 4296 t
(machine name to which the Cancel Forward command must be sent.)10 2812 1 720 4416 t
(Get Machine Name may return the following errors.)7 2140 1 720 4656 t
(Error Class ERRDOS:)2 916 1 1080 4836 t
10 S1 f
(<)1146 5076 w
10 R f
(implementation speci\256c)1 966 1 1202 5076 t
10 S1 f
(>)2168 5076 w
10 R f
(Error Class ERRSRV:)2 911 1 1080 5316 t
(ERRerror)1146 5556 w
(ERRinvnid)1146 5676 w
10 S1 f
(<)1146 5796 w
10 R f
(implementation speci\256c)1 966 1 1202 5796 t
10 S1 f
(>)2168 5796 w
10 R f
(Error Class ERRHRD:)2 927 1 1080 6036 t
10 S1 f
(<)1146 6276 w
10 R f
(implementation speci\256c)1 966 1 1202 6276 t
10 S1 f
(>)2168 6276 w
10 R f
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 34 34
%%Page: 35 35
save
mark
35 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 35 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 B f
( De\256nitions)1 495(7. Data)1 346 2 720 840 t
( Objects)1 360(7.1. Message)1 576 2 720 1080 t
10 R f
( of the con-)3 508( rest)1 185( The)1 229( of this \256eld indicate the type of \256le.)8 1580( Portions)1 408(attribute:The attributes of the \256le.)4 1410 6 720 1272 t
( in attribute \(bit0 is)4 811( MS-DOS server will return the following values)7 2040( The)1 225(tents are server speci\256c.)3 994 4 970 1392 t
(the low order bit\):)3 748 1 970 1512 t
(Generic Attributes:)1 776 1 1330 1692 t
( directory)1 393(bit4 -)1 321 2 1396 1812 t
(MS-DOS Attributes:)1 839 1 1330 2052 t
( read only \256le)3 576(bit0 -)1 387 2 1396 2172 t
(bit1 -)1 387 1 1396 2292 t
10 S1 f
(")1816 2292 w
10 R f
(hidden)1857 2292 w
10 S1 f
(")2129 2292 w
10 R f
(\256le)2203 2292 w
( system \256le)2 472(bit2 -)1 387 2 1396 2412 t
( volume id)2 444(bit3 -)1 387 2 1396 2532 t
( archive \256le)2 487(bit5 -)1 387 2 1396 2652 t
( reserved)1 370(bits6-15 -)1 427 2 1396 2772 t
( If)1 136( MS-DOS Attributes is optional.)4 1346(Support of the Generic Attributes is mandatory; support of the)9 2588 3 970 2952 t
( set them must be rejected and atempts to)8 1784(the MS-DOS Attributes are not supported, attempts to)7 2286 2 970 3072 t
(match on them \(e.g., File Search\) must result in a null response.)11 2638 1 970 3192 t
( maximum size is server)4 1031( The)1 228( bytes \(1 to the maximum size\) read/written.)7 1868( of)1 155(count of bytes:The count)3 1038 5 720 3348 t
(speci\256c.)970 3468 w
( advisory only and is used for read-ahead)7 1713( \256eld is)2 313( This)1 245(count left:The count of bytes not yet read/written.)7 2049 4 720 3624 t
(in the server.)2 534 1 970 3744 t
(count-returned:The actual number of directory entries that are returned by a \256le-search response.)12 3954 1 720 3900 t
(data read/written:The actual data.)3 1359 1 720 4056 t
( which identi\256es a requested protocol and version in a string.)10 2523(dialect-0-dialect-n:A list of dialects, each of)5 1797 2 720 4212 t
(Examples:)970 4332 w
10 S1 f
(")1425 4332 w
10 R f
(SNA-REV2)1466 4332 w
10 S1 f
(" ")1 115 1 1949 4332 t
10 R f
(TEST PROTOCOL)1 800 1 2064 4332 t
10 S1 f
(" ")1 115 1 2864 4332 t
10 R f
(RING.2)2979 4332 w
10 S1 f
(")3298 4332 w
10 R f
(dir)720 4488 w
10 S f
(_)831 4488 w
10 R f
(info:A data block containing an array of directory entries returned by \256le search.)12 3313 1 881 4488 t
( Use)1 231( \256le within the tree.)4 852(dir pathname:An ASCII string, null terminated, that de\256nes the location of a)11 3237 3 720 4644 t
(the ')1 196 1 970 4764 t
10 S1 f
(\\)1166 4764 w
10 R f
( maximum)1 446( The)1 228( a directory.)2 509( last component names)3 961( The)1 229(' character to separate components.)4 1473 6 1194 4764 t
( pathname is relative to a TID and may or may not com-)12 2414( The)1 227(size of this \256eld is server speci\256c.)6 1429 3 970 4884 t
(mence with a ')3 614 1 970 5004 t
10 S1 f
(\\)1584 5004 w
10 R f
(')1612 5004 w
( File)1 233(\256le handle:The \256le identi\256er obtained form an open, create, make new \256le, and make temp \256le.)15 4087 2 720 5160 t
(handles are unique within a process id.)6 1598 1 970 5280 t
( Use)1 230( within the tree.)3 678(\256le pathname:An ASCII string, null terminated, that de\256nes the location of a \256le)12 3412 3 720 5436 t
(the ')1 190 1 970 5556 t
10 S1 f
(\\)1160 5556 w
10 R f
( size of)2 306( maximum)1 441( The)1 223( last component names a \256le.)5 1210( The)1 223(' character to separate components.)4 1449 6 1188 5556 t
( pathname is relative to a TID and may or may not commence)12 2701( The)1 232( server speci\256c.)2 661(this \256eld is)2 476 4 970 5676 t
(with a ')2 321 1 970 5796 t
10 S1 f
(\\)1291 5796 w
10 R f
(')1319 5796 w
(\256le size low/hi:Low and hi words of a 32-bit long \256eld that represents the Data \256le size.)16 3638 1 720 5952 t
(identi\256er string:The)1 805 1 720 6108 t
10 S1 f
(")1558 6108 w
10 R f
(originator name)1 643 1 1599 6108 t
10 S1 f
(")2242 6108 w
10 R f
( server will add a number to it to)8 1376( The)1 222( owner of a print \256le.)5 888(of the)1 238 4 2316 6108 t
( is a null terminated ASCII string.)6 1406( This)1 244(generate a unique \256le name.)4 1154 3 970 6228 t
(max-count:The maximum number of directory entries that can be returned by a \256le-search response.)13 4106 1 720 6384 t
(max xmit size:The maximum size message that a server can handle.)10 2789 1 720 6540 t
(message group IDA message group ID uniquely identi\256es a multi-block message.)10 3345 1 720 6696 t
(non-owner access:The access rights of other than the owner.)8 2471 1 720 6852 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 35 35
%%Page: 36 36
save
mark
36 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 36 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
(offset low/hi:The low and hi words of a 32-bit offset.)9 2197 1 720 840 t
(owner access:The access rights of the owner.)6 1845 1 720 996 t
(owner id:The user id of the owner of the \256le.)9 1863 1 720 1152 t
( is a null)3 378( This)1 248( NET USE command.)3 913(password:May be used with the pathname for authentication by the)9 2781 4 720 1308 t
(terminated ASCII string.)2 1007 1 970 1428 t
( contains \256elds that represent the following:)6 1802( It)1 127(r/w/share:This \256eld de\256nes the \256le mode.)5 1700 3 720 1584 t
(Access modes:)1 604 1 1330 1764 t
(Read)1429 1884 w
(Write)1429 2004 w
(Read/Write)1429 2124 w
(Sharing modes:)1 633 1 1330 2244 t
(Exclusive)1429 2364 w
(No restriction)1 560 1 1429 2484 t
(Multiple Readers)1 699 1 1429 2604 t
(Multiple Writers)1 677 1 1429 2724 t
(search-status:A variable block reserved for server speci\256c information that is passed from each \256le)13 4320 1 720 2940 t
(search response message to the next \256le search request.)8 2272 1 970 3060 t
( contains the modi\256cation)3 1069( two words de\256ne a 32 bit \256eld that)8 1496( these)1 273(time1 low/hi:File modi\256cation time.)3 1482 4 720 3216 t
( value of zero indicates a null time)7 1434( A)1 138( past Jan 1 1970 \(local time zone\).)7 1426(time expressed as seconds)3 1072 4 970 3336 t
(\256eld.)970 3456 w
10 B f
( Buffer Formats \(smb)3 947(7.2. Data)1 421 2 720 3696 t
10 S f
(_)2088 3696 w
10 B f
(buf\))2138 3696 w
10 R f
( typically contains the data to be read or written, \256le paths, or direc-)13 2865(The data portion of these messages)5 1455 2 720 3852 t
( \256elds in the data portion have)6 1282( All)1 198( message.)1 400( format of the data portion depends on the)8 1779( The)1 226(tory paths.)1 435 6 720 3972 t
( every case it consists of an identi\256er byte followed by the data.)12 2639( In)1 149(the same format.)2 684 3 720 4092 t
10 S f
(_ ________________________________________________)1 2446 1 1657 4172 t
10 R f
(Data Identi\256er Bytes)2 848 1 2456 4292 t
10 S f
(_ ________________________________________________)1 2446 1 1657 4312 t
10 R f
( Value)1 1132(Name Description)1 1214 2 1707 4432 t
10 S f
(_ ________________________________________________)1 2446 1 1657 4452 t
10 R f
( 01)1 1160( Below)1 294( See)1 432(Data Block)1 460 4 1707 4572 t
( 02)1 388( terminated ASCII String)3 1032(Dialect Null)1 926 3 1707 4692 t
( 03)1 388( terminated ASCII String)3 1032(Pathname Null)1 926 3 1707 4812 t
( 04)1 388( terminated ASCII String)3 1032(ASCII Null)1 926 3 1707 4932 t
( 05)1 1160( Below)1 294( See)1 294(Variable block)1 598 4 1707 5052 t
10 S f
( \347)1 -2446(_ ________________________________________________)1 2446 2 1657 5072 t
(\347)1657 4972 w
(\347)1657 4872 w
(\347)1657 4772 w
(\347)1657 4672 w
(\347)1657 4572 w
(\347)1657 4472 w
(\347)1657 4372 w
(\347)1657 4272 w
(\347)2380 5072 w
(\347)2380 5012 w
(\347)2380 4912 w
(\347)2380 4812 w
(\347)2380 4712 w
(\347)2380 4612 w
(\347)2380 4512 w
(\347)2380 4412 w
(\347)3740 5072 w
(\347)3740 5012 w
(\347)3740 4912 w
(\347)3740 4812 w
(\347)3740 4712 w
(\347)3740 4612 w
(\347)3740 4512 w
(\347)3740 4412 w
(\347)4103 5072 w
(\347)4103 4972 w
(\347)4103 4872 w
(\347)4103 4772 w
(\347)4103 4672 w
(\347)4103 4572 w
(\347)4103 4472 w
(\347)4103 4372 w
(\347)4103 4272 w
10 R f
( format is a word indicating the)6 1386(When the identi\256er indicates a data block or variable block then the)11 2934 2 720 5252 t
(length followed by the data. ASCII strings are null terminated.)9 2572 1 720 5372 t
( included out of order.)4 926(Despite the \257exible encoding scheme, no \256eld of a data portion may be omitted or)14 3394 2 720 5612 t
(In addition, neither an smb)4 1106 1 720 5732 t
10 S f
(_)1826 5732 w
10 R f
(wct nor smb)2 510 1 1876 5732 t
10 S f
(_)2386 5732 w
10 R f
(bcc of value 0 at the end of a message may be omitted.)12 2283 1 2436 5732 t
10 B f
( Codes)1 294(7.3. Command)1 666 2 720 5972 t
10 R f
(The following values have been assigned for the protocol commands.)9 2845 1 720 6128 t
10 S1 f
(#)720 6308 w
10 R f
( create directory */)3 774( /*)1 250( 0x00)1 487(de\256ne SMBmkdir)1 728 4 770 6308 t
10 S1 f
(#)720 6428 w
10 R f
( delete directory */)3 775( /*)1 250( 0x01)1 504(de\256ne SMBrmdir)1 711 4 770 6428 t
10 S1 f
(#)720 6548 w
10 R f
( open \256le */)3 499( /*)1 250( 0x02)1 532(de\256ne SMBopen)1 683 4 770 6548 t
10 S1 f
(#)720 6668 w
10 R f
( create \256le */)3 542( /*)1 250( 0x03)1 489(de\256ne SMBcreate)1 726 4 770 6668 t
10 S1 f
(#)720 6788 w
10 R f
( close \256le */)3 510( /*)1 250( 0x04)1 521(de\256ne SMBclose)1 694 4 770 6788 t
10 S1 f
(#)720 6908 w
10 R f
( \257ush \256le */)3 500( /*)1 250( 0x05)1 531(de\256ne SMB\257ush)1 684 4 770 6908 t
10 S1 f
(#)720 7028 w
10 R f
( delete \256le */)3 543( /*)1 250( 0x06)1 470(de\256ne SMBunlink)1 745 4 770 7028 t
10 S1 f
(#)720 7148 w
10 R f
( rename \256le */)3 598( /*)1 250( 0x07)1 598(de\256ne SMBmv)1 617 4 770 7148 t
10 S1 f
(#)720 7268 w
10 R f
( get \256le attributes */)4 832( /*)1 250( 0x08)1 499(de\256ne SMBgetatr)1 716 4 770 7268 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 36 36
%%Page: 37 37
save
mark
37 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 37 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 S1 f
(#)720 840 w
10 R f
( set \256le attributes */)4 821( /*)1 250( 0x09)1 510(de\256ne SMBsetatr)1 705 4 770 840 t
10 S1 f
(#)720 960 w
10 R f
( read from \256le */)4 703( /*)1 228( 0x0A)1 577(de\256ne SMBread)1 660 4 770 960 t
10 S1 f
(#)720 1080 w
10 R f
( write to \256le */)4 621( /*)1 233( 0x0B)1 538(de\256ne SMBwrite)1 694 4 770 1080 t
10 S1 f
(#)720 1200 w
10 R f
( lock byte range */)4 775( /*)1 233( 0x0C)1 571(de\256ne SMBlock)1 661 4 770 1200 t
10 S1 f
(#)720 1320 w
10 R f
( unlock byte range */)4 875( /*)1 228( 0x0D)1 476(de\256ne SMBunlock)1 761 4 770 1320 t
10 S1 f
(#)720 1440 w
10 R f
( create temporary \256le */)4 985( /*)1 239( 0x0E)1 493(de\256ne SMBctemp)1 733 4 770 1440 t
10 S1 f
(#)720 1560 w
10 R f
( make new \256le */)4 720( /*)1 244( 0x0F)1 438(de\256ne SMBmknew)1 783 4 770 1560 t
10 S1 f
(#)720 1680 w
10 R f
( check directory path */)4 974( /*)1 250( 0x10)1 454(de\256ne SMBchkpth)1 761 4 770 1680 t
10 S1 f
(#)720 1800 w
10 R f
( process exit */)3 626( /*)1 250( 0x11)1 576(de\256ne SMBexit)1 639 4 770 1800 t
10 S1 f
(#)720 1920 w
10 R f
( seek */)2 321( /*)1 250( 0x12)1 521(de\256ne SMBlseek)1 694 4 770 1920 t
10 S1 f
(#)720 2040 w
10 R f
( tree connect */)3 636( /*)1 250( 0x70)1 554(de\256ne SMBtcon)1 661 4 770 2040 t
10 S1 f
(#)720 2160 w
10 R f
( tree disconnect */)3 753( /*)1 250( 0x71)1 581(de\256ne SMBtdis)1 634 4 770 2160 t
10 S1 f
(#)720 2280 w
10 R f
( negotiate protocol */)3 876( /*)1 250( 0x72)1 421(de\256ne SMBnegprot)1 794 4 770 2280 t
10 S1 f
(#)720 2400 w
10 R f
( get disk attributes */)4 871( /*)1 250( 0x80)1 454(de\256ne SMBdskattr)1 761 4 770 2400 t
10 S1 f
(#)720 2520 w
10 R f
( search directory */)3 791( /*)1 250( 0x81)1 472(de\256ne SMBsearch)1 743 4 770 2520 t
10 S1 f
(#)720 2640 w
10 R f
( open print spool \256le */)5 971( /*)1 233( 0xC0)1 432(de\256ne SMBsplopen)1 800 4 770 2640 t
10 S1 f
(#)720 2760 w
10 R f
( write to print spool \256le */)6 1093( /*)1 233( 0xC1)1 521(de\256ne SMBsplwr)1 711 4 770 2760 t
10 S1 f
(#)720 2880 w
10 R f
( close print spool \256le */)5 982( /*)1 233( 0xC2)1 421(de\256ne SMBsplclose)1 811 4 770 2880 t
10 S1 f
(#)720 3000 w
10 R f
( return print queue */)4 875( /*)1 233( 0xC3)1 471(de\256ne SMBsplretq)1 761 4 770 3000 t
10 S1 f
(#)720 3120 w
10 R f
( send single block message */)5 1225( /*)1 228( 0xD0)1 526(de\256ne SMBsends)1 711 4 770 3120 t
10 S1 f
(#)720 3240 w
10 R f
( send broadcast message */)4 1113( /*)1 228( 0xD1)1 515(de\256ne SMBsendb)1 722 4 770 3240 t
10 S1 f
(#)720 3360 w
10 R f
( forward user name */)4 907( /*)1 228( 0xD2)1 377(de\256ne SMBfwdname)1 860 4 770 3360 t
10 S1 f
(#)720 3480 w
10 R f
( cancel forward */)3 746( /*)1 228( 0xD3)1 461(de\256ne SMBcancelf)1 776 4 770 3480 t
10 S1 f
(#)720 3600 w
10 R f
( get machine name */)4 886( /*)1 228( 0xD4)1 460(de\256ne SMBgetmac)1 777 4 770 3600 t
10 S1 f
(#)720 3720 w
10 R f
( send start of multi-block message */)6 1519( /*)1 228( 0xD5)1 437(de\256ne SMBsendstrt)1 800 4 770 3720 t
10 S1 f
(#)720 3840 w
10 R f
( send end of multi-block message */)6 1491( /*)1 228( 0xD6)1 421(de\256ne SMBsendend)1 816 4 770 3840 t
10 S1 f
(#)720 3960 w
10 R f
( send text of multi-block message */)6 1497( /*)1 228( 0xD7)1 459(de\256ne SMBsendtxt)1 778 4 770 3960 t
10 B f
( Codes and Classes)3 833(7.4. Error)1 465 2 720 4260 t
(ERROR CLASS CODES)2 1095 1 720 4500 t
10 R f
( request was successful.)3 977( The)1 881(SUCCESS 0)1 1373 3 720 4716 t
( is generated by the server operating system.)7 1830( Error)1 936(ERRDOS 0x01)1 1373 3 720 4836 t
( is generated by the server network \256le manager.)8 2006( Error)1 936(ERRSRV 0x02)1 1373 3 720 4956 t
( is an hardware error \(MS-DOS int 24\).)7 1630( Error)1 936(ERRHRD 0x03)1 1373 3 720 5076 t
( was not in the)4 615( Command)1 1143(ERRCMD 0xFF)1 1373 3 720 5196 t
10 S1 f
(")3884 5196 w
10 R f
(SMB)3925 5196 w
10 S1 f
(")4137 5196 w
10 R f
(format. \(optional\))1 751 1 4211 5196 t
(The following error codes may be generated with the SUCCESS error class.)11 3127 1 720 5412 t
( request was successful.)3 977( The)1 1370(SUCCESS 0)1 1970 3 720 5592 t
( has been buffered)3 757( message)1 1553(BUFFERED 0x54)1 1970 3 720 5712 t
( has been logged)3 692( message)1 1553(LOGGED 0x55)1 1970 3 720 5832 t
( message displayed)2 787(DISPLAYED 0x56 user)2 3351 2 720 5952 t
( XENIX errors)2 666( The)1 250( codes may be generated with the ERRDOS error class.)9 2545(The following error)2 859 4 720 6168 t
(equivalent to each of these errors are noted at the end of the error description.)14 3206 1 720 6288 t
( not recognize or could not perform a)7 1586( server OS did)3 613( The)1 226( function.)1 396( Invalid)1 571(ERRbadfunc 1)1 927 6 720 6468 t
( by the server, e.g., set the DIRECTORY attribute on)9 2221(system call generated)2 883 2 1935 6588 t
(a data \256le, invalid seek mode. [EINVAL])6 1700 1 1935 6708 t
( component of a \256le's pathname could not be)8 2027( last)1 191( The)1 240( not found.)2 490( File)1 444(ERRbad\256le 2)1 927 6 720 6828 t
(found. [ENOENT])1 789 1 1935 6948 t
( in a pathname could not be)6 1290( directory component)2 914( A)1 160( invalid.)1 358( Directory)1 670(ERRbadpath 3)1 927 6 720 7068 t
(found. [ENOENT])1 789 1 1935 7188 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 37 37
%%Page: 38 38
save
mark
38 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 38 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
( \256le handles \(\256ds\) available.)4 1265( server has no)3 650( The)1 246( many open \256les.)3 782( Too)1 449(ERRno\256ds 4)1 927 6 720 840 t
([EMFILE])1935 960 w
( requested func-)2 672( denied, the requester's context does not permit the)8 2150( Access)1 570(ERRnoaccess 5)1 927 4 720 1080 t
( [EPERM])1 466( includes the following conditions.)4 1418(tion. This)1 425 3 1935 1200 t
(duplicate name errors)2 880 1 2067 1380 t
(invalid rename command)2 1031 1 2067 1500 t
(write to \256d open for read only)6 1246 1 2067 1620 t
(read on \256d open for write only)6 1268 1 2067 1740 t
(attempt to open read-only \256le for write)6 1601 1 2067 1860 t
(attempt to delete read-only \256le)4 1258 1 2067 1980 t
(attempt to set attributes of a read only \256le)8 1729 1 2067 2100 t
(attempt to create a \256le on a full server)8 1577 1 2067 2220 t
(directory full)1 532 1 2067 2340 t
(attempt to delete a non-empty directory)5 1618 1 2067 2460 t
(invalid \256le type \(e.g., \256le commands on a directory\))8 2142 1 2067 2580 t
( speci\256ed was not recognized by the)6 1585( \256le handle)2 488( The)1 235( \256le handle.)2 513( Invalid)1 538(ERRbad\256d 6)1 960 6 720 2760 t
(server. [EBADF])1 728 1 1935 2880 t
( [EREMOTEIO])1 709( control blocks destroyed.)3 1056( Memory)1 599(ERRbadmcb 7)1 960 4 720 3000 t
( [ENOMEM])1 576( server memory to perform the requested function.)7 2068( Insuf\256cient)1 710(ERRnomem 8)1 960 4 720 3120 t
( [EFAULT])1 515( memory block address.)3 978( Invalid)1 538(ERRbadmem 9)1 960 4 720 3240 t
( [EREMOTEIO])1 709( environment.)1 563( Invalid)1 538(ERRbadenv 10)1 960 4 720 3360 t
( [EREMOTEIO])1 709( format.)1 324(ERRbadformat 11 Invalid)2 1498 3 720 3480 t
( open mode.)2 507( Invalid)1 538(ERRbadaccess 12)1 960 3 720 3600 t
( [E2BIG])1 415( data \(generated only by IOCTL calls within the server\).)9 2317( Invalid)1 538(ERRbaddata 13)1 960 4 720 3720 t
( reserved)1 592(ERR 14)1 960 2 720 3840 t
( [ENXIO])1 442( drive speci\256ed.)2 651( Invalid)1 538(ERRbaddrive 15)1 960 4 720 3960 t
( Delete Directory request attempted to remove the server's current direc-)10 3032( A)1 327(ERRremcd 16)1 960 3 720 4080 t
(tory. [EREMOTEIO])1 895 1 1935 4200 t
( [EXDEV])1 470( same device \(e.g., a cross volume rename was attempted\))9 2388( Not)1 405(ERRdiffdevice 17)1 960 4 720 4320 t
( speci\256ed cri-)2 571( File Search command can \256nd no more \256les matching the)10 2461( A)1 327(ERRno\256les 18)1 960 4 720 4440 t
(teria.)1935 4560 w
( con\257icts)1 387( sharing mode speci\256ed for a non-compatibility mode Open)8 2562( The)1 410(ERRbadshare 32)1 960 4 720 4680 t
( [ETXTBSY])1 582(with existing FIDs on the \256le.)5 1235 2 1935 4800 t
( an invalid)2 478( Lock request con\257icted with an existing lock or speci\256ed)9 2554( A)1 327(ERRlock 33)1 960 4 720 4920 t
(mode, or an Unlock request attempted to remove a lock held by another)12 3104 1 1935 5040 t
(process. [EDEADLOCK])1 1066 1 1935 5160 t
( New File request already)4 1113( \256le named in a Create Directory or Make)8 1836( The)1 410(ERR\256lexists 80)1 960 4 720 5280 t
( transac-)1 351(exists. The error may also be generated in the Create and Rename)11 2753 2 1935 5400 t
(tions. [EEXIST])1 696 1 1935 5520 t
(The following error codes may be generated with the ERRSRV error class.)11 3082 1 720 5736 t
( is returned under the following conditions:)6 1780( It)1 127( error code.)2 472( Non-speci\256c)1 729(ERRerror 1)1 1204 5 720 5916 t
(resource other than disk space exhausted \(e.g., TIDs\))7 2172 1 2275 6096 t
(\256rst command on VC was not negotiate)6 1636 1 2275 6216 t
(multiple negotiates attempted)2 1199 1 2275 6336 t
(internal server error [ENFILE])3 1250 1 2275 6456 t
( password - name/password pair in a Tree Connect is invalid.)10 2523( Bad)1 380(ERRbadpw 2)1 1204 3 720 6636 t
( reserved)1 556(ERRbadtype 3)1 1204 2 720 6756 t
( the necessary access rights within the)6 1675( requester does not have)4 1064( The)1 374(ERRaccess 4)1 1204 4 720 6876 t
( [EACCES])1 516(speci\256ed TID context for the requested function.)6 1991 2 2143 6996 t
( tree ID \(tid\) speci\256ed in a command was invalid.)9 2052( The)1 374(ERRinvnid 5)1 1204 3 720 7116 t
( name supplied with tree connect.)5 1382( Invalid)1 502(ERRinvnetname 6)1 1204 3 720 7236 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 38 38
%%Page: 39 39
save
mark
39 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 39 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
( made to non-printer connection or)5 1544( device - printer request)4 1067( Invalid)1 502(ERRinvdevice 7)1 1204 4 720 840 t
(non-printer request made to printer connection.)5 1925 1 2143 960 t
( queue full \(\256les\) -- returned by open print \256le.)9 1941( Print)1 414(ERRqfull 49)1 1204 3 720 1080 t
( queue full -- no space.)5 954( Print)1 414(ERRqtoobig 50)1 1204 3 720 1200 t
( on print queue dump.)4 912( EOF)1 408(ERRqeof 51)1 1204 3 720 1320 t
( print \256le FID.)3 602( Invalid)1 502(ERRinvp\256d 52)1 1204 3 720 1440 t
( is paused.)2 435( Server)1 479(ERRpaused 81)1 1204 3 720 1560 t
( receiving messages.)2 839( Not)1 369(ERRmsgoff 82)1 1204 3 720 1680 t
( room to buffer message.)4 1027( No)1 341(ERRnoroom 83)1 1204 3 720 1800 t
( many remote user names.)4 1077( Too)1 380(ERRrmuns 87)1 1204 3 720 1920 t
( not supported.)2 613( Function)1 575(ERRnosupport 0xFFFF)1 1204 3 720 2040 t
( errors)1 294( XENIX)1 371( The)1 249(The following error codes may be generated with the ERRHRD error class.)11 3406 4 720 2256 t
(equivalent to each of these errors are noted at the end of the error description.)14 3206 1 720 2376 t
( [EROFS])1 444( to write on write-protected diskette.)5 1493( Attempt)1 1012(ERRnowrite 19)1 1367 4 720 2556 t
( [ENODEV])1 542( unit.)1 214( Unknown)1 1078(ERRbadunit 20)1 1367 4 720 2676 t
( [EUCLEAN])1 598( not ready.)2 440( Drive)1 911(ERRnotready 21)1 1367 4 720 2796 t
( disk command.)2 652( Invalid)1 967(ERRbadcmd 22)1 1367 3 720 2916 t
( [EIO])1 298( error \(CRC\).)2 551( Data)1 872(ERRdata 23)1 1367 4 720 3036 t
( [ERANGE])1 537( request structure length.)3 1011( Bad)1 845(ERRbadreq 24)1 1367 4 720 3156 t
( error.)1 251( Seek)1 878(ERRseek 25)1 1367 3 720 3276 t
( media type.)2 507(ERRbadmedia 26 Unknown)2 2445 2 720 3396 t
( not found.)2 452( Sector)1 939(ERRbadsector 27)1 1367 3 720 3516 t
( out of paper.)3 556( Printer)1 956(ERRnopaper 28)1 1367 3 720 3636 t
( fault.)1 241( Write)1 911(ERRwrite 29)1 1367 3 720 3756 t
( fault.)1 241( Read)1 889(ERRread 30)1 1367 3 720 3876 t
( failure.)1 318( General)1 999(ERRgeneral 31)1 1367 3 720 3996 t
( compatibility mode open con\257icts with an existing)7 2193( A)1 756(ERRbadshare 32)1 1367 3 720 4116 t
( [ETXTBSY])1 582(open on the \256le.)3 668 2 2771 4236 t
10 B f
( Handling)1 435(8. Exception)1 569 2 720 4536 t
10 R f
( supported by the \256le sharing protocol \(see)7 1846(Exception handling is built upon the various environments)7 2474 2 720 4692 t
( either an orderly or)4 908(ARCHITECTURAL MODEL section\). When any environment is dissolved \(in)8 3412 2 720 4812 t
( hierarchy of environments is summar-)5 1600( The)1 223( all contained environments are dissolved.)5 1731(disorderly fashion\))1 766 4 720 4932 t
(ized below:)1 471 1 720 5052 t
(Virtual Circuit)1 594 1 1080 5232 t
(TID)1410 5352 w
(PID)1410 5472 w
(FID)1410 5592 w
( a VC is dis-)4 536( When)1 305( this summary, the Virtual Circuit \(VC\) is the key environment.)10 2633(As can be seen from)4 846 4 720 5772 t
( server processes \(or equivalent\) are terminated; the TIDs, PIDs and FIDs are invalidated, and)14 3900(solved the)1 420 2 720 5892 t
(any outstanding request is dropped -- a response will not be generated.)11 2905 1 720 6012 t
( destruction of TIDs and FIDs has no)7 1638( The)1 235( a PID will close all FIDs it contains.)8 1656(The termination of)2 791 4 720 6252 t
(affect on other environments.)3 1199 1 720 6372 t
(If the server receives a message with a bad format, e.g., lacks the)12 2808 1 720 6612 t
10 S1 f
(")3571 6612 w
10 R f
(FFSMB)3612 6612 w
10 S1 f
(")3936 6612 w
10 R f
( may abort the)3 631(header, it)1 389 2 4020 6612 t
(VC.)720 6732 w
( consumer within n seconds, it considers the consumer dead)9 2472(If a server is unable to deliver responses to a)9 1848 2 720 6972 t
(and drops the VC to it \(we anticipate that n will be a function of the transport round trip delay time\).)20 4169 1 720 7092 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
cleartomark
showpage
restore
%%EndPage: 39 39
%%Page: 40 40
save
mark
40 pagesetup
10 R f
(-- --)1 5472 1 0 40 t
( 7, 1988)2 341( November)1 1703( 40 -)2 199( -)1 1205(File Sharing Protocol)2 872 5 720 520 t
10 B f
(Appendix A - An Example)4 1161 1 2299 840 t
10 R f
( running a server that)4 896(In this example a MS-DOS machine will access a \256le on a remote machine that is)15 3424 2 720 996 t
(supports MS-DOS \256le sharing.)3 1263 1 720 1116 t
( MS-DOS machine has obtained a virtual circuit \(VC\))8 2254(STEP 1: Using protocols described elsewhere, the)6 2066 2 720 1356 t
( MS-DOS machine will then generate)5 1556( The)1 223( on the remote machine.)4 1002(to the server)2 515 4 720 1476 t
10 S1 f
(")4051 1476 w
10 R f
(Negotiate Message)1 772 1 4092 1476 t
10 S1 f
(")4864 1476 w
10 R f
(on)4940 1476 w
(the VC with a dialect \256eld that contains)7 1732 1 720 1596 t
10 S1 f
(")2498 1596 w
10 R f
(PC NETWORK PROGRAM 1.0)3 1383 1 2539 1596 t
10 S1 f
(")3922 1596 w
10 R f
( remote server will)3 817(. The)1 260 2 3963 1596 t
(respond with a)2 622 1 720 1716 t
10 S1 f
(")1384 1716 w
10 R f
( Message)1 390(Negotiate Reply)1 669 2 1425 1716 t
10 S1 f
(")2484 1716 w
10 R f
(which will contain the index of the dialect string that con-)10 2474 1 2566 1716 t
(tained)720 1836 w
10 S1 f
(")1002 1836 w
10 R f
( 1.0)1 164(PC NETWORK PROGRAM)2 1193 2 1043 1836 t
10 S1 f
(")2400 1836 w
10 R f
(, in this case 1, which indicates that it will service that proto-)12 2599 1 2441 1836 t
(col.)720 1956 w
(STEP 2: The MS-DOS machine now generates a)7 2034 1 720 2196 t
10 S1 f
(")2791 2196 w
10 R f
(Tree Connect Message)2 938 1 2832 2196 t
10 S1 f
(")3770 2196 w
10 R f
( pathname and a pass-)4 933(with a)1 259 2 3848 2196 t
( remote server will respond with a)6 1508(word. The)1 468 2 720 2316 t
10 S1 f
(")2745 2316 w
10 R f
(Tree Connect Response Message)3 1394 1 2786 2316 t
10 S1 f
(")4180 2316 w
10 R f
(indicating that the)2 770 1 4270 2316 t
( A)1 148( to the associated sub-tree.)4 1128(password has been validated permitting access)5 1945 3 720 2436 t
10 S1 f
(")3984 2436 w
10 R f
(Tree ID)1 330 1 4025 2436 t
10 S1 f
(")4355 2436 w
10 R f
(is returned for)2 601 1 4439 2436 t
(future use.)1 429 1 720 2556 t
( would be in)3 536( This)1 248(STEP 3: The MS-DOS machine wishes to open and read a \256le on the remote server.)15 3536 3 720 2796 t
( gen-)1 220( MS-DOS machine will)3 1004( The)1 232(response to a program that referenced a \256le on that remote system.)11 2864 4 720 2916 t
(erate, in response to a user program open, an)8 1960 1 720 3036 t
10 S1 f
(")2727 3036 w
10 R f
(Open Message)1 612 1 2768 3036 t
10 S1 f
(")3380 3036 w
10 R f
(with the)1 348 1 3469 3036 t
10 S1 f
(")3865 3036 w
10 R f
(\256le path)1 348 1 3906 3036 t
10 S1 f
(")4254 3036 w
10 R f
(of the \256le to be)4 697 1 4343 3036 t
( \256le-path must not contain the path)6 1568( The)1 242( the mode information and the tree id.)7 1712(opened along with)2 798 4 720 3156 t
( server will respond with a)5 1102( The)1 221(speci\256ed in the tree connect message.)5 1542 3 720 3276 t
10 S1 f
(")3618 3276 w
10 R f
(Open Reply Message)2 872 1 3659 3276 t
10 S1 f
(")4531 3276 w
10 R f
(which will)1 434 1 4606 3276 t
( will also return the \256le size and modi\256cation time.)9 2110( It)1 127(contain a \256le handle for use with future messages.)8 2063 3 720 3396 t
( will gen-)2 409( It)1 132( machine now reads the \256le, in response to user program \256le reads.)12 2823(STEP 4: The MS-DOS)3 956 4 720 3636 t
(erate a)1 283 1 720 3756 t
10 S1 f
(")1049 3756 w
10 R f
(Read Message)1 600 1 1090 3756 t
10 S1 f
(")1690 3756 w
10 R f
(with the)1 346 1 1777 3756 t
10 S1 f
(")2169 3756 w
10 R f
(\256le handle)1 440 1 2210 3756 t
10 S1 f
(")2650 3756 w
10 R f
(obtained from the)2 752 1 2737 3756 t
10 S1 f
(")3535 3756 w
10 R f
(open message)1 578 1 3576 3756 t
10 S1 f
(")4154 3756 w
10 R f
( message will)2 586(. The)1 259 2 4195 3756 t
( the \256le to start reading, and possibly count indi-)9 2028(contain a count of bytes to be read and an offset within)11 2292 2 720 3876 t
( server will respond with a)5 1162( The)1 233(cating future requests.)2 924 3 720 3996 t
10 S1 f
(")3084 3996 w
10 R f
(Read Reply Message)2 883 1 3125 3996 t
10 S1 f
(")4008 3996 w
10 R f
(with the count of data)4 947 1 4093 3996 t
(read and the data.)3 727 1 720 4116 t
( Some number of)3 724(STEP 5:)1 347 2 720 4356 t
10 S1 f
(")1827 4356 w
10 R f
(Read Messages)1 629 1 1868 4356 t
10 S1 f
(")2497 4356 w
10 R f
(and possibly)1 514 1 2574 4356 t
10 S1 f
(")3124 4356 w
10 R f
(Write Messages)1 651 1 3165 4356 t
10 S1 f
(")3816 4356 w
10 R f
(are transmitted, and eventu-)3 1147 1 3893 4356 t
( MS-DOS machine will generate a)5 1498( The)1 237( is closed by the user process.)6 1328(ally the \256le)2 500 4 720 4476 t
10 S1 f
(")4332 4476 w
10 R f
(Close Message)1 626 1 4373 4476 t
10 S1 f
(")4999 4476 w
10 R f
(which contains the)2 783 1 720 4596 t
10 S1 f
(")1545 4596 w
10 R f
(\256le handle)1 436 1 1586 4596 t
10 S1 f
(")2022 4596 w
10 R f
(obtained from the)2 744 1 2105 4596 t
10 S1 f
(")2892 4596 w
10 R f
(Open Response Message)2 1034 1 2933 4596 t
10 S1 f
(")3967 4596 w
10 R f
(and a new modi\256cation)3 989 1 4051 4596 t
( server responds with a)4 952(time. The)1 424 2 720 4716 t
10 S1 f
(")2129 4716 w
10 R f
(Close Response Message)2 1026 1 2170 4716 t
10 S1 f
(")3196 4716 w
10 R f
(.)3237 4716 w
( MS-DOS machine generates a)4 1320(STEP 6: At some time the)5 1148 2 720 4956 t
10 S1 f
(")3234 4956 w
10 R f
(Tree Disconnect Message)2 1072 1 3275 4956 t
10 S1 f
(")4347 4956 w
10 R f
(and receives a)2 606 1 4434 4956 t
10 S1 f
(")720 5076 w
10 R f
(Tree Disconnect Response Message.)3 1487 1 761 5076 t
10 S1 f
(")2248 5076 w
10 R f
(At this point the VC may be de-allocated.)7 1721 1 2355 5076 t
( PN 138446)2 494( INTEL)1 2219(Copyright Microsoft Corp., 1987, 1988)4 1607 3 720 7680 t
(-- --)1 5472 1 0 7950 t
cleartomark
showpage
restore
%%EndPage: 40 40
%%Trailer
done
%%DocumentFonts: Times-Roman Times-Bold Times-Italic Symbol
%%Pages: 40
